<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>js 数组详细操作方法及解析 | Kifroom</title><meta name="keywords" content="javascript,数组"><meta name="author" content="kif"><meta name="copyright" content="kif"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="js 数组详细操作方法及解析"><meta name="application-name" content="js 数组详细操作方法及解析"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="js 数组详细操作方法及解析"><meta property="og:url" content="https://wkif.gitee.io/post/e4e8.html"><meta property="og:site_name" content="Kifroom"><meta property="og:description" content="创建一个数组:    &amp;#x2F;&amp;#x2F; 字面量方式:     &amp;#x2F;&amp;#x2F; 这个方法也是我们最常用的，在初始化数组的时候 相当方便     var a &amp;#x3D; [3, 11, 8];  &amp;#x2F;&amp;#x2F; [3,11,8];     &amp;#x2F;&amp;#x2F; 构造器:     &amp;#x2F;&amp;#x2F; 实际上 new Array &amp;#x3D;&amp;#x3D;&amp;#x3D; Array,加不加new 一点影响都没"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://kifimg.oss-cn-beijing.aliyuncs.com/img/202301101122188.png"><meta property="article:author" content="kif"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://kifimg.oss-cn-beijing.aliyuncs.com/img/202301101122188.png"><meta name="description" content="创建一个数组:    &amp;#x2F;&amp;#x2F; 字面量方式:     &amp;#x2F;&amp;#x2F; 这个方法也是我们最常用的，在初始化数组的时候 相当方便     var a &amp;#x3D; [3, 11, 8];  &amp;#x2F;&amp;#x2F; [3,11,8];     &amp;#x2F;&amp;#x2F; 构造器:     &amp;#x2F;&amp;#x2F; 实际上 new Array &amp;#x3D;&amp;#x3D;&amp;#x3D; Array,加不加new 一点影响都没"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://wkif.gitee.io/post/e4e8"><link rel="preconnect" href="//npm.elemecdn.com"/><link rel="preconnect" href="//npm.onmicrosoft.cn"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: {"mode":"api","api":"https://img2color-go.vercel.app/api?img=","cover_change":true},
  authorStatus: {"skills":null},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: kif","link":"链接: ","source":"来源: Kifroom","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#3b70fc","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Kifroom',
  title: 'js 数组详细操作方法及解析',
  postAI: '',
  pageFillDescription: '创建一个数组, ES6 Array.of()  返回由所有参数值组成的数组, ES6 Arrary.from() 将两类对象转为真正的数组, 方法, 改变原数组的方法(9个), splice() 添加x2F删除数组元素, sort() 数组排序, pop() 删除一个数组中的最后的一个元素, shift() 删除数组的第一个元素, push() 向数组的末尾添加元素, unshift(), reverse() 颠倒数组中元素的顺序, ES6 copyWithin() 指定位置的成员复制到其他位置, ES6 fill() 填充数组, 不改变原数组的方法(8个), slice() 浅拷贝数组的元素, join()  数组转字符串, toLocaleString() 数组转字符串, toString() 数组转字符串 不推荐, cancat, indexOf() 查找数组是否存在某个元素返回下标, lastIndexOf() 查找指定元素在数组中的最后一个位置, ES7 includes() 查找数组是否包含某个元素 返回布尔, 遍历方法(12个), 关于遍历：, forEach, 下面类似语法同样适用这些规则, every 检测数组所有元素是否都符合判断条件, some 数组中的是否有满足判断条件的元素, filter 过滤原始数组返回新数组, map 对数组中的每个元素进行处理返回新的数组, reduce 为数组提供累加器合并为一个值, reduceRight  从右至左累加, ES6：find()amp findIndex() 根据条件找到数组成员, ES6 keys()ampvalues()ampentries() 遍历键名、遍历键值、遍历键名+键值创建一个数组字面量方式这个方法也是我们最常用的在初始化数组的时候相当方便构造器实际上加不加一点影响都没有复制代码返回由所有参数值组成的数组定义返回由所有参数值组成的数组如果没有参数就返回一个空数组目的出现的目的是为了解决上述构造器因参数个数不同导致的行为有差异的问题复制代码将两类对象转为真正的数组定义用于将两类对象转为真正的数组不改变原对象返回新的数组参数第一个参数必需要转化为真正数组的对象第二个参数可选类似数组的方法对每个元素进行处理将处理后的值放入返回的数组第三个参数可选用来绑定对象拥有属性部署了接口的数据结构比如字符串对象复制代码方法数组原型提供了非常多的方法这里分为三类来讲一类会改变原数组的值一类是不会改变原数组以及数组的遍历方法改变原数组的方法个复制代码对于这些能够改变原数组的方法要注意避免在循环遍历中改变原数组的选项比如改变数组的长度导致遍历的长度出现问题添加删除数组元素定义方法向从数组中添加删除项目然后返回被删除的项目语法参数必需整数规定添加删除项目的位置使用负数可从数组结尾处规定位置可选要删除的项目数量如果设置为则不会删除项目可选向数组添加的新项目返回值如果有元素被删除返回包含被删除项目的新数组删除元素从数组下标开始删除个元素从最后一个元素开始删除个元素因为最后一个元素所以只删除了复制代码删除并添加添加添加从数组下标开始删除个元素并添加元素添加添加添加添加添加从数组最后第二个元素开始删除个元素并添加两个元素添加添加复制代码不删除只添加添加添加没有删除元素返回空数组添加添加添加添加没有删除元素返回空数组添加添加在最后一个元素的前面添加两个元素复制代码从上述三个栗子可以得出数组如果元素不够会删除到最后一个元素为止操作的元素包括开始的那个元素可以添加很多个元素添加是在开始的元素前面添加的数组排序定义方法对数组元素进行排序并返回这个数组参数可选规定排序顺序的比较函数默认情况下方法没有传比较函数的话默认按字母升序如果不是元素不是字符串的话会调用方法将元素转化为字符串的万国码位点然后再比较字符字符串排列看起来很正常数字排序的时候因为转换成字符串之后有些数字会比较大会排在后面这显然不是我们想要的复制代码比较函数的两个参数的比较函数有两个默认参数要在函数中接收这两个参数这两个参数是数组中两个要比较的元素通常我们用和接收两个将要比较的元素若比较函数返回值那么将排到的前面若比较函数返回值那么和相对位置不变若比较函数返回值那么排在将的前面对于方法更深层级的内部实现以及处理机制可以看一下这篇文章深入了解的方法排序常见用法数组元素为数字的升序降序升序将排到的前面按照的大小来排序的比如被减数是减数是被减数在减数前面降序被减数和减数调换了被减数在减数的前面复制代码数组多条件排序如果的值相等按照的值降序如果的值不相等按照的值升序复制代码自定义比较函数天空才是你的极限类似的运用好返回值我们可以写出任意符合自己需求的比较函数如果是返回排在的前面如果不是的话排在的后面复制代码删除一个数组中的最后的一个元素定义方法删除一个数组中的最后的一个元素并且返回这个元素参数无复制代码删除数组的第一个元素定义方法删除数组的第一个元素并返回这个元素参数无复制代码向数组的末尾添加元素定义方法可向数组的末尾添加一个或多个元素并返回新的长度参数要添加到数组末尾的元素末尾末尾复制代码定义方法可向数组的开头添加一个或更多元素并返回新的长度参数要添加到数组开头的元素开头开头复制代码颠倒数组中元素的顺序定义方法用于颠倒数组中元素的顺序参数无复制代码指定位置的成员复制到其他位置定义在当前数组内部将指定位置的成员复制到其他位置并返回这个数组语法复制代码参数三个参数都是数值如果不是会自动转为数值必需从该位置开始替换数据如果为负值表示倒数可选从该位置开始读取数据默认为如果为负值表示倒数可选到该位置前停止读取数据默认等于数组长度使用负数可从数组结尾处规定位置浏览器兼容不支持相当于号位相当于号位位置开始被替换位置开始读取要替换的位置前面停止替换复制代码从上述栗子第一个参数是开始被替换的元素位置要替换数据的位置范围从第二个参数是开始读取的元素在第三个参数前面一个元素停止读取数组的长度不会改变读了几个元素就从开始被替换的地方替换几个元素填充数组定义使用给定值填充一个数组参数第一个元素必须要填充数组的值第二个元素可选填充的开始位置默认值为第三个元素可选填充的结束位置默认是为浏览器兼容复制代码不改变原数组的方法个复制代码浅拷贝数组的元素定义方法返回一个从开始到结束不包括结束选择的数组的一部分浅拷贝到一个新数组对象且原数组不会被修改注意字符串也有一个方法是用来提取字符串的不要弄混了语法复制代码参数可选索引数值接受负值从该索引处开始提取原数组中的元素默认值为可选索引数值不包括接受负值在该索引处前结束提取原数组元素默认值为数组末尾包括最后一个元素改变原数组改变原数组改变拷贝的数组改变原数组改变拷贝的数组复制代码如上新数组是浅拷贝的元素是简单数据类型改变之后不会互相干扰如果是复杂数据类型对象数组的话改变其中一个另外一个也会改变改变原数组改变原数组改变原数组改变拷贝数组改变拷贝数组改变拷贝数组改变拷贝数组改变拷贝数组改变拷贝数组复制代码原因在定义上面说过了的是浅拷贝对于复杂的数据类型浅拷贝拷贝的只是指向原数组的指针所以无论改变原数组还是浅拷贝的数组都是改变原数组的数据数组转字符串定义方法用于把数组中的所有元素通过指定的分隔符进行分隔放入一个字符串返回生成的字符串语法复制代码参数可选指定要使用的分隔符默认使用逗号作为分隔符复制代码使用方法或者下文说到的方法时当数组中的元素也是数组或者是对象时会出现什么情况对象转字符串推荐复制代码所以方法在数组元素是数组的时候会将里面的数组也调用如果是对象的话对象会被转为字符串数组转字符串定义返回一个表示数组元素的字符串该字符串由数组中的每个元素的返回值经调用方法连接由逗号隔开组成语法复制代码参数无下午复制代码如上述栗子调用数组的方法数组中的每个元素都会调用自身的方法对象调用对象的调用的数组转字符串不推荐定义方法可把数组转换为由逗号链接起来的字符串语法复制代码参数无该方法的效果和方法一样都是用于数组转字符串的但是与方法相比没有优势也不能自定义字符串的分隔符因此不推荐使用值得注意的是当数组和字符串操作的时候会调用这个方法将数组自动转换成字符串演示演示调用连接在我后面啦啦啦调用连接在我后面啦啦啦复制代码定义方法用于合并两个或多个数组返回一个新数组语法复制代码参数必须该参数可以是具体的值也可以是数组对象可以是任意多个连接两个数组连接三个数组添加元素添加元素再加一个添加元素再加一个合并嵌套数组会浅拷贝嵌套数组复制代码扩展运算符合并数组因为的语法更简洁易懂所以现在合并数组我大部分采用来处理运算符可以实现的每个栗子且更简洁和具有高度自定义数组元素位置的效果复制代码更多关于扩展符的详细内容移步阮一峰大神的入门查找数组是否存在某个元素返回下标定义返回在数组中可以找到一个给定元素的第一个索引如果不存在则返回语法复制代码参数必须被查找的元素可选开始查找的位置不能大于等于数组的长度返回接受负值默认值为严格相等的搜索数组的搜索跟字符串的不一样数组的使用严格相等搜索元素即数组元素要完全匹配才能搜索成功注意不能识别啦啦啦啦啦复制代码使用场景数组去重根据获取的数组下标执行操作改变数组中的值等判断是否存在执行操作查找指定元素在数组中的最后一个位置定义方法返回指定元素在数组中的最后一个的索引如果不存在则返回从数组后面往前查找语法复制代码参数必须被查找的元素可选逆向查找开始位置默认值数组的长度即查找整个数组关于有三个规则正值如果该值大于或等于数组的长度则整个数组会被查找负值将其视为从数组末尾向前的偏移比如从数组最后第二个元素开始往前查找负值其绝对值大于数组长度则方法返回即数组不会被查找数组长度为从下标开始往前找返回下标大于或数组的长度查找整个数组返回数组不会被查找从第二个元素往前查找没有找到返回复制代码查找数组是否包含某个元素返回布尔定义返回一个布尔值表示某个数组是否包含给定的值语法复制代码参数必须被查找的元素可选默认值为参数表示搜索的起始位置接受负值正值超过数组长度数组不会被搜索返回负值绝对值超过长数组度重置从开始搜索方法是为了弥补方法的缺陷而出现的方法不能识别方法检查是否包含某个值不够语义化需要判断是否不等于表达不够直观识别超过数组长度不搜索从倒数第三个元素开始搜索负值绝对值超过数组长度搜索整个数组复制代码兼容性未实现遍历方法个中遍历数组并不会改变原始数组的方法总共有个复制代码关于遍历关于遍历的效率可以看一下这篇详解遍历尽量不要在遍历的时候修改后面要遍历的值尽量不要在遍历的时候修改数组的长度删除添加定义按升序为数组中含有效值的每一项执行一次回调函数语法复制代码参数必须数组中每个元素需要调用的函数回调函数的参数必须数组当前元素的值可选当前元素的索引值可选数组对象本身复制代码可选当执行回调函数时绑定对象的值默认值为关于你要知道无法中途退出循环只能用退出本次回调进行下一次回调它总是返回值即使你了一个值下面类似语法同样适用这些规则对于空数组是不会执行回调函数的对于已在迭代过程中删除的元素或者空元素会跳过回调函数遍历次数再第一次循环前就会确定再添加到数组中的元素不会被遍历如果已经存在的值被改变则传递给的值是遍历到他们那一刻的值复制代码最后第二个元素是空的不会遍历会遍历改变元素添加到尾端不会被遍历传递的第一个参数分别打印改变元素打印三次绑定在对象上会报错只能结束本次回调会执行下次回调不会执行因为会执行下一次循环回调即使了一个值也还是返回回调函数也接受接头函数写法复制代码检测数组所有元素是否都符合判断条件定义方法用于检测数组所有元素是否都符合函数定义的条件语法复制代码参数这几个方法的参数语法都类似必须数组中每个元素需要调用的函数回调函数的参数必须数组当前元素的值可选当前元素的索引值可选数组对象本身复制代码可选当执行回调函数时绑定对象的值默认值为方法返回值规则如果数组中检测到有一个元素不满足则整个表达式返回且剩余的元素不会再进行检测如果所有元素都满足条件则返回判断数组中的所有元素是否都大于接受箭头函数写法复制代码数组中的是否有满足判断条件的元素定义数组中的是否有满足判断条件的元素语法复制代码参数这几个方法的参数语法都类似必须数组中每个元素需要调用的函数回调函数的参数必须数组当前元素的值可选当前元素的索引值可选数组对象本身复制代码可选当执行回调函数时绑定对象的值默认值为方法返回值规则如果有一个元素满足条件则表达式返回剩余的元素不会再执行检测如果没有满足条件的元素则返回数组中是否有一个元素大于复制代码过滤原始数组返回新数组定义返回一个新数组其包含通过所提供函数实现的测试的所有元素语法复制代码参数这几个方法的参数语法都类似必须数组中每个元素需要调用的函数回调函数的参数必须数组当前元素的值可选当前元素的索引值可选数组对象本身复制代码可选当执行回调函数时绑定对象的值默认值为返回数组中所有大于的元素复制代码对数组中的每个元素进行处理返回新的数组定义创建一个新数组其结果是该数组中的每个元素都调用一个提供的函数后返回的结果语法复制代码参数这几个方法的参数语法都类似必须数组中每个元素需要调用的函数回调函数的参数必须数组当前元素的值可选当前元素的索引值可选数组对象本身复制代码可选当执行回调函数时绑定对象的值默认值为新数组的新元素新数组的新元素新数组的新元素新数组的新元素新数组的新元素复制代码为数组提供累加器合并为一个值定义方法对累加器和数组中的每个元素从左到右应用一个函数最终合并为一个值语法复制代码参数必须数组中每个元素需要调用的函数回调函数的参数必须初始值或者上一次调用回调返回的值必须数组当前元素的值可选当前元素的索引值可选数组对象本身复制代码可选指定第一次回调的第一个参数回调第一次执行时如果在调用时被提供那么第一个将等于此时等于数组中的第一个值如果未被提供那么等于数组中的第一个值等于数组中的第二个值此时如果数组为空那么将抛出如果数组仅有一个元素并且没有提供或提供了但数组为空那么回调不会被执行数组的唯一值将被返回数组求和将二维数组转化为一维将数组元素展开复制代码从右至左累加这个方法除了与执行方向相反外其他完全与其一致请参考上述方法介绍根据条件找到数组成员定义用于找出第一个符合条件的数组成员并返回该成员如果没有符合条件的成员则返回定义返回第一个符合条件的数组成员的位置如果所有成员都不符合条件则返回这两个方法语法复制代码参数这几个方法的参数语法都类似必须数组中每个元素需要调用的函数回调函数的参数必须数组当前元素的值可选当前元素的索引值可选数组对象本身复制代码可选当执行回调函数时绑定对象的值默认值为这两个方法都可以识别弥补了的不足返回元素返回元素返回索引返回索引复制代码浏览器兼容遍历键名遍历键值遍历键名键值定义三个方法都返回一个新的对象对象根据方法不同包含不同的值语法复制代码参数无遍历栗子摘自入门复制代码在中如果遍历中途要退出可以使用退出循环如果不使用循环可以手动调用遍历器对象的方法进行遍历复制代码浏览器兼容性浏览器兼容性注意目前只有支持其他浏览器未实现转码器也还未实现转载自',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-01-10 11:23:08',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.kifroom.icu/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/ico.png" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://kifnav.kifroom.icu/" title="kifNav"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifnav.kifroom.icu/favicon.ico" alt="kifNav"/><span class="back-menu-item-text">kifNav</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">Kifroom</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/links/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/message-board/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Axios/" style="font-size: 1.05rem;">Axios<sup>3</sup></a><a href="/tags/C-S-N/" style="font-size: 1.05rem;">C.S.N<sup>1</sup></a><a href="/tags/Ckeditor4/" style="font-size: 1.05rem;">Ckeditor4<sup>1</sup></a><a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 1.05rem;">C语言<sup>3</sup></a><a href="/tags/Django/" style="font-size: 1.05rem;">Django<sup>1</sup></a><a href="/tags/Excel/" style="font-size: 1.05rem;">Excel<sup>1</sup></a><a href="/tags/Oracle/" style="font-size: 1.05rem;">Oracle<sup>1</sup></a><a href="/tags/Python/" style="font-size: 1.05rem;">Python<sup>1</sup></a><a href="/tags/RSA/" style="font-size: 1.05rem;">RSA<sup>1</sup></a><a href="/tags/SQL/" style="font-size: 1.05rem;">SQL<sup>1</sup></a><a href="/tags/VS-code/" style="font-size: 1.05rem;">VS code<sup>1</sup></a><a href="/tags/Vue-js/" style="font-size: 1.05rem;">Vue.js<sup>2</sup></a><a href="/tags/Win/" style="font-size: 1.05rem;">Win<sup>3</sup></a><a href="/tags/dom-to-image/" style="font-size: 1.05rem;">dom-to-image<sup>1</sup></a><a href="/tags/express/" style="font-size: 1.05rem;">express<sup>1</sup></a><a href="/tags/git/" style="font-size: 1.05rem;">git<sup>1</sup></a><a href="/tags/hexo/" style="font-size: 1.05rem;">hexo<sup>5</sup></a><a href="/tags/javascript/" style="font-size: 1.05rem;">javascript<sup>7</sup></a><a href="/tags/kali/" style="font-size: 1.05rem;">kali<sup>1</sup></a><a href="/tags/leetcode/" style="font-size: 1.05rem;">leetcode<sup>1</sup></a><a href="/tags/lerna/" style="font-size: 1.05rem;">lerna<sup>1</sup></a><a href="/tags/linux/" style="font-size: 1.05rem;">linux<sup>1</sup></a><a href="/tags/matery/" style="font-size: 1.05rem;">matery<sup>2</sup></a><a href="/tags/monorepo/" style="font-size: 1.05rem;">monorepo<sup>1</sup></a><a href="/tags/node-js/" style="font-size: 1.05rem;">node.js<sup>2</sup></a><a href="/tags/pinia/" style="font-size: 1.05rem;">pinia<sup>1</sup></a><a href="/tags/pyqt/" style="font-size: 1.05rem;">pyqt<sup>1</sup></a><a href="/tags/this/" style="font-size: 1.05rem;">this<sup>1</sup></a><a href="/tags/vite/" style="font-size: 1.05rem;">vite<sup>2</sup></a><a href="/tags/vue3/" style="font-size: 1.05rem;">vue3<sup>3</sup></a><a href="/tags/webpack/" style="font-size: 1.05rem;">webpack<sup>1</sup></a><a href="/tags/workspace/" style="font-size: 1.05rem;">workspace<sup>1</sup></a><a href="/tags/%E5%85%BC%E5%AE%B9%E6%80%A7/" style="font-size: 1.05rem;">兼容性<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.05rem;">前端<sup>1</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/" style="font-size: 1.05rem;">开发规范<sup>2</sup></a><a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 1.05rem;">微信小程序<sup>4</sup></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 1.05rem;">操作系统<sup>3</sup></a><a href="/tags/%E6%95%B0%E7%BB%84/" style="font-size: 1.05rem;">数组<sup>1</sup></a><a href="/tags/%E7%BD%91%E7%AB%99%E4%BE%BF%E7%AD%BE/" style="font-size: 1.05rem;">网站便签<sup>1</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 1.05rem;">面试<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">九月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url">转载</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%BD%AC%E8%BD%BD/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url">学习笔记</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/javascript/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>javascript</span></a><a class="article-meta__tags" href="/tags/%E6%95%B0%E7%BB%84/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>数组</span></a></span></div></div><h1 class="post-title" itemprop="name headline">js 数组详细操作方法及解析</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2023-01-10T03:18:00.000Z" title="发表于 2023-01-10 11:18:00">2023-01-10</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2023-01-10T03:23:08.955Z" title="更新于 2023-01-10 11:23:08">2023-01-10</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">7.4k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>27分钟</span></span><span class="post-meta-separator"></span><span class="leancloud_visitors" id="/post/e4e8.html" data-flag-title="js 数组详细操作方法及解析"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span class="leancloud-visitors-count" title="访问量"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为北京"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>北京</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://kifimg.oss-cn-beijing.aliyuncs.com/img/202301101122188.png"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://wkif.gitee.io/post/e4e8.html"><header><a class="post-meta-categories" href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url">转载</a><a class="post-meta-categories" href="/categories/%E8%BD%AC%E8%BD%BD/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url">学习笔记</a><a href="/tags/javascript/" tabindex="-1" itemprop="url">javascript</a><a href="/tags/%E6%95%B0%E7%BB%84/" tabindex="-1" itemprop="url">数组</a><h1 id="CrawlerTitle" itemprop="name headline">js 数组详细操作方法及解析</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">kif</span><time itemprop="dateCreated datePublished" datetime="2023-01-10T03:18:00.000Z" title="发表于 2023-01-10 11:18:00">2023-01-10</time><time itemprop="dateCreated datePublished" datetime="2023-01-10T03:23:08.955Z" title="更新于 2023-01-10 11:23:08">2023-01-10</time></header><h3 id="创建一个数组"><a href="#创建一个数组" class="headerlink" title="创建一个数组:"></a>创建一个数组:</h3><pre class="line-numbers language-less" data-language="less"><code class="language-less">    <span class="token comment">// 字面量方式:</span>
    <span class="token comment">// 这个方法也是我们最常用的，在初始化数组的时候 相当方便</span>
    var a = [3<span class="token punctuation">,</span> 11<span class="token punctuation">,</span> 8]<span class="token punctuation">;</span>  <span class="token comment">// [3,11,8];</span>
    <span class="token comment">// 构造器:</span>
    <span class="token comment">// 实际上 new Array === Array,加不加new 一点影响都没有。</span>
    var a = <span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [] </span>
    var a = <span class="token function">Array</span><span class="token punctuation">(</span>3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [,,] </span>
    var a = <span class="token function">Array</span><span class="token punctuation">(</span>3<span class="token punctuation">,</span>11<span class="token punctuation">,</span>8<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 3,11,8 ]</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ES6-Array-of-返回由所有参数值组成的数组"><a href="#ES6-Array-of-返回由所有参数值组成的数组" class="headerlink" title="ES6 Array.of()  返回由所有参数值组成的数组"></a>ES6 Array.of()  返回由所有参数值组成的数组</h4><p>定义：返回由所有参数值组成的数组，如果没有参数，就返回一个空数组。</p>
<p>目的：Array.of() 出现的目的是为了解决上述构造器因参数个数不同，导致的行为有差异的问题。</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">let a</span> <span class="token punctuation">=</span> <span class="token value attr-value">Array.of(3, 11, 8); // [3,11,8]</span>
    <span class="token key attr-name">let a</span> <span class="token punctuation">=</span> <span class="token value attr-value">Array.of(3); // [3]</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="ES6-Arrary-from-将两类对象转为真正的数组"><a href="#ES6-Arrary-from-将两类对象转为真正的数组" class="headerlink" title="ES6 Arrary.from() 将两类对象转为真正的数组"></a>ES6 Arrary.from() 将两类对象转为真正的数组</h4><p>定义：用于将两类对象转为真正的数组（不改变原对象，返回新的数组）。</p>
<p>参数：</p>
<p>第一个参数(必需):要转化为真正数组的对象。</p>
<p>第二个参数(可选): 类似数组的map方法，对每个元素进行处理，将处理后的值放入返回的数组。</p>
<p>第三个参数(可选): 用来绑定this。</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">    <span class="token selector">// 1. 对象拥有length属性
    let obj =</span> <span class="token punctuation">&#123;</span>0<span class="token punctuation">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> 1<span class="token punctuation">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> 2<span class="token punctuation">:</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token property">length</span><span class="token punctuation">:</span> 3<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    let arr = Array.<span class="token function">from</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> // [<span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span>]<span class="token punctuation">;</span>
    // 2. 部署了 Iterator接口的数据结构 <span class="token property">比如</span><span class="token punctuation">:</span>字符串、Set、NodeList对象
    let arr = Array.<span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> // [<span class="token string">'h'</span><span class="token punctuation">,</span><span class="token string">'e'</span><span class="token punctuation">,</span><span class="token string">'l'</span><span class="token punctuation">,</span><span class="token string">'l'</span><span class="token punctuation">,</span><span class="token string">'o'</span>]
    let arr = Array.<span class="token function">from</span><span class="token punctuation">(</span>new <span class="token function">Set</span><span class="token punctuation">(</span>[<span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span>]<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> // [<span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span>]
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<hr>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法:"></a>方法:</h2><p>数组原型提供了非常多的方法，这里分为三类来讲，一类会改变原数组的值，一类是不会改变原数组，以及数组的遍历方法。</p>
<h3 id="改变原数组的方法-9个"><a href="#改变原数组的方法-9个" class="headerlink" title="改变原数组的方法(9个):"></a>改变原数组的方法(9个):</h3><pre class="line-numbers language-less" data-language="less"><code class="language-less">    let a = [1<span class="token punctuation">,</span>2<span class="token punctuation">,</span>3]<span class="token punctuation">;</span>
    <span class="token property">ES5</span><span class="token punctuation">:</span>
     a.<span class="token function">splice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span> a.<span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> a.<span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span> a.<span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span>  a.<span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span> a.<span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span> a.<span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token property">ES6</span><span class="token punctuation">:</span>
    a.<span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> a.fill
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>对于这些能够改变原数组的方法，要注意避免在循环遍历中改变原数组的选项，比如: 改变数组的长度，导致遍历的长度出现问题。</p>
<h4 id="splice-添加-x2F-删除数组元素"><a href="#splice-添加-x2F-删除数组元素" class="headerlink" title="splice() 添加&#x2F;删除数组元素"></a>splice() 添加&#x2F;删除数组元素</h4><p>定义： splice() 方法<strong>向&#x2F;从数组中添加&#x2F;删除</strong>项目，然后返回被删除的项目</p>
<p>语法： <code>array.splice(index,howmany,item1,.....,itemX)</code></p>
<p>参数:</p>
<ol>
<li>index：必需。整数，规定添加&#x2F;删除项目的位置，使用负数可从数组结尾处规定位置。</li>
<li>howmany：可选。要删除的项目数量。如果设置为 0，则不会删除项目。</li>
<li>item1, …, itemX： 可选。向数组添加的新项目。</li>
</ol>
<p>返回值: 如果有元素被删除,返回包含被删除项目的新数组。</p>
<p>eg1:删除元素</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">let a</span> <span class="token punctuation">=</span> <span class="token value attr-value">[1, 2, 3, 4, 5, 6, 7];</span>
    <span class="token key attr-name">let item</span> <span class="token punctuation">=</span> <span class="token value attr-value">a.splice(0, 3); // [1,2,3]</span>
    console.log(a); // [4,5,6,7]
    // 从数组下标0开始，删除3个元素
    <span class="token key attr-name">let item</span> <span class="token punctuation">=</span> <span class="token value attr-value">a.splice(-1, 3); // [7]</span>
    // 从最后一个元素开始删除3个元素，因为最后一个元素，所以只删除了7
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>eg2: 删除并添加</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">     <span class="token key attr-name">let a</span> <span class="token punctuation">=</span> <span class="token value attr-value">[1, 2, 3, 4, 5, 6, 7];</span>
    <span class="token key attr-name">let item</span> <span class="token punctuation">=</span> <span class="token value attr-value">a.splice(0,3,'添加'); // [1,2,3]</span>
    console.log(a); // ['添加',4,5,6,7]
    // 从数组下标0开始，删除3个元素，并添加元素'添加'
     <span class="token key attr-name">let b</span> <span class="token punctuation">=</span> <span class="token value attr-value">[1, 2, 3, 4, 5, 6, 7];</span>
    <span class="token key attr-name">let item</span> <span class="token punctuation">=</span> <span class="token value attr-value">b.splice(-2,3,'添加1','添加2'); // [6,7]</span>
    console.log(b); // [1,2,3,4,5,'添加1','添加2']
    // 从数组最后第二个元素开始，删除3个元素，并添加两个元素'添加1'、'添加2'
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>eg3: 不删除只添加:</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">let a</span> <span class="token punctuation">=</span> <span class="token value attr-value">[1, 2, 3, 4, 5, 6, 7];</span>
    <span class="token key attr-name">let item</span> <span class="token punctuation">=</span> <span class="token value attr-value">a.splice(0,0,'添加1','添加2'); // [] 没有删除元素，返回空数组</span>
    console.log(a); // ['添加1','添加2',1,2,3,4,5,6,7]
    <span class="token key attr-name">let b</span> <span class="token punctuation">=</span> <span class="token value attr-value">[1, 2, 3, 4, 5, 6, 7];</span>
    <span class="token key attr-name">let item</span> <span class="token punctuation">=</span> <span class="token value attr-value">b.splice(-1,0,'添加1','添加2'); // [] 没有删除元素，返回空数组</span>
    console.log(b); // [1,2,3,4,5,6,'添加1','添加2',7] 在最后一个元素的前面添加两个元素
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>从上述三个栗子可以得出:</p>
<ol>
<li>数组如果元素不够，会删除到最后一个元素为止</li>
<li>操作的元素，包括开始的那个元素</li>
<li>可以添加很多个元素</li>
<li>添加是在开始的元素前面添加的</li>
</ol>
<h4 id="sort-数组排序"><a href="#sort-数组排序" class="headerlink" title="sort() 数组排序"></a>sort() 数组排序</h4><p>定义: sort()方法对数组元素进行排序，并返回这个数组。</p>
<p>参数可选: 规定排序顺序的比较函数。</p>
<p>默认情况下sort()方法没有传比较函数的话，默认按字母升序，如果不是元素不是字符串的话，会调用<code>toString()</code>方法将元素转化为字符串的Unicode(万国码)位点，然后再比较字符。</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">    // 字符串排列 看起来很正常
    var a = [<span class="token string">"Banana"</span><span class="token punctuation">,</span> <span class="token string">"Orange"</span><span class="token punctuation">,</span> <span class="token string">"Apple"</span><span class="token punctuation">,</span> <span class="token string">"Mango"</span>]<span class="token punctuation">;</span>
    a.<span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> // [<span class="token string">"Apple"</span><span class="token punctuation">,</span><span class="token string">"Banana"</span><span class="token punctuation">,</span><span class="token string">"Mango"</span><span class="token punctuation">,</span><span class="token string">"Orange"</span>]
    // 数字排序的时候 因为转换成Unicode字符串之后，有些数字会比较大会排在后面 这显然不是我们想要的
    var	a = [10<span class="token punctuation">,</span> 1<span class="token punctuation">,</span> 3<span class="token punctuation">,</span> 20<span class="token punctuation">,</span>25<span class="token punctuation">,</span>8]<span class="token punctuation">;</span>
    console.<span class="token function">log</span><span class="token punctuation">(</span>a.<span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> // [1<span class="token punctuation">,</span>10<span class="token punctuation">,</span>20<span class="token punctuation">,</span>25<span class="token punctuation">,</span>3<span class="token punctuation">,</span>8]<span class="token punctuation">;</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>比较函数的两个参数：</strong></p>
<p>sort的比较函数有两个默认参数，要在函数中接收这两个参数，这两个参数是数组中两个要比较的元素，通常我们用 a 和 b 接收两个将要比较的元素：</p>
<ul>
<li>若比较函数返回值&lt;0，那么a将排到b的前面;</li>
<li>若比较函数返回值&#x3D;0，那么a 和 b 相对位置不变；</li>
<li>若比较函数返回值&gt;0，那么b 排在a 将的前面；</li>
</ul>
<p>对于sort()方法更深层级的内部实现以及处理机制可以看一下这篇文章<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903507439419399">深入了解javascript的sort方法</a></p>
<p><strong>sort排序常见用法</strong>：</p>
<ol>
<li><p>数组元素为数字的升序、降序:</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"> var array =  [10<span class="token punctuation">,</span> 1<span class="token punctuation">,</span> 3<span class="token punctuation">,</span> 4<span class="token punctuation">,</span>20<span class="token punctuation">,</span>4<span class="token punctuation">,</span>25<span class="token punctuation">,</span>8]<span class="token punctuation">;</span>
 <span class="token selector">// 升序 a-b &lt; 0   a将排到b的前面，按照a的大小来排序的 
 // 比如被减数a是10，减数是20  10-20 &lt; 0   被减数a(10)在减数b(20)前面   
 array.sort(function(a,b)</span><span class="token punctuation">&#123;</span>
   return a-b<span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 console.<span class="token function">log</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span> // [1<span class="token punctuation">,</span>3<span class="token punctuation">,</span>4<span class="token punctuation">,</span>4<span class="token punctuation">,</span>8<span class="token punctuation">,</span>10<span class="token punctuation">,</span>20<span class="token punctuation">,</span>25]<span class="token punctuation">;</span>
 <span class="token selector">// 降序 被减数和减数调换了  20-10>0 被减数b(20)在减数a(10)的前面
 array.sort(function(a,b)</span><span class="token punctuation">&#123;</span>
   return b-a<span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 console.<span class="token function">log</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span> // [25<span class="token punctuation">,</span>20<span class="token punctuation">,</span>10<span class="token punctuation">,</span>8<span class="token punctuation">,</span>4<span class="token punctuation">,</span>4<span class="token punctuation">,</span>3<span class="token punctuation">,</span>1]<span class="token punctuation">;</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>数组多条件排序</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"> var array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>id:10,age:2<span class="token punctuation">&#125;</span>,<span class="token punctuation">&#123;</span>id:5,age:4<span class="token punctuation">&#125;</span>,<span class="token punctuation">&#123;</span>id:6,age:10<span class="token punctuation">&#125;</span>,<span class="token punctuation">&#123;</span>id:9,age:6<span class="token punctuation">&#125;</span>,<span class="token punctuation">&#123;</span>id:2,age:8<span class="token punctuation">&#125;</span>,<span class="token punctuation">&#123;</span>id:10,age:9<span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
     array.sort<span class="token punctuation">(</span>function<span class="token punctuation">(</span>a,b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
         if<span class="token punctuation">(</span>a.id <span class="token operator">==</span><span class="token operator">=</span> b.id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>// 如果id的值相等，按照age的值降序
             <span class="token builtin class-name">return</span> b.age - a.age
         <span class="token punctuation">&#125;</span>else<span class="token punctuation">&#123;</span> // 如果id的值不相等，按照id的值升序
             <span class="token builtin class-name">return</span> a.id - b.id
         <span class="token punctuation">&#125;</span>
     <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  // <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token string">"id"</span>:2,<span class="token string">"age"</span>:8<span class="token punctuation">&#125;</span>,<span class="token punctuation">&#123;</span><span class="token string">"id"</span>:5,<span class="token string">"age"</span>:4<span class="token punctuation">&#125;</span>,<span class="token punctuation">&#123;</span><span class="token string">"id"</span>:6,<span class="token string">"age"</span>:10<span class="token punctuation">&#125;</span>,<span class="token punctuation">&#123;</span><span class="token string">"id"</span>:9,<span class="token string">"age"</span>:6<span class="token punctuation">&#125;</span>,<span class="token punctuation">&#123;</span><span class="token string">"id"</span>:10,<span class="token string">"age"</span>:9<span class="token punctuation">&#125;</span>,<span class="token punctuation">&#123;</span><span class="token string">"id"</span>:10,<span class="token string">"age"</span>:2<span class="token punctuation">&#125;</span><span class="token punctuation">]</span> 
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>自定义比较函数，天空才是你的极限</p>
</li>
</ol>
<p>类似的：<strong>运用好返回值，我们可以写出任意符合自己需求的比较函数</strong></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">    <span class="token selector">var array = [</span><span class="token punctuation">&#123;</span><span class="token property">name</span><span class="token punctuation">:</span><span class="token string">'Koro1'</span><span class="token punctuation">&#125;</span><span class="token selector">,</span><span class="token punctuation">&#123;</span><span class="token property">name</span><span class="token punctuation">:</span><span class="token string">'Koro1'</span><span class="token punctuation">&#125;</span><span class="token selector">,</span><span class="token punctuation">&#123;</span><span class="token property">name</span><span class="token punctuation">:</span><span class="token string">'OB'</span><span class="token punctuation">&#125;</span><span class="token selector">,</span><span class="token punctuation">&#123;</span><span class="token property">name</span><span class="token punctuation">:</span><span class="token string">'Koro1'</span><span class="token punctuation">&#125;</span><span class="token selector">,</span><span class="token punctuation">&#123;</span><span class="token property">name</span><span class="token punctuation">:</span><span class="token string">'OB'</span><span class="token punctuation">&#125;</span><span class="token selector">,</span><span class="token punctuation">&#123;</span><span class="token property">name</span><span class="token punctuation">:</span><span class="token string">'OB'</span><span class="token punctuation">&#125;</span>]<span class="token punctuation">;</span>
    <span class="token selector">array.sort(function(a,b)</span><span class="token punctuation">&#123;</span>
        <span class="token selector">if(a.name === 'Koro1')</span><span class="token punctuation">&#123;</span>// 如果name是<span class="token string">'Koro1'</span> 返回-1 ，-1&lt;0 a排在b的前面
            return -1
        <span class="token punctuation">&#125;</span><span class="token selector">else</span><span class="token punctuation">&#123;</span> // 如果不是的话，a排在b的后面
          return 1
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token selector">)
    // [</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"Koro1"</span><span class="token punctuation">&#125;</span><span class="token selector">,</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"Koro1"</span><span class="token punctuation">&#125;</span><span class="token selector">,</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"Koro1"</span><span class="token punctuation">&#125;</span><span class="token selector">,</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"OB"</span><span class="token punctuation">&#125;</span><span class="token selector">,</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"OB"</span><span class="token punctuation">&#125;</span><span class="token selector">,</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"OB"</span><span class="token punctuation">&#125;</span>] 
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="pop-删除一个数组中的最后的一个元素"><a href="#pop-删除一个数组中的最后的一个元素" class="headerlink" title="pop() 删除一个数组中的最后的一个元素"></a>pop() 删除一个数组中的最后的一个元素</h4><p>定义: pop() 方法删除一个数组中的最后的一个元素，并且返回这个元素。</p>
<p>参数: 无。</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">let  a</span> <span class="token punctuation">=</span>  <span class="token value attr-value">[1,2,3];</span>
    <span class="token key attr-name">let item</span> <span class="token punctuation">=</span> <span class="token value attr-value">a.pop();  // 3</span>
    console.log(a); // [1,2]
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="shift-删除数组的第一个元素"><a href="#shift-删除数组的第一个元素" class="headerlink" title="shift() 删除数组的第一个元素"></a>shift() 删除数组的第一个元素</h4><p>定义: shift()方法删除数组的第一个元素，并返回这个元素。</p>
<p>参数: 无。</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">let  a</span> <span class="token punctuation">=</span>  <span class="token value attr-value">[1,2,3];</span>
    <span class="token key attr-name">let item</span> <span class="token punctuation">=</span> <span class="token value attr-value">a.shift();  // 1</span>
    console.log(a); // [2,3]
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="push-向数组的末尾添加元素"><a href="#push-向数组的末尾添加元素" class="headerlink" title="push() 向数组的末尾添加元素"></a>push() 向数组的末尾添加元素</h4><p>定义：push() 方法可向数组的末尾添加一个或多个元素，并返回新的长度。</p>
<p>参数:  item1, item2, …, itemX ,要添加到数组末尾的元素</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">let  a</span> <span class="token punctuation">=</span>  <span class="token value attr-value">[1,2,3];</span>
    <span class="token key attr-name">let item</span> <span class="token punctuation">=</span> <span class="token value attr-value">a.push('末尾');  // 4</span>
    console.log(a); // [1,2,3,'末尾']
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="unshift"><a href="#unshift" class="headerlink" title="unshift()"></a>unshift()</h4><p>定义：unshift() 方法可向数组的开头添加一个或更多元素，并返回新的长度。</p>
<p>参数:  item1, item2, …, itemX ,要添加到数组开头的元素</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">let  a</span> <span class="token punctuation">=</span>  <span class="token value attr-value">[1,2,3];</span>
    <span class="token key attr-name">let item</span> <span class="token punctuation">=</span> <span class="token value attr-value">a.unshift('开头');  // 4</span>
    console.log(a); // ['开头',1,2,3]
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="reverse-颠倒数组中元素的顺序"><a href="#reverse-颠倒数组中元素的顺序" class="headerlink" title="reverse() 颠倒数组中元素的顺序"></a>reverse() 颠倒数组中元素的顺序</h4><p>定义: reverse() 方法用于颠倒数组中元素的顺序。</p>
<p>参数: 无</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">    let  a =  [1<span class="token punctuation">,</span>2<span class="token punctuation">,</span>3]<span class="token punctuation">;</span>
    a.<span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    console.<span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> // [3<span class="token punctuation">,</span>2<span class="token punctuation">,</span>1]
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ES6-copyWithin-指定位置的成员复制到其他位置"><a href="#ES6-copyWithin-指定位置的成员复制到其他位置" class="headerlink" title="ES6: copyWithin() 指定位置的成员复制到其他位置"></a>ES6: copyWithin() 指定位置的成员复制到其他位置</h4><p>定义: 在当前数组内部，将指定位置的成员复制到其他位置,并返回这个数组。</p>
<p>语法:</p>
<pre class="line-numbers language-arduino" data-language="arduino"><code class="language-arduino">    <span class="token keyword">array</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">end</span> <span class="token operator">=</span> this<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数:</p>
<p>三个参数都是数值，如果不是，会自动转为数值.</p>
<ol>
<li>target（必需）：从该位置开始替换数据。如果为负值，表示倒数。</li>
<li>start（可选）：从该位置开始读取数据，默认为 0。如果为负值，表示倒数。</li>
<li>end（可选）：到该位置前停止读取数据，默认等于数组长度。使用负数可从数组结尾处规定位置。</li>
</ol>
<p>浏览器兼容(MDN): chrome 45,Edge 12,Firefox32,Opera 32,Safari 9, IE 不支持</p>
<p>eg:</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">        // -2相当于3号位，-1相当于4号位
        [1<span class="token punctuation">,</span> 2<span class="token punctuation">,</span> 3<span class="token punctuation">,</span> 4<span class="token punctuation">,</span> 5].<span class="token function">copyWithin</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> -2<span class="token punctuation">,</span> -1<span class="token punctuation">)</span>
        // [4<span class="token punctuation">,</span> 2<span class="token punctuation">,</span> 3<span class="token punctuation">,</span> 4<span class="token punctuation">,</span> 5]
        var a=[<span class="token string">'OB1'</span><span class="token punctuation">,</span><span class="token string">'Koro1'</span><span class="token punctuation">,</span><span class="token string">'OB2'</span><span class="token punctuation">,</span><span class="token string">'Koro2'</span><span class="token punctuation">,</span><span class="token string">'OB3'</span><span class="token punctuation">,</span><span class="token string">'Koro3'</span><span class="token punctuation">,</span><span class="token string">'OB4'</span><span class="token punctuation">,</span><span class="token string">'Koro4'</span><span class="token punctuation">,</span><span class="token string">'OB5'</span><span class="token punctuation">,</span><span class="token string">'Koro5'</span>]
        // 2位置开始被替换<span class="token punctuation">,</span>3位置开始读取要替换的 5位置前面停止替换
        a.<span class="token function">copyWithin</span><span class="token punctuation">(</span>2<span class="token punctuation">,</span>3<span class="token punctuation">,</span>5<span class="token punctuation">)</span>
        // [<span class="token string">"OB1"</span><span class="token punctuation">,</span><span class="token string">"Koro1"</span><span class="token punctuation">,</span><span class="token string">"Koro2"</span><span class="token punctuation">,</span><span class="token string">"OB3"</span><span class="token punctuation">,</span><span class="token string">"OB3"</span><span class="token punctuation">,</span><span class="token string">"Koro3"</span><span class="token punctuation">,</span><span class="token string">"OB4"</span><span class="token punctuation">,</span><span class="token string">"Koro4"</span><span class="token punctuation">,</span><span class="token string">"OB5"</span><span class="token punctuation">,</span><span class="token string">"Koro5"</span>] 
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>从上述栗子:</p>
<ol>
<li>第一个参数是开始被替换的元素位置</li>
<li>要替换数据的位置范围:从第二个参数是开始读取的元素，在第三个参数前面一个元素停止读取</li>
<li>数组的长度不会改变</li>
<li><strong>读了几个元素就从开始被替换的地方替换几个元素</strong></li>
</ol>
<h4 id="ES6-fill-填充数组"><a href="#ES6-fill-填充数组" class="headerlink" title="ES6: fill() 填充数组"></a>ES6: fill() 填充数组</h4><p>定义:  使用给定值，填充一个数组。</p>
<p>参数:</p>
<p>第一个元素(必须): 要填充数组的值</p>
<p>第二个元素(可选): 填充的开始位置,默认值为0</p>
<p>第三个元素(可选)：填充的结束位置，默认是为<code>this.length</code></p>
<p><a href="https://link.juejin.cn/?target=https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/fill%23%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9%E6%80%A7">MDN浏览器兼容</a></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">    [<span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span>].<span class="token function">fill</span><span class="token punctuation">(</span>7<span class="token punctuation">)</span>
    // [7<span class="token punctuation">,</span> 7<span class="token punctuation">,</span> 7]
    [<span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span>].<span class="token function">fill</span><span class="token punctuation">(</span>7<span class="token punctuation">,</span> 1<span class="token punctuation">,</span> 2<span class="token punctuation">)</span>
    // [<span class="token string">'a'</span><span class="token punctuation">,</span> 7<span class="token punctuation">,</span> <span class="token string">'c'</span>]
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<hr>
<h3 id="不改变原数组的方法-8个"><a href="#不改变原数组的方法-8个" class="headerlink" title="不改变原数组的方法(8个):"></a>不改变原数组的方法(8个):</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">    ES5：
    slice、join、toLocateString、toStrigin、cancat、indexOf、lastIndexOf、
    ES7：
    includes
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="slice-浅拷贝数组的元素"><a href="#slice-浅拷贝数组的元素" class="headerlink" title="slice() 浅拷贝数组的元素"></a>slice() 浅拷贝数组的元素</h4><p>定义： 方法返回一个从开始到结束（不包括结束）选择的数组的一部分浅拷贝到一个新数组对象，且原数组不会被修改。</p>
<p><strong>注意</strong>：字符串也有一个slice() 方法是用来提取字符串的，不要弄混了。</p>
<p>语法:</p>
<pre class="line-numbers language-arduino" data-language="arduino"><code class="language-arduino">    <span class="token keyword">array</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token builtin">begin</span><span class="token punctuation">,</span> <span class="token builtin">end</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数:</p>
<p>begin(可选): 索引数值,接受负值，从该索引处开始提取原数组中的元素,默认值为0。</p>
<p>end(可选):索引数值(不包括),接受负值，在该索引处前结束提取原数组元素，默认值为数组末尾(包括最后一个元素)。</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">    let a= [<span class="token string">'hello'</span><span class="token punctuation">,</span><span class="token string">'world'</span>]<span class="token punctuation">;</span>
    let b=a.<span class="token function">slice</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span> // [<span class="token string">'hello'</span>]
    a[0]=<span class="token string">'改变原数组'</span><span class="token punctuation">;</span>
    console.<span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> // [<span class="token string">'改变原数组'</span><span class="token punctuation">,</span><span class="token string">'world'</span>] [<span class="token string">'hello'</span>]
    b[0]=<span class="token string">'改变拷贝的数组'</span><span class="token punctuation">;</span>
     console.<span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> // [<span class="token string">'改变原数组'</span><span class="token punctuation">,</span><span class="token string">'world'</span>] [<span class="token string">'改变拷贝的数组'</span>]
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如上：新数组是浅拷贝的，<strong>元素是简单数据类型，改变之后不会互相干扰</strong>。</p>
<p>如果是<strong>复杂数据类型(对象,数组)的话，改变其中一个，另外一个也会改变</strong>。</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">    <span class="token selector">let a= [</span><span class="token punctuation">&#123;</span><span class="token property">name</span><span class="token punctuation">:</span><span class="token string">'OBKoro1'</span><span class="token punctuation">&#125;</span>]<span class="token punctuation">;</span>
    let b=a.<span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console.<span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token selector">// [</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"OBKoro1"</span><span class="token punctuation">&#125;</span><span class="token selector">]  [</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"OBKoro1"</span><span class="token punctuation">&#125;</span>]
    // a[0].name=<span class="token string">'改变原数组'</span><span class="token punctuation">;</span>
    // console.<span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token selector">// [</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"改变原数组"</span><span class="token punctuation">&#125;</span><span class="token selector">] [</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"改变原数组"</span><span class="token punctuation">&#125;</span>]
    // b[0].name=<span class="token string">'改变拷贝数组'</span><span class="token punctuation">,</span>b[0].koro=<span class="token string">'改变拷贝数组'</span><span class="token punctuation">;</span>
    <span class="token selector">//  [</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"改变拷贝数组"</span><span class="token punctuation">,</span><span class="token string">"koro"</span><span class="token punctuation">:</span><span class="token string">"改变拷贝数组"</span><span class="token punctuation">&#125;</span><span class="token selector">] [</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"改变拷贝数组"</span><span class="token punctuation">,</span><span class="token string">"koro"</span><span class="token punctuation">:</span><span class="token string">"改变拷贝数组"</span><span class="token punctuation">&#125;</span>]
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>原因在定义上面说过了的：slice()是浅拷贝，对于复杂的数据类型浅拷贝，拷贝的只是指向原数组的指针，所以无论改变原数组，还是浅拷贝的数组，都是改变原数组的数据。</p>
<h4 id="join-数组转字符串"><a href="#join-数组转字符串" class="headerlink" title="join()  数组转字符串"></a>join()  数组转字符串</h4><p>定义:  join() 方法用于把数组中的所有元素通过指定的分隔符进行分隔放入一个字符串，返回生成的字符串。</p>
<p>语法:</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">    array<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数:</p>
<p>str(可选): 指定要使用的分隔符，默认使用逗号作为分隔符。</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">let a</span><span class="token punctuation">=</span> <span class="token value attr-value">['hello','world'];</span>
    <span class="token key attr-name">let str</span><span class="token punctuation">=</span><span class="token value attr-value">a.join(); // 'hello,world'</span>
    <span class="token key attr-name">let str2</span><span class="token punctuation">=</span><span class="token value attr-value">a.join('+'); // 'hello+world'</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>使用join方法或者下文说到的toString方法时，当数组中的元素也是数组或者是对象时会出现什么情况？</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">let a</span><span class="token punctuation">=</span> <span class="token value attr-value">[['OBKoro1','23'],'test'];</span>
    <span class="token key attr-name">let str1</span><span class="token punctuation">=</span><span class="token value attr-value">a.join(); // OBKoro1,23,test</span>
    <span class="token key attr-name">let b</span><span class="token punctuation">=</span> <span class="token value attr-value">[&#123;name:'OBKoro1',age:'23'&#125;,'test'];</span>
    <span class="token key attr-name">let str2</span> <span class="token punctuation">=</span> <span class="token value attr-value">b.join(); // [object Object],test</span>
    // 对象转字符串推荐JSON.stringify(obj);
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>所以，<code>join()/toString()</code>方法在数组元素是数组的时候，会将里面的数组也调用<code>join()/toString()</code>,如果是对象的话，对象会被转为<code>[object Object]</code>字符串。</p>
<h4 id="toLocaleString-数组转字符串"><a href="#toLocaleString-数组转字符串" class="headerlink" title="toLocaleString() 数组转字符串"></a>toLocaleString() 数组转字符串</h4><p>定义: 返回一个表示数组元素的字符串。该字符串由数组中的每个元素的 toLocaleString() 返回值经调用 join() 方法连接（由逗号隔开）组成。</p>
<p>语法:</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">    array<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数：无。</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">let a</span><span class="token punctuation">=</span><span class="token value attr-value">[&#123;name:'OBKoro1'&#125;,23,'abcd',new Date()];</span>
    <span class="token key attr-name">let str</span><span class="token punctuation">=</span><span class="token value attr-value">a.toLocaleString(); // [object Object],23,abcd,2018/5/28 下午1:52:20</span> 
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如上述栗子：调用数组的<code>toLocaleString</code>方法，数组中的每个元素都会调用自身的<code>toLocaleString</code>方法，对象调用对象的<code>toLocaleString</code>,Date调用Date的<code>toLocaleString</code>。</p>
<h4 id="toString-数组转字符串-不推荐"><a href="#toString-数组转字符串-不推荐" class="headerlink" title="toString() 数组转字符串 不推荐"></a>toString() 数组转字符串 不推荐</h4><p>定义: toString() 方法可把数组转换为由逗号链接起来的字符串。</p>
<p>语法:</p>
<pre class="line-numbers language-vbscript" data-language="vbscript"><code class="language-vbscript">    array.toString()
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数: 无。</p>
<p>该方法的效果和join方法一样，都是用于数组转字符串的，但是与join方法相比没有优势，也不能自定义字符串的分隔符，因此不推荐使用。</p>
<p><strong>值得注意的是</strong>：当数组和字符串操作的时候，js 会调用这个方法将数组自动转换成字符串</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">   <span class="token key attr-name">let b</span><span class="token punctuation">=</span> <span class="token value attr-value">[ 'toString','演示'].toString(); // toString,演示</span>
   <span class="token key attr-name">let a</span><span class="token punctuation">=</span> <span class="token value attr-value">['调用toString','连接在我后面']+'啦啦啦'; // 调用toString,连接在我后面啦啦啦</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="cancat"><a href="#cancat" class="headerlink" title="cancat"></a>cancat</h4><p>定义： 方法用于合并两个或多个数组，返回一个新数组。</p>
<p>语法：</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">var newArr</span> <span class="token punctuation">=</span><span class="token value attr-value">oldArray.concat(arrayX,arrayX,......,arrayX)</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数：</p>
<p>arrayX（必须）：该参数可以是具体的值，也可以是数组对象。可以是任意多个。</p>
<p>eg1:</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">let a</span> <span class="token punctuation">=</span> <span class="token value attr-value">[1, 2, 3];</span>
    <span class="token key attr-name">let b</span> <span class="token punctuation">=</span> <span class="token value attr-value">[4, 5, 6];</span>
    //连接两个数组
    <span class="token key attr-name">let newVal</span><span class="token punctuation">=</span><span class="token value attr-value">a.concat(b); // [1,2,3,4,5,6]</span>
    // 连接三个数组
    <span class="token key attr-name">let c</span> <span class="token punctuation">=</span> <span class="token value attr-value">[7, 8, 9]</span>
    <span class="token key attr-name">let newVal2</span> <span class="token punctuation">=</span> <span class="token value attr-value">a.concat(b, c); // [1,2,3,4,5,6,7,8,9]</span>
    // 添加元素
    <span class="token key attr-name">let newVal3</span> <span class="token punctuation">=</span> <span class="token value attr-value">a.concat('添加元素',b, c,'再加一个');</span> 
    // [1,2,3,"添加元素",4,5,6,7,8,9,"再加一个"]
   // 合并嵌套数组  会浅拷贝嵌套数组
   <span class="token key attr-name">let d</span> <span class="token punctuation">=</span> <span class="token value attr-value">[1,2 ];</span>
   <span class="token key attr-name">let f</span> <span class="token punctuation">=</span> <span class="token value attr-value">[3,[4]];</span>
   <span class="token key attr-name">let newVal4</span> <span class="token punctuation">=</span> <span class="token value attr-value">d.concat(f); // [1,2,3,[4]]</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>ES6扩展运算符<code>...</code>合并数组</strong>：</p>
<p>因为ES6的语法更简洁易懂，所以现在合并数组我大部分采用<code>...</code>来处理，<code>...</code>运算符可以实现<code>cancat</code>的每个栗子，且更简洁和具有高度自定义数组元素位置的效果。</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">    let a = [2<span class="token punctuation">,</span> 3<span class="token punctuation">,</span> 4<span class="token punctuation">,</span> 5]
    let b = [ 4<span class="token punctuation">,</span>...a<span class="token punctuation">,</span> 4<span class="token punctuation">,</span> 4]
    console.<span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> //  [2<span class="token punctuation">,</span> 3<span class="token punctuation">,</span> 4<span class="token punctuation">,</span> 5] [4<span class="token punctuation">,</span>2<span class="token punctuation">,</span>3<span class="token punctuation">,</span>4<span class="token punctuation">,</span>5<span class="token punctuation">,</span>4<span class="token punctuation">,</span>4]
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>更多关于扩展符的详细内容移步阮一峰大神的<a href="https://link.juejin.cn/?target=http://es6.ruanyifeng.com/%23docs/array%23%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6">ECMAScript 6 入门</a></p>
<h4 id="indexOf-查找数组是否存在某个元素，返回下标"><a href="#indexOf-查找数组是否存在某个元素，返回下标" class="headerlink" title="indexOf() 查找数组是否存在某个元素，返回下标"></a>indexOf() 查找数组是否存在某个元素，返回下标</h4><p>定义: 返回在数组中可以找到一个给定元素的第一个索引，如果不存在，则返回-1。</p>
<p>语法:</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">    array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>searchElement<span class="token punctuation">,</span>fromIndex<span class="token punctuation">)</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数:</p>
<p>searchElement(必须):被查找的元素</p>
<p>fromIndex(可选):开始查找的位置(不能大于等于数组的长度，返回-1)，接受负值，默认值为0。</p>
<p>严格相等的搜索:</p>
<p>数组的indexOf搜索跟字符串的indexOf不一样,数组的indexOf使用严格相等<code>===</code>搜索元素，即<strong>数组元素要完全匹配</strong>才能搜索成功。</p>
<p><strong>注意</strong>：indexOf()不能识别<code>NaN</code></p>
<p>eg:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">    <span class="token keyword">let</span> a<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'啦啦'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token number">NaN</span><span class="token punctuation">]</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'啦'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// -1 </span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'NaN'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// -1 </span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'啦啦'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>使用场景：</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903577421365255#heading-10">数组去重</a></li>
<li>根据获取的数组下标执行操作，改变数组中的值等。</li>
<li>判断是否存在，执行操作。</li>
</ol>
<h4 id="lastIndexOf-查找指定元素在数组中的最后一个位置"><a href="#lastIndexOf-查找指定元素在数组中的最后一个位置" class="headerlink" title="lastIndexOf() 查找指定元素在数组中的最后一个位置"></a>lastIndexOf() 查找指定元素在数组中的最后一个位置</h4><p>定义:  方法返回指定元素,在数组中的最后一个的索引，如果不存在则返回 -1。（从数组后面往前查找）</p>
<p>语法:</p>
<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">    arr.lastIndexOf(searchElement,fromIndex)
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数:</p>
<p>searchElement(必须): 被查找的元素</p>
<p>fromIndex(可选): 逆向查找开始位置，默认值数组的长度-1，即查找整个数组。</p>
<p>关于fromIndex有三个规则:</p>
<ol>
<li><p>正值。如果该值大于或等于数组的长度，则整个数组会被查找。</p>
</li>
<li><p>负值。将其视为从数组末尾向前的偏移。(比如-2，从数组最后第二个元素开始往前查找)</p>
</li>
<li><p>负值。其绝对值大于数组长度，则方法返回 -1，即数组不会被查找。</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini"> <span class="token key attr-name">let a</span><span class="token punctuation">=</span><span class="token value attr-value">['OB',4,'Koro1',1,2,'Koro1',3,4,5,'Koro1']; // 数组长度为10</span>
 <span class="token key attr-name">// let b</span><span class="token punctuation">=</span><span class="token value attr-value">a.lastIndexOf('Koro1',4); // 从下标4开始往前找 返回下标2</span>
 <span class="token key attr-name">// let b</span><span class="token punctuation">=</span><span class="token value attr-value">a.lastIndexOf('Koro1',100); //  大于或数组的长度 查找整个数组 返回9</span>
 <span class="token key attr-name">// let b</span><span class="token punctuation">=</span><span class="token value attr-value">a.lastIndexOf('Koro1',-11); // -1 数组不会被查找</span>
 <span class="token key attr-name">let b</span><span class="token punctuation">=</span><span class="token value attr-value">a.lastIndexOf('Koro1',-9); // 从第二个元素4往前查找，没有找到 返回-1</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ol>
<h4 id="ES7-includes-查找数组是否包含某个元素-返回布尔"><a href="#ES7-includes-查找数组是否包含某个元素-返回布尔" class="headerlink" title="ES7 includes() 查找数组是否包含某个元素 返回布尔"></a>ES7 includes() 查找数组是否包含某个元素 返回布尔</h4><p>定义： 返回一个布尔值，表示某个数组是否包含给定的值</p>
<p>语法：</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">array.includes(searchElement,fromIndex</span><span class="token punctuation">=</span><span class="token value attr-value">0)</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数：</p>
<p>searchElement(必须):被查找的元素</p>
<p>fromIndex(可选):默认值为0，参数表示搜索的起始位置，接受负值。正值超过数组长度，数组不会被搜索，返回false。负值绝对值超过长数组度，重置从0开始搜索。</p>
<p><strong>includes方法是为了弥补indexOf方法的缺陷而出现的:</strong></p>
<ol>
<li>indexOf方法不能识别<code>NaN</code></li>
<li>indexOf方法检查是否包含某个值不够语义化，需要判断是否不等于<code>-1</code>，表达不够直观</li>
</ol>
<p>eg:</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">let a</span><span class="token punctuation">=</span><span class="token value attr-value">['OB','Koro1',1,NaN];</span>
    <span class="token key attr-name">// let b</span><span class="token punctuation">=</span><span class="token value attr-value">a.includes(NaN); // true 识别NaN</span>
    <span class="token key attr-name">// let b</span><span class="token punctuation">=</span><span class="token value attr-value">a.includes('Koro1',100); // false 超过数组长度 不搜索</span>
    <span class="token key attr-name">// let b</span><span class="token punctuation">=</span><span class="token value attr-value">a.includes('Koro1',-3);  // true 从倒数第三个元素开始搜索</span> 
    <span class="token key attr-name">// let b</span><span class="token punctuation">=</span><span class="token value attr-value">a.includes('Koro1',-100);  // true 负值绝对值超过数组长度，搜索整个数组</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>兼容性(MDN): chrome47, Firefox 43,Edge 14,Opera 34, Safari 9,IE 未实现。</p>
<hr>
<h3 id="遍历方法-12个"><a href="#遍历方法-12个" class="headerlink" title="遍历方法(12个):"></a>遍历方法(12个):</h3><p>js中遍历数组并不会改变原始数组的方法总共有12个:</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">    ES5：
    forEach、every 、<span class="token keyword">some</span>、 filter、map、reduce、reduceRight、
    ES6：
    find、findIndex、<span class="token keyword">keys</span>、<span class="token keyword">values</span>、entries
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="关于遍历："><a href="#关于遍历：" class="headerlink" title="关于遍历："></a>关于遍历：</h4><ul>
<li>关于遍历的效率，可以看一下这篇<a href="https://link.juejin.cn/?target=http://louiszhai.github.io/2015/12/18/traverse/%23%E6%B5%8B%E8%AF%95%E5%90%84%E6%96%B9%E6%B3%95%E6%95%88%E7%8E%87">详解JS遍历</a></li>
<li>尽量不要在遍历的时候，修改后面要遍历的值</li>
<li>尽量不要在遍历的时候修改数组的长度（删除&#x2F;添加）</li>
</ul>
<h4 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h4><p>定义: 按升序为数组中含有效值的每一项执行一次回调函数。</p>
<p>语法：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">    array<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> thisValue<span class="token punctuation">)</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数:</p>
<p>function(必须): 数组中每个元素需要调用的函数。</p>
<pre class="line-numbers language-scss" data-language="scss"><code class="language-scss">    <span class="token comment">// 回调函数的参数</span>
    1. <span class="token function">currentValue</span><span class="token punctuation">(</span>必须<span class="token punctuation">)</span><span class="token punctuation">,</span>数组当前元素的值
    2. <span class="token function">index</span><span class="token punctuation">(</span>可选<span class="token punctuation">)</span><span class="token punctuation">,</span> 当前元素的索引值
    3. <span class="token function">arr</span><span class="token punctuation">(</span>可选<span class="token punctuation">)</span><span class="token punctuation">,</span>数组对象本身
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>thisValue(可选):  当执行回调函数时this绑定对象的值，默认值为<code>undefined</code></p>
<p><strong>关于forEach()你要知道</strong>：</p>
<ul>
<li>无法中途退出循环，只能用<code>return</code>退出本次回调，进行下一次回调。</li>
<li>它总是返回 undefined值,即使你return了一个值。</li>
</ul>
<h4 id="下面类似语法同样适用这些规则"><a href="#下面类似语法同样适用这些规则" class="headerlink" title="下面类似语法同样适用这些规则"></a>下面类似语法同样适用这些规则</h4><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">    <span class="token list punctuation">1.</span> 对于空数组是不会执行回调函数的
    <span class="token list punctuation">2.</span> 对于已在迭代过程中删除的元素，或者空元素会跳过回调函数
    <span class="token list punctuation">3.</span> 遍历次数再第一次循环前就会确定，再添加到数组中的元素不会被遍历。
    <span class="token list punctuation">4.</span> 如果已经存在的值被改变，则传递给 callback 的值是遍历到他们那一刻的值。
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>eg:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 最后第二个元素是空的，不会遍历(undefined、null会遍历)</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'OBKoro1'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
      a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'改变元素'</span><span class="token punctuation">;</span>
      a<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'添加到尾端，不会被遍历'</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token string">'forEach传递的第一个参数'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 分别打印 1 ,2 ,改变元素</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OBKoro1 打印三次 this绑定在obj对象上</span>
      <span class="token comment">// break; // break会报错</span>
      <span class="token keyword">return</span> value<span class="token punctuation">;</span> <span class="token comment">// return只能结束本次回调 会执行下次回调</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'不会执行，因为return 会执行下一次循环回调'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 即使return了一个值,也还是返回undefined</span>
    <span class="token comment">// 回调函数也接受接头函数写法</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="every-检测数组所有元素是否都符合判断条件"><a href="#every-检测数组所有元素是否都符合判断条件" class="headerlink" title="every 检测数组所有元素是否都符合判断条件"></a>every 检测数组所有元素是否都符合判断条件</h4><p>定义: 方法用于检测数组所有元素是否都符合函数定义的条件</p>
<p>语法：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">    array<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> thisValue<span class="token punctuation">)</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数:(这几个方法的参数，语法都类似)</p>
<p>function(必须): 数组中每个元素需要调用的函数。</p>
<pre class="line-numbers language-scss" data-language="scss"><code class="language-scss">    <span class="token comment">// 回调函数的参数</span>
    1. <span class="token function">currentValue</span><span class="token punctuation">(</span>必须<span class="token punctuation">)</span><span class="token punctuation">,</span>数组当前元素的值
    2. <span class="token function">index</span><span class="token punctuation">(</span>可选<span class="token punctuation">)</span><span class="token punctuation">,</span> 当前元素的索引值
    3. <span class="token function">arr</span><span class="token punctuation">(</span>可选<span class="token punctuation">)</span><span class="token punctuation">,</span>数组对象本身
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>thisValue(可选):  当执行回调函数时this绑定对象的值，默认值为<code>undefined</code></p>
<p>方法返回值规则:</p>
<ol>
<li>如果数组中检测到<strong>有一个元素不满足，则整个表达式返回 false</strong>，且剩余的元素不会再进行检测。</li>
<li>如果所有元素<strong>都满足条件，则返回 true</strong>。&#x3D;</li>
</ol>
<p>eg:</p>
<pre class="line-numbers language-scss" data-language="scss"><code class="language-scss">    function <span class="token function">isBigEnough</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
      return element <span class="token operator">>=</span> 10<span class="token punctuation">;</span> <span class="token comment">// 判断数组中的所有元素是否都大于10</span>
    <span class="token punctuation">&#125;</span>
    let result = [12<span class="token punctuation">,</span> 5<span class="token punctuation">,</span> 8<span class="token punctuation">,</span> 130<span class="token punctuation">,</span> 44].<span class="token function">every</span><span class="token punctuation">(</span>isBigEnough<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// false</span>
    let result = [12<span class="token punctuation">,</span> 54<span class="token punctuation">,</span> 18<span class="token punctuation">,</span> 130<span class="token punctuation">,</span> 44].<span class="token function">every</span><span class="token punctuation">(</span>isBigEnough<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    <span class="token comment">// 接受箭头函数写法 </span>
    [12<span class="token punctuation">,</span> 5<span class="token punctuation">,</span> 8<span class="token punctuation">,</span> 130<span class="token punctuation">,</span> 44].<span class="token function">every</span><span class="token punctuation">(</span>x => x <span class="token operator">>=</span> 10<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
    [12<span class="token punctuation">,</span> 54<span class="token punctuation">,</span> 18<span class="token punctuation">,</span> 130<span class="token punctuation">,</span> 44].<span class="token function">every</span><span class="token punctuation">(</span>x => x <span class="token operator">>=</span> 10<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="some-数组中的是否有满足判断条件的元素"><a href="#some-数组中的是否有满足判断条件的元素" class="headerlink" title="some 数组中的是否有满足判断条件的元素"></a>some 数组中的是否有满足判断条件的元素</h4><p>定义：数组中的是否有满足判断条件的元素</p>
<p>语法：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">    array<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> thisValue<span class="token punctuation">)</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数:(这几个方法的参数，语法都类似)</p>
<p>function(必须): 数组中每个元素需要调用的函数。</p>
<pre class="line-numbers language-scss" data-language="scss"><code class="language-scss">    <span class="token comment">// 回调函数的参数</span>
    1. <span class="token function">currentValue</span><span class="token punctuation">(</span>必须<span class="token punctuation">)</span><span class="token punctuation">,</span>数组当前元素的值
    2. <span class="token function">index</span><span class="token punctuation">(</span>可选<span class="token punctuation">)</span><span class="token punctuation">,</span> 当前元素的索引值
    3. <span class="token function">arr</span><span class="token punctuation">(</span>可选<span class="token punctuation">)</span><span class="token punctuation">,</span>数组对象本身
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>thisValue(可选):  当执行回调函数时this绑定对象的值，默认值为<code>undefined</code></p>
<p>方法返回值规则：</p>
<ol>
<li><p>如果<strong>有一个元素满足条件，则表达式返回true</strong>, 剩余的元素不会再执行检测。</p>
</li>
<li><p>如果<strong>没有满足条件的元素，则返回false</strong>。</p>
<pre class="line-numbers language-scss" data-language="scss"><code class="language-scss"> function <span class="token function">isBigEnough</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   return <span class="token punctuation">(</span>element <span class="token operator">>=</span> 10<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//数组中是否有一个元素大于 10</span>
 <span class="token punctuation">&#125;</span>
 let result = [2<span class="token punctuation">,</span> 5<span class="token punctuation">,</span> 8<span class="token punctuation">,</span> 1<span class="token punctuation">,</span> 4].<span class="token function">some</span><span class="token punctuation">(</span>isBigEnough<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
 let result = [12<span class="token punctuation">,</span> 5<span class="token punctuation">,</span> 8<span class="token punctuation">,</span> 1<span class="token punctuation">,</span> 4].<span class="token function">some</span><span class="token punctuation">(</span>isBigEnough<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ol>
<h4 id="filter-过滤原始数组，返回新数组"><a href="#filter-过滤原始数组，返回新数组" class="headerlink" title="filter 过滤原始数组，返回新数组"></a>filter 过滤原始数组，返回新数组</h4><p>定义: 返回一个新数组, 其包含通过所提供函数实现的测试的所有元素。</p>
<p>语法：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">    <span class="token keyword">let</span> new_array <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数:(这几个方法的参数，语法都类似)</p>
<p>function(必须): 数组中每个元素需要调用的函数。</p>
<pre class="line-numbers language-scss" data-language="scss"><code class="language-scss">    <span class="token comment">// 回调函数的参数</span>
    1. <span class="token function">currentValue</span><span class="token punctuation">(</span>必须<span class="token punctuation">)</span><span class="token punctuation">,</span>数组当前元素的值
    2. <span class="token function">index</span><span class="token punctuation">(</span>可选<span class="token punctuation">)</span><span class="token punctuation">,</span> 当前元素的索引值
    3. <span class="token function">arr</span><span class="token punctuation">(</span>可选<span class="token punctuation">)</span><span class="token punctuation">,</span>数组对象本身
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>thisValue(可选):  当执行回调函数时this绑定对象的值，默认值为<code>undefined</code></p>
<p>eg:</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">     <span class="token key attr-name">let a</span> <span class="token punctuation">=</span> <span class="token value attr-value">[32, 33, 16, 40];</span>
    <span class="token key attr-name">let result</span> <span class="token punctuation">=</span> <span class="token value attr-value">a.filter(function (value, index, array) &#123;</span>
      <span class="token key attr-name">return value ></span><span class="token punctuation">=</span> <span class="token value attr-value">18; // 返回a数组中所有大于18的元素</span>
    &#125;);
    console.log(result,a);// [32,33,40] [32,33,16,40]
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="map-对数组中的每个元素进行处理，返回新的数组"><a href="#map-对数组中的每个元素进行处理，返回新的数组" class="headerlink" title="map 对数组中的每个元素进行处理，返回新的数组"></a>map 对数组中的每个元素进行处理，返回新的数组</h4><p>定义：创建一个新数组，其结果是该数组中的每个元素都调用一个提供的函数后返回的结果。</p>
<p>语法：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">    <span class="token keyword">let</span> new_array <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数:(这几个方法的参数，语法都类似)</p>
<p>function(必须): 数组中每个元素需要调用的函数。</p>
<pre class="line-numbers language-scss" data-language="scss"><code class="language-scss">    <span class="token comment">// 回调函数的参数</span>
    1. <span class="token function">currentValue</span><span class="token punctuation">(</span>必须<span class="token punctuation">)</span><span class="token punctuation">,</span>数组当前元素的值
    2. <span class="token function">index</span><span class="token punctuation">(</span>可选<span class="token punctuation">)</span><span class="token punctuation">,</span> 当前元素的索引值
    3. <span class="token function">arr</span><span class="token punctuation">(</span>可选<span class="token punctuation">)</span><span class="token punctuation">,</span>数组对象本身
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>thisValue(可选):  当执行回调函数时this绑定对象的值，默认值为<code>undefined</code></p>
<p>eg:</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">let a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'4'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
let result <span class="token operator">=</span> a<span class="token punctuation">.</span>map<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token keyword">index</span><span class="token punctuation">,</span> array<span class="token punctuation">)</span> &#123;
  <span class="token keyword">return</span> <span class="token keyword">value</span> <span class="token operator">+</span> <span class="token string">'新数组的新元素'</span>
&#125;<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span>log<span class="token punctuation">(</span>result<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// ["1新数组的新元素","2新数组的新元素","3新数组的新元素","4新数组的新元素"] ["1","2","3","4"]</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="reduce-为数组提供累加器，合并为一个值"><a href="#reduce-为数组提供累加器，合并为一个值" class="headerlink" title="reduce 为数组提供累加器，合并为一个值"></a>reduce 为数组提供累加器，合并为一个值</h4><p>定义：reduce() 方法对累加器和数组中的每个元素（从左到右）应用一个函数，最终合并为一个值。</p>
<p>语法：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">    array<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">total<span class="token punctuation">,</span> currentValue<span class="token punctuation">,</span> currentIndex<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> initialValue<span class="token punctuation">)</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>参数：</p>
<p>function(必须): 数组中每个元素需要调用的函数。</p>
<pre class="line-numbers language-scss" data-language="scss"><code class="language-scss">    <span class="token comment">// 回调函数的参数</span>
    1. <span class="token function">total</span><span class="token punctuation">(</span>必须<span class="token punctuation">)</span>，初始值<span class="token punctuation">,</span> 或者上一次调用回调返回的值
    2. <span class="token function">currentValue</span><span class="token punctuation">(</span>必须<span class="token punctuation">)</span><span class="token punctuation">,</span>数组当前元素的值
    3. <span class="token function">index</span><span class="token punctuation">(</span>可选<span class="token punctuation">)</span><span class="token punctuation">,</span> 当前元素的索引值
    4. <span class="token function">arr</span><span class="token punctuation">(</span>可选<span class="token punctuation">)</span><span class="token punctuation">,</span>数组对象本身
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>initialValue(可选): 指定第一次回调 的第一个参数。</p>
<p>回调第一次执行时:</p>
<ul>
<li>如果 initialValue 在调用 reduce 时被提供，那么第一个 total 将等于 initialValue，此时 currentValue 等于数组中的第一个值；</li>
<li>如果 initialValue 未被提供，那么 total 等于数组中的第一个值，currentValue 等于数组中的第二个值。此时如果数组为空，那么将抛出 TypeError。</li>
<li>如果数组仅有一个元素，并且没有提供 initialValue，或提供了 initialValue 但数组为空，那么回调不会被执行，数组的唯一值将被返回。</li>
</ul>
<p>eg:</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">    <span class="token selector">// 数组求和 
    let sum = [0, 1, 2, 3].reduce(function (a, b)</span> <span class="token punctuation">&#123;</span>
      return a + b<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    // 6
    // 将二维数组转化为一维 将数组元素展开
    let flattened = [[0<span class="token punctuation">,</span> 1]<span class="token punctuation">,</span> [2<span class="token punctuation">,</span> 3]<span class="token punctuation">,</span> [4<span class="token punctuation">,</span> 5]].<span class="token function">reduce</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> => a.<span class="token function">concat</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span>
      []
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
     // [0<span class="token punctuation">,</span> 1<span class="token punctuation">,</span> 2<span class="token punctuation">,</span> 3<span class="token punctuation">,</span> 4<span class="token punctuation">,</span> 5]
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="reduceRight-从右至左累加"><a href="#reduceRight-从右至左累加" class="headerlink" title="reduceRight  从右至左累加"></a>reduceRight  从右至左累加</h4><p>这个方法除了与reduce执行方向相反外，其他完全与其一致，请参考上述 reduce 方法介绍。</p>
<h4 id="ES6：find-amp-findIndex-根据条件找到数组成员"><a href="#ES6：find-amp-findIndex-根据条件找到数组成员" class="headerlink" title="ES6：find()&amp; findIndex() 根据条件找到数组成员"></a>ES6：find()&amp; findIndex() 根据条件找到数组成员</h4><p>find()定义：用于找出第一个符合条件的数组成员，并返回该成员，如果没有符合条件的成员，则返回undefined。</p>
<p>findIndex()定义：返回第一个符合条件的数组成员的位置，如果所有成员都不符合条件，则返回-1。</p>
<p>这两个方法</p>
<p>语法：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">    <span class="token keyword">let</span> new_array <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span>
     <span class="token keyword">let</span> new_array <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>参数:(这几个方法的参数，语法都类似)</p>
<p>function(必须): 数组中每个元素需要调用的函数。</p>
<pre class="line-numbers language-scss" data-language="scss"><code class="language-scss">    <span class="token comment">// 回调函数的参数</span>
    1. <span class="token function">currentValue</span><span class="token punctuation">(</span>必须<span class="token punctuation">)</span><span class="token punctuation">,</span>数组当前元素的值
    2. <span class="token function">index</span><span class="token punctuation">(</span>可选<span class="token punctuation">)</span><span class="token punctuation">,</span> 当前元素的索引值
    3. <span class="token function">arr</span><span class="token punctuation">(</span>可选<span class="token punctuation">)</span><span class="token punctuation">,</span>数组对象本身
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>thisValue(可选):  当执行回调函数时this绑定对象的值，默认值为<code>undefined</code></p>
<p>这两个方法都可以识别<code>NaN</code>,弥补了<code>indexOf</code>的不足.</p>
<p>eg:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">        <span class="token comment">// find</span>
        <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=></span> n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回元素-5</span>
        <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">NaN</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=></span> Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 返回元素NaN</span>
        <span class="token comment">// findIndex</span>
        <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=></span> n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回索引2</span>
        <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">NaN</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=></span> Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 返回索引4</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>浏览器兼容(MDN):Chrome 45,Firefox 25,Opera 32, Safari 8, Edge yes,</p>
<h4 id="ES6-keys-amp-values-amp-entries-遍历键名、遍历键值、遍历键名-键值"><a href="#ES6-keys-amp-values-amp-entries-遍历键名、遍历键值、遍历键名-键值" class="headerlink" title="ES6 keys()&amp;values()&amp;entries() 遍历键名、遍历键值、遍历键名+键值"></a>ES6 keys()&amp;values()&amp;entries() 遍历键名、遍历键值、遍历键名+键值</h4><p>定义：三个方法都返回一个新的 Array Iterator 对象，对象根据方法不同包含不同的值。</p>
<p>语法：</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">    array<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    array<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    array<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>参数：无。</p>
<p>遍历栗子(摘自<a href="https://link.juejin.cn/?target=http://es6.ruanyifeng.com/%23docs/array%23%E6%95%B0%E7%BB%84%E5%AE%9E%E4%BE%8B%E7%9A%84-entries%EF%BC%8Ckeys-%E5%92%8C-values">ECMAScript 6 入门</a>)：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// 0</span>
    <span class="token comment">// 1</span>
    
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> elem <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// 'a'</span>
    <span class="token comment">// 'b'</span>
    
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>index<span class="token punctuation">,</span> elem<span class="token punctuation">]</span> <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// 0 "a"</span>
    <span class="token comment">// 1 "b"</span>
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在<code>for..of</code>中如果遍历中途要退出，可以使用<code>break</code>退出循环。</p>
<p>如果不使用<code>for...of</code>循环，可以手动调用遍历器对象的next方法，进行遍历:</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">    <span class="token key attr-name">let letter</span> <span class="token punctuation">=</span> <span class="token value attr-value">['a', 'b', 'c'];</span>
    <span class="token key attr-name">let entries</span> <span class="token punctuation">=</span> <span class="token value attr-value">letter.entries();</span>
    console.log(entries.next().value); // [0, 'a']
    console.log(entries.next().value); // [1, 'b']
    console.log(entries.next().value); // [2, 'c']
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>entries()浏览器兼容性(MDN):Chrome 38, Firefox 28,Opera 25,Safari 7.1</p>
<p>keys()浏览器兼容性(MDN):Chrome 38, Firefox 28,Opera 25,Safari 8,</p>
<p><strong>注意</strong>:目前只有Safari 9支持,，其他浏览器未实现，babel转码器也还未实现</p>
<p>转载自 <a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903614918459406">https://juejin.cn/post/6844903614918459406</a></p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png" title="头像" alt="头像"></a><div class="post-copyright__author_name">kif</div><div class="post-copyright__author_desc">梅虽逊雪三分白，雪却输梅一段香</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://wkif.gitee.io/post/e4e8.html">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://wkif.gitee.io/post/e4e8.html')">js 数组详细操作方法及解析</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://wkif.gitee.io/post/e4e8.html"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=js 数组详细操作方法及解析&amp;url=https://wkif.gitee.io/post/e4e8.html&amp;pic=https://kifimg.oss-cn-beijing.aliyuncs.com/img/202301101122188.png" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://wkif.gitee.io" target="_blank">Kifroom</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/javascript/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>javascript<span class="tagsPageCount">7</span></a><a class="post-meta__box__tags" href="/tags/%E6%95%B0%E7%BB%84/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>数组<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/2b51.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifimg.oss-cn-beijing.aliyuncs.com/img/202212060030103.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">奇奇怪怪的兼容性Bug</div></div></a></div><div class="next-post pull-right"><a href="/post/f788.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifimg.oss-cn-beijing.aliyuncs.com/img/202301261903204.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">lerna+yarn workspace+monorepo项目的最佳实践</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/post/23df.html" title="JS数组reduce()方法详解及高级技巧"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifimg.oss-cn-beijing.aliyuncs.com/imgforhexo/20201202142640.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2022-05-23</div><div class="title">JS数组reduce()方法详解及高级技巧</div></div></a></div><div><a href="/post/4428.html" title="Javascript字符串处理"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifimg.oss-cn-beijing.aliyuncs.com/imgforhexo/20201202142640.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2021-01-10</div><div class="title">Javascript字符串处理</div></div></a></div><div><a href="/post/4016.html" title="javascript系列学习笔记-this"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifimg.oss-cn-beijing.aliyuncs.com/img/202211081854956.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2022-10-14</div><div class="title">javascript系列学习笔记-this</div></div></a></div><div><a href="/post/a426.html" title="js中截取字符串的三个方法 substring()、substr()、slice()"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifimg.oss-cn-beijing.aliyuncs.com/project/202207282315497.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2022-07-28</div><div class="title">js中截取字符串的三个方法 substring()、substr()、slice()</div></div></a></div><div><a href="/post/5478.html" title="js发布订阅"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifimg.oss-cn-beijing.aliyuncs.com/project/202206101955855.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2022-06-10</div><div class="title">js发布订阅</div></div></a></div><div><a href="/post/c03c.html" title="重温前端-js篇"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifimg.oss-cn-beijing.aliyuncs.com/project/202204241829907.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2022-02-03</div><div class="title">重温前端-js篇</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" ait="status"/></div></div><div class="author-info__description"></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">kif</h1><div class="author-info__desc">梅虽逊雪三分白，雪却输梅一段香</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/wkif" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来看我的博客鸭~</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84"><span class="toc-number">1.</span> <span class="toc-text">创建一个数组:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ES6-Array-of-%E8%BF%94%E5%9B%9E%E7%94%B1%E6%89%80%E6%9C%89%E5%8F%82%E6%95%B0%E5%80%BC%E7%BB%84%E6%88%90%E7%9A%84%E6%95%B0%E7%BB%84"><span class="toc-number">1.1.</span> <span class="toc-text">ES6 Array.of()  返回由所有参数值组成的数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ES6-Arrary-from-%E5%B0%86%E4%B8%A4%E7%B1%BB%E5%AF%B9%E8%B1%A1%E8%BD%AC%E4%B8%BA%E7%9C%9F%E6%AD%A3%E7%9A%84%E6%95%B0%E7%BB%84"><span class="toc-number">1.2.</span> <span class="toc-text">ES6 Arrary.from() 将两类对象转为真正的数组</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">方法:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B9%E5%8F%98%E5%8E%9F%E6%95%B0%E7%BB%84%E7%9A%84%E6%96%B9%E6%B3%95-9%E4%B8%AA"><span class="toc-number">1.</span> <span class="toc-text">改变原数组的方法(9个):</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#splice-%E6%B7%BB%E5%8A%A0-x2F-%E5%88%A0%E9%99%A4%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-number">1.1.</span> <span class="toc-text">splice() 添加&#x2F;删除数组元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sort-%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F"><span class="toc-number">1.2.</span> <span class="toc-text">sort() 数组排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pop-%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%9C%80%E5%90%8E%E7%9A%84%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0"><span class="toc-number">1.3.</span> <span class="toc-text">pop() 删除一个数组中的最后的一个元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shift-%E5%88%A0%E9%99%A4%E6%95%B0%E7%BB%84%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0"><span class="toc-number">1.4.</span> <span class="toc-text">shift() 删除数组的第一个元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#push-%E5%90%91%E6%95%B0%E7%BB%84%E7%9A%84%E6%9C%AB%E5%B0%BE%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0"><span class="toc-number">1.5.</span> <span class="toc-text">push() 向数组的末尾添加元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#unshift"><span class="toc-number">1.6.</span> <span class="toc-text">unshift()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reverse-%E9%A2%A0%E5%80%92%E6%95%B0%E7%BB%84%E4%B8%AD%E5%85%83%E7%B4%A0%E7%9A%84%E9%A1%BA%E5%BA%8F"><span class="toc-number">1.7.</span> <span class="toc-text">reverse() 颠倒数组中元素的顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ES6-copyWithin-%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE%E7%9A%84%E6%88%90%E5%91%98%E5%A4%8D%E5%88%B6%E5%88%B0%E5%85%B6%E4%BB%96%E4%BD%8D%E7%BD%AE"><span class="toc-number">1.8.</span> <span class="toc-text">ES6: copyWithin() 指定位置的成员复制到其他位置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ES6-fill-%E5%A1%AB%E5%85%85%E6%95%B0%E7%BB%84"><span class="toc-number">1.9.</span> <span class="toc-text">ES6: fill() 填充数组</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E6%94%B9%E5%8F%98%E5%8E%9F%E6%95%B0%E7%BB%84%E7%9A%84%E6%96%B9%E6%B3%95-8%E4%B8%AA"><span class="toc-number">2.</span> <span class="toc-text">不改变原数组的方法(8个):</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#slice-%E6%B5%85%E6%8B%B7%E8%B4%9D%E6%95%B0%E7%BB%84%E7%9A%84%E5%85%83%E7%B4%A0"><span class="toc-number">2.1.</span> <span class="toc-text">slice() 浅拷贝数组的元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#join-%E6%95%B0%E7%BB%84%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">2.2.</span> <span class="toc-text">join()  数组转字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#toLocaleString-%E6%95%B0%E7%BB%84%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">2.3.</span> <span class="toc-text">toLocaleString() 数组转字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#toString-%E6%95%B0%E7%BB%84%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2-%E4%B8%8D%E6%8E%A8%E8%8D%90"><span class="toc-number">2.4.</span> <span class="toc-text">toString() 数组转字符串 不推荐</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cancat"><span class="toc-number">2.5.</span> <span class="toc-text">cancat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#indexOf-%E6%9F%A5%E6%89%BE%E6%95%B0%E7%BB%84%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E6%9F%90%E4%B8%AA%E5%85%83%E7%B4%A0%EF%BC%8C%E8%BF%94%E5%9B%9E%E4%B8%8B%E6%A0%87"><span class="toc-number">2.6.</span> <span class="toc-text">indexOf() 查找数组是否存在某个元素，返回下标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lastIndexOf-%E6%9F%A5%E6%89%BE%E6%8C%87%E5%AE%9A%E5%85%83%E7%B4%A0%E5%9C%A8%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E4%BD%8D%E7%BD%AE"><span class="toc-number">2.7.</span> <span class="toc-text">lastIndexOf() 查找指定元素在数组中的最后一个位置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ES7-includes-%E6%9F%A5%E6%89%BE%E6%95%B0%E7%BB%84%E6%98%AF%E5%90%A6%E5%8C%85%E5%90%AB%E6%9F%90%E4%B8%AA%E5%85%83%E7%B4%A0-%E8%BF%94%E5%9B%9E%E5%B8%83%E5%B0%94"><span class="toc-number">2.8.</span> <span class="toc-text">ES7 includes() 查找数组是否包含某个元素 返回布尔</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E6%96%B9%E6%B3%95-12%E4%B8%AA"><span class="toc-number">3.</span> <span class="toc-text">遍历方法(12个):</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E9%81%8D%E5%8E%86%EF%BC%9A"><span class="toc-number">3.1.</span> <span class="toc-text">关于遍历：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#forEach"><span class="toc-number">3.2.</span> <span class="toc-text">forEach</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E9%9D%A2%E7%B1%BB%E4%BC%BC%E8%AF%AD%E6%B3%95%E5%90%8C%E6%A0%B7%E9%80%82%E7%94%A8%E8%BF%99%E4%BA%9B%E8%A7%84%E5%88%99"><span class="toc-number">3.3.</span> <span class="toc-text">下面类似语法同样适用这些规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#every-%E6%A3%80%E6%B5%8B%E6%95%B0%E7%BB%84%E6%89%80%E6%9C%89%E5%85%83%E7%B4%A0%E6%98%AF%E5%90%A6%E9%83%BD%E7%AC%A6%E5%90%88%E5%88%A4%E6%96%AD%E6%9D%A1%E4%BB%B6"><span class="toc-number">3.4.</span> <span class="toc-text">every 检测数组所有元素是否都符合判断条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#some-%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%98%AF%E5%90%A6%E6%9C%89%E6%BB%A1%E8%B6%B3%E5%88%A4%E6%96%AD%E6%9D%A1%E4%BB%B6%E7%9A%84%E5%85%83%E7%B4%A0"><span class="toc-number">3.5.</span> <span class="toc-text">some 数组中的是否有满足判断条件的元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#filter-%E8%BF%87%E6%BB%A4%E5%8E%9F%E5%A7%8B%E6%95%B0%E7%BB%84%EF%BC%8C%E8%BF%94%E5%9B%9E%E6%96%B0%E6%95%B0%E7%BB%84"><span class="toc-number">3.6.</span> <span class="toc-text">filter 过滤原始数组，返回新数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#map-%E5%AF%B9%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%AF%8F%E4%B8%AA%E5%85%83%E7%B4%A0%E8%BF%9B%E8%A1%8C%E5%A4%84%E7%90%86%EF%BC%8C%E8%BF%94%E5%9B%9E%E6%96%B0%E7%9A%84%E6%95%B0%E7%BB%84"><span class="toc-number">3.7.</span> <span class="toc-text">map 对数组中的每个元素进行处理，返回新的数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reduce-%E4%B8%BA%E6%95%B0%E7%BB%84%E6%8F%90%E4%BE%9B%E7%B4%AF%E5%8A%A0%E5%99%A8%EF%BC%8C%E5%90%88%E5%B9%B6%E4%B8%BA%E4%B8%80%E4%B8%AA%E5%80%BC"><span class="toc-number">3.8.</span> <span class="toc-text">reduce 为数组提供累加器，合并为一个值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reduceRight-%E4%BB%8E%E5%8F%B3%E8%87%B3%E5%B7%A6%E7%B4%AF%E5%8A%A0"><span class="toc-number">3.9.</span> <span class="toc-text">reduceRight  从右至左累加</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ES6%EF%BC%9Afind-amp-findIndex-%E6%A0%B9%E6%8D%AE%E6%9D%A1%E4%BB%B6%E6%89%BE%E5%88%B0%E6%95%B0%E7%BB%84%E6%88%90%E5%91%98"><span class="toc-number">3.10.</span> <span class="toc-text">ES6：find()&amp; findIndex() 根据条件找到数组成员</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ES6-keys-amp-values-amp-entries-%E9%81%8D%E5%8E%86%E9%94%AE%E5%90%8D%E3%80%81%E9%81%8D%E5%8E%86%E9%94%AE%E5%80%BC%E3%80%81%E9%81%8D%E5%8E%86%E9%94%AE%E5%90%8D-%E9%94%AE%E5%80%BC"><span class="toc-number">3.11.</span> <span class="toc-text">ES6 keys()&amp;values()&amp;entries() 遍历键名、遍历键值、遍历键名+键值</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/a34e.html" title="使用WebAssembly优化性能问题">使用WebAssembly优化性能问题</a><time datetime="2023-09-02T05:47:00.000Z" title="发表于 2023-09-02 13:47:00">2023-09-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/kif1.html" title="Math.toFixed中的四舍五入问题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kiftravel.oss-cn-beijing.aliyuncs.com/img/202308280943672.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Math.toFixed中的四舍五入问题"/></a><div class="content"><a class="title" href="/post/kif1.html" title="Math.toFixed中的四舍五入问题">Math.toFixed中的四舍五入问题</a><time datetime="2023-08-28T03:09:00.000Z" title="发表于 2023-08-28 11:09:00">2023-08-28</time></div></div><div class="aside-list-item"><div class="content"><a class="title" href="/post/8a59.html" title="React系列：Rematch">React系列：Rematch</a><time datetime="2023-08-05T03:31:00.000Z" title="发表于 2023-08-05 11:31:00">2023-08-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/9aee.html" title="kif的neovim设置"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifimg.oss-cn-beijing.aliyuncs.com/img/202304191059908.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kif的neovim设置"/></a><div class="content"><a class="title" href="/post/9aee.html" title="kif的neovim设置">kif的neovim设置</a><time datetime="2023-04-19T02:58:00.000Z" title="发表于 2023-04-19 10:58:00">2023-04-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/5fbb.html" title="win11中powershell设置v2ray代理"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifimg.oss-cn-beijing.aliyuncs.com/img/202304191057671.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="win11中powershell设置v2ray代理"/></a><div class="content"><a class="title" href="/post/5fbb.html" title="win11中powershell设置v2ray代理">win11中powershell设置v2ray代理</a><time datetime="2023-04-19T02:54:00.000Z" title="发表于 2023-04-19 10:54:00">2023-04-19</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2023 By <a class="footer-bar-link" href="/" title="kif" target="_blank">kif</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">67</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">49</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">17</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.kifroom.icu/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/ico.png" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://kifnav.kifroom.icu/" title="kifNav"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://kifnav.kifroom.icu/favicon.ico" alt="kifNav"/><span class="back-menu-item-text">kifNav</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/links/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/message-board/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Axios/" style="font-size: 0.88rem;">Axios<sup>3</sup></a><a href="/tags/C-S-N/" style="font-size: 0.88rem;">C.S.N<sup>1</sup></a><a href="/tags/Ckeditor4/" style="font-size: 0.88rem;">Ckeditor4<sup>1</sup></a><a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 0.88rem;">C语言<sup>3</sup></a><a href="/tags/Django/" style="font-size: 0.88rem;">Django<sup>1</sup></a><a href="/tags/Excel/" style="font-size: 0.88rem;">Excel<sup>1</sup></a><a href="/tags/Oracle/" style="font-size: 0.88rem;">Oracle<sup>1</sup></a><a href="/tags/Python/" style="font-size: 0.88rem;">Python<sup>1</sup></a><a href="/tags/RSA/" style="font-size: 0.88rem;">RSA<sup>1</sup></a><a href="/tags/SQL/" style="font-size: 0.88rem;">SQL<sup>1</sup></a><a href="/tags/VS-code/" style="font-size: 0.88rem;">VS code<sup>1</sup></a><a href="/tags/Vue-js/" style="font-size: 0.88rem;">Vue.js<sup>2</sup></a><a href="/tags/Win/" style="font-size: 0.88rem;">Win<sup>3</sup></a><a href="/tags/dom-to-image/" style="font-size: 0.88rem;">dom-to-image<sup>1</sup></a><a href="/tags/express/" style="font-size: 0.88rem;">express<sup>1</sup></a><a href="/tags/git/" style="font-size: 0.88rem;">git<sup>1</sup></a><a href="/tags/hexo/" style="font-size: 0.88rem;">hexo<sup>5</sup></a><a href="/tags/javascript/" style="font-size: 0.88rem;">javascript<sup>7</sup></a><a href="/tags/kali/" style="font-size: 0.88rem;">kali<sup>1</sup></a><a href="/tags/leetcode/" style="font-size: 0.88rem;">leetcode<sup>1</sup></a><a href="/tags/lerna/" style="font-size: 0.88rem;">lerna<sup>1</sup></a><a href="/tags/linux/" style="font-size: 0.88rem;">linux<sup>1</sup></a><a href="/tags/matery/" style="font-size: 0.88rem;">matery<sup>2</sup></a><a href="/tags/monorepo/" style="font-size: 0.88rem;">monorepo<sup>1</sup></a><a href="/tags/node-js/" style="font-size: 0.88rem;">node.js<sup>2</sup></a><a href="/tags/pinia/" style="font-size: 0.88rem;">pinia<sup>1</sup></a><a href="/tags/pyqt/" style="font-size: 0.88rem;">pyqt<sup>1</sup></a><a href="/tags/this/" style="font-size: 0.88rem;">this<sup>1</sup></a><a href="/tags/vite/" style="font-size: 0.88rem;">vite<sup>2</sup></a><a href="/tags/vue3/" style="font-size: 0.88rem;">vue3<sup>3</sup></a><a href="/tags/webpack/" style="font-size: 0.88rem;">webpack<sup>1</sup></a><a href="/tags/workspace/" style="font-size: 0.88rem;">workspace<sup>1</sup></a><a href="/tags/%E5%85%BC%E5%AE%B9%E6%80%A7/" style="font-size: 0.88rem;">兼容性<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 0.88rem;">前端<sup>1</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/" style="font-size: 0.88rem;">开发规范<sup>2</sup></a><a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 0.88rem;">微信小程序<sup>4</sup></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 0.88rem;">操作系统<sup>3</sup></a><a href="/tags/%E6%95%B0%E7%BB%84/" style="font-size: 0.88rem;">数组<sup>1</sup></a><a href="/tags/%E7%BD%91%E7%AB%99%E4%BE%BF%E7%AD%BE/" style="font-size: 0.88rem;">网站便签<sup>1</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 0.88rem;">面试<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.4/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.5",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 kif 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'b7AAVOuWhWIEQsQfviV12FRp-gzGzoHsz',
      appKey: 'TYFSaiPIN5WAmTU3nv8wG8wb',
      avatar: 'mp',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: true
    }, null))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://cdn.cbd.int/valine@1.5.1/dist/Valine.min.js')
      initValine()
    }
  }

  if ('Valine' === 'Valine' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script src="https://cdn.cbd.int/blueimp-md5@2.19.0/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    let defaultIcon = '?d=mp'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
    const serverURL = 'https://b7AAVOuW.api.lncldglobal.com'

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": 'b7AAVOuWhWIEQsQfviV12FRp-gzGzoHsz',
        "X-LC-Key": 'TYFSaiPIN5WAmTU3nv8wG8wb',
        "Content-Type": "application/json"
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=6&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': getIcon(e.QQAvatar, e.mail),
            'content': changeContent(e.comment),
            'nick': e.nick,
            'url': e.url + '#' + e.objectId,
            'date': e.updatedAt,
          }
        })
        saveToLocal.set('valine-newest-comments', JSON.stringify(valineArray), 10/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('valine-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script>var visitorMail = "kif101001000@163.com";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>