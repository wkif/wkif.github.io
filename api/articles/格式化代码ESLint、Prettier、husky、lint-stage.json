{"title":"小程序开发格式化代码ESLint、Prettier、husky、lint-stage","uid":"cda59d058e4a4f6c68fab1d6f2eeb3e5","slug":"格式化代码ESLint、Prettier、husky、lint-stage","date":"2022-11-19T07:56:00.000Z","updated":"2022-11-19T08:05:46.100Z","comments":true,"path":"api/articles/格式化代码ESLint、Prettier、husky、lint-stage.json","keywords":null,"cover":"https://kifimg.oss-cn-beijing.aliyuncs.com/img/202211191605164.jpg","content":"<h2 id=\"依赖\"><a href=\"#依赖\" class=\"headerlink\" title=\"依赖\"></a><strong>依赖</strong></h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">yarn init\nyarn add --dev babel-eslint@10.0.3\nyarn add --dev eslint@6.7.1\nyarn add --dev eslint-config-alloy@3.7.1\nyarn add --dev eslint-config-prettier@6.10.0\nyarn add --dev eslint-plugin-prettier@3.1.4\nyarn add --dev prettier@2.0.5\nyarn add --dev prettier-eslint-cli@5.0.0\nyarn add --dev npm-run-all@4.1.5\nyarn add --dev husky@4.3.0\nyarn add --dev lint-staged@10.3.0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"package-json\"><a href=\"#package-json\" class=\"headerlink\" title=\"package.json\"></a><strong>package.json</strong></h2><pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"> <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"eslint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"eslint . --ext .js,.wxs,.sjs\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"eslint:fix\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"eslint --fix . --ext .js,.wxs,.sjs\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"prettier:fix\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"prettier --config .prettierrc.js --write './**/*.&#123;js,sjs,wxs,css,wxss,acss,wxml,axml,less,scss,json&#125;'\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"format:all\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm-run-all -s prettier:fix eslint:fix\"</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"babel-eslint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10.0.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"eslint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"6.7.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"eslint-config-alloy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3.7.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"eslint-config-prettier\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"6.10.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"eslint-plugin-prettier\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3.1.4\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"husky\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4.3.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"lint-staged\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10.3.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"npm-run-all\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4.1.5\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"prettier\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2.0.5\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"prettier-eslint-cli\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"5.0.0\"</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token comment\">//下面两个在提交代码前的格式校验</span>\n  <span class=\"token property\">\"husky\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"hooks\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token property\">\"pre-commit\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"lint-staged\"</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"lint-staged\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"*.&#123;js,wxs,sjs&#125;\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token string\">\"prettier --config .prettierrc.js --write\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"eslint --fix --ext .js\"</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"*.&#123;json,wxml,axml,css,wxss,acss,wxml,axml,less,scss&#125;\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"prettier --config .prettierrc.js --write\"</span>\n  <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"vscode设置\"><a href=\"#vscode设置\" class=\"headerlink\" title=\"vscode设置\"></a><strong>vscode设置</strong></h2><p>路径是：<code>your_project/.vscode/settings.json</code></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"files.associations\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token property\">\"*.wxss\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"css\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"*.wxs\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"javascript\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"*.acss\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"css\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"*.axml\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"html\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"*.wxml\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"html\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"*.swan\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"html\"</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"files.trimTrailingWhitespace\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"eslint.workingDirectories\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">&#123;</span> <span class=\"token property\">\"mode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"auto\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"eslint.enable\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 是否开启 vscode 的 eslint</span>\n    <span class=\"token property\">\"eslint.options\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token comment\">// 指定 vscode 的 eslint 所处理的文件的后缀</span>\n      <span class=\"token property\">\"extensions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\".js\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\".ts\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\".tsx\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"eslint.validate\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"javascript\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"editor.codeActionsOnSave\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token property\">\"source.fixAll.eslint\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"git.ignoreLimitWarning\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h2 id=\"格式配置文件-eslintrc-js-和-prettierrc-js\"><a href=\"#格式配置文件-eslintrc-js-和-prettierrc-js\" class=\"headerlink\" title=\"格式配置文件 .eslintrc.js 和 .prettierrc.js\"></a><strong>格式配置文件 .eslintrc.js 和 .prettierrc.js</strong></h2><pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token comment\">// .eslintrc.js</span>\nmodule.exports = <span class=\"token punctuation\">&#123;</span>\n  root<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  parser<span class=\"token operator\">:</span> 'babel-eslint'<span class=\"token punctuation\">,</span>\n  env<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    browser<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    es6<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    node<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    commonjs<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  extends<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>'alloy'<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>'prettier'<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  globals<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    Atomics<span class=\"token operator\">:</span> 'readonly'<span class=\"token punctuation\">,</span>\n    SharedArrayBuffer<span class=\"token operator\">:</span> 'readonly'<span class=\"token punctuation\">,</span>\n    __DEV__<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    __WECHAT__<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    __ALIPAY__<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    App<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    Page<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    Component<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    Behavior<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    wx<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    my<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    swan<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    getApp<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    getCurrentPages<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  parserOptions<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    ecmaVersion<span class=\"token operator\">:</span> <span class=\"token number\">2018</span><span class=\"token punctuation\">,</span>\n    sourceType<span class=\"token operator\">:</span> 'module'\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  rules<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    'no-debugger'<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    'no-unused-vars'<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    'no-var'<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    'no-param-reassign'<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    'no-irregular-whitespace'<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    'no-useless-catch'<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    'max-params'<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>'error'<span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    'array-callback-return'<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    eqeqeq<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    indent<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>'error'<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> SwitchCase<span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token comment\">// .prettierrc.js</span>\nmodule.exports = <span class=\"token punctuation\">&#123;</span>\n    printWidth<span class=\"token operator\">:</span> <span class=\"token number\">120</span><span class=\"token punctuation\">,</span>\n    tabWidth<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    useTabs<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    semi<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    singleQuote<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n \n    <span class=\"token comment\">// 对象的 key 仅在必要时用引号</span>\n    quoteProps<span class=\"token operator\">:</span> 'as-needed'<span class=\"token punctuation\">,</span>\n \n    <span class=\"token comment\">// jsx 不使用单引号，而使用双引号</span>\n    jsxSingleQuote<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n \n    <span class=\"token comment\">// 末尾不需要逗号</span>\n    trailingComma<span class=\"token operator\">:</span> 'none'<span class=\"token punctuation\">,</span>\n \n    <span class=\"token comment\">// 大括号内的首尾需要空格</span>\n    bracketSpacing<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n \n    <span class=\"token comment\">// jsx 标签的反尖括号需要换行</span>\n    jsxBracketSameLine<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n \n    <span class=\"token comment\">// 箭头函数，只有一个参数的时候，无需括号</span>\n    arrowParens<span class=\"token operator\">:</span> 'avoid'<span class=\"token punctuation\">,</span>\n \n    <span class=\"token comment\">// 每个文件格式化的范围是文件的全部内容</span>\n    rangeStart<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n \n    rangeEnd<span class=\"token operator\">:</span> Infinity<span class=\"token punctuation\">,</span>\n \n    <span class=\"token comment\">// 不需要写文件开头的 @prettier</span>\n    requirePragma<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n \n    <span class=\"token comment\">// 不需要自动在文件开头插入 @prettier</span>\n    insertPragma<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n \n    <span class=\"token comment\">// 使用默认的折行标准</span>\n    proseWrap<span class=\"token operator\">:</span> 'preserve'<span class=\"token punctuation\">,</span>\n \n    <span class=\"token comment\">// 根据显示样式决定 html 要不要折行</span>\n    htmlWhitespaceSensitivity<span class=\"token operator\">:</span> 'css'<span class=\"token punctuation\">,</span>\n \n    <span class=\"token comment\">// 换行符使用 lf</span>\n    endOfLine<span class=\"token operator\">:</span> 'lf'<span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// Prettier 支持对某些文件扩展名，文件夹和特定文件进行不同的配置</span>\n    overrides<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">&#123;</span>\n          files<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>'*.wxss'<span class=\"token punctuation\">,</span> '*.acss'<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          options<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n            parser<span class=\"token operator\">:</span> 'css'\n          <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#123;</span>\n          files<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>'*.wxml'<span class=\"token punctuation\">,</span> '*.axml'<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          options<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n            parser<span class=\"token operator\">:</span> 'html'\n          <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#123;</span>\n          files<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>'*.wxs'<span class=\"token punctuation\">,</span> '*.sjs'<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          options<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n            parser<span class=\"token operator\">:</span> 'babel'\n          <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n      <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h2 id=\"配置忽略文件-eslintignore-和-prettierignore\"><a href=\"#配置忽略文件-eslintignore-和-prettierignore\" class=\"headerlink\" title=\"配置忽略文件 .eslintignore 和 .prettierignore\"></a><strong>配置忽略文件 .eslintignore 和 .prettierignore</strong></h2><pre class=\"line-numbers language-none\"><code class=\"language-none\"># .eslintignore\n \n*.min.js\ntypings\nnode_modules<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># .prettierignore\n \n*.min.js\n&#x2F;node_modules\n&#x2F;dist\n# OS\n.DS_Store\n.idea\n.editorconfig\n.npmrc\npackage-lock.json\n# Ignored suffix\n*.log\n*.md\n*.svg\n*.png\n*ignore\n## Built-files\n.cache\ndist<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"editorconfig-配置文件\"><a href=\"#editorconfig-配置文件\" class=\"headerlink\" title=\".editorconfig 配置文件\"></a><strong><code>.editorconfig</code> 配置文件</strong></h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>抹平不同编辑器之间的差异</p></blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># .editorconfig\n# http:&#x2F;&#x2F;editorconfig.org\n# https:&#x2F;&#x2F;github.com&#x2F;editorconfig&#x2F;editorconfig&#x2F;wiki&#x2F;EditorConfig-Properties\n \n \n# 根目录的配置文件，编辑器会由当前目录向上查找，如果找到 &#96;roor &#x3D; true&#96; 的文件，则不再查找\nroot &#x3D; true\n \n# 匹配所有的文件\n[*]\n# 缩进风格：space\nindent_style &#x3D; space\n# 缩进大小 2\nindent_size &#x3D; 2\n# 换行符 lf\nend_of_line &#x3D; lf\n# 字符集 utf-8\ncharset &#x3D; utf-8\n# 不保留行末的空格\ntrim_trailing_whitespace &#x3D; true\n# 文件末尾添加一个空行\ninsert_final_newline &#x3D; true\n# 运算符两遍都有空格\nspaces_around_operators &#x3D; true\n \n# 对所有的 js 文件生效\n[*.js]\n# 字符串使用单引号\nquote_type &#x3D; single\n \n[*.md]\ntrim_trailing_whitespace &#x3D; false<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h2 id=\"微信小程序的打包配置\"><a href=\"#微信小程序的打包配置\" class=\"headerlink\" title=\"微信小程序的打包配置\"></a><strong>微信小程序的打包配置</strong></h2><pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token comment\">// project.config.json 仅微信小程序</span>\n \n<span class=\"token property\">\"packOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"ignore\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"regexp\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\\\\.md$\"</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"folder\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node_modules\"</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n\n\n\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>來源：<a href=\"https://blog.csdn.net/shengxianghui/article/details/117463206\">https://blog.csdn.net/shengxianghui/article/details/117463206</a></p></blockquote>\n","text":"依赖yarn init yarn add --dev babel-eslint@10.0.3 yarn add --dev eslint@6.7.1 yarn add --dev eslint-config-alloy@3.7.1 yarn add --dev eslint-co...","link":"","photos":[],"count_time":{"symbolsCount":"5.8k","symbolsTime":"5 mins."},"categories":[{"name":"开发记录","slug":"开发记录","count":3,"path":"api/categories/开发记录.json"}],"tags":[{"name":"开发规范","slug":"开发规范","count":2,"path":"api/tags/开发规范.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BE%9D%E8%B5%96\"><span class=\"toc-text\">依赖</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#package-json\"><span class=\"toc-text\">package.json</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#vscode%E8%AE%BE%E7%BD%AE\"><span class=\"toc-text\">vscode设置</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%A0%BC%E5%BC%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-eslintrc-js-%E5%92%8C-prettierrc-js\"><span class=\"toc-text\">格式配置文件 .eslintrc.js 和 .prettierrc.js</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE%E5%BF%BD%E7%95%A5%E6%96%87%E4%BB%B6-eslintignore-%E5%92%8C-prettierignore\"><span class=\"toc-text\">配置忽略文件 .eslintignore 和 .prettierignore</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#editorconfig-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">.editorconfig 配置文件</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%89%93%E5%8C%85%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">微信小程序的打包配置</span></a></li></ol>","author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"vue3+vite+ts配置eslint+husky","uid":"59055f5d64cb45bdfcbaa23146e2d50d","slug":"vue3-vite-ts配置eslint-husky","date":"2022-11-19T08:06:00.000Z","updated":"2022-11-19T08:09:05.319Z","comments":true,"path":"api/articles/vue3-vite-ts配置eslint-husky.json","keywords":null,"cover":"https://kifimg.oss-cn-beijing.aliyuncs.com/img/202211191608596.jpg","text":"vue3+vite+ts配置eslint+husky创建项目命令 yarn create vite vue3-vite-ts –template vue-ts eslint代码风格检查，prettier进行格式化代码 安装相关依赖 ； yarn add eslint eslint...","link":"","photos":[],"count_time":{"symbolsCount":"5.3k","symbolsTime":"5 mins."},"categories":[{"name":"开发记录","slug":"开发记录","count":3,"path":"api/categories/开发记录.json"}],"tags":[{"name":"开发规范","slug":"开发规范","count":2,"path":"api/tags/开发规范.json"}],"author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}}},"next_post":{"title":"Express学习笔记","uid":"21bb48a1d155e2a691456134eb3d7736","slug":"Express学习笔记","date":"2022-11-08T10:46:00.000Z","updated":"2022-11-12T06:20:43.023Z","comments":true,"path":"api/articles/Express学习笔记.json","keywords":null,"cover":"https://kifimg.oss-cn-beijing.aliyuncs.com/img/202211081857301.png","text":"Express的安装npm install express -g 脚手架工具安装express的脚手架工具express-generator npm install express-generator -g 创建项目 express express-demo 安装依赖 cd ex...","link":"","photos":[],"count_time":{"symbolsCount":"22k","symbolsTime":"20 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":25,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"node.js","slug":"node-js","count":2,"path":"api/tags/node-js.json"},{"name":"express","slug":"express","count":1,"path":"api/tags/express.json"}],"author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}}}}