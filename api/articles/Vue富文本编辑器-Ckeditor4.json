{"title":"Vue富文本编辑器-Ckeditor4","uid":"6a32b67b896744689e1672530d5c4943","slug":"Vue富文本编辑器-Ckeditor4","date":"2022-11-08T10:46:00.000Z","updated":"2022-12-02T07:01:36.219Z","comments":true,"path":"api/articles/Vue富文本编辑器-Ckeditor4.json","keywords":null,"cover":"https://kifimg.oss-cn-beijing.aliyuncs.com/img/202212021459403.png","content":"<h2 id=\"Ckeditor4的下载\"><a href=\"#Ckeditor4的下载\" class=\"headerlink\" title=\"Ckeditor4的下载\"></a>Ckeditor4的下载</h2><p>link: <a href=\"https://ckeditor.com/ckeditor-4/download/\">https://ckeditor.com/ckeditor-4/download/</a></p>\n<p><img src=\"https://kifimg.oss-cn-beijing.aliyuncs.com/img/202212021440600.png\" alt=\"image-20221202144002932\"><br> 下载好后解压,<br><img src=\"https://kifimg.oss-cn-beijing.aliyuncs.com/img/202212021439837.png\" alt=\"image-20221202143929813\"><br> 打开index,<br> <img src=\"https://img-blog.csdnimg.cn/20190109103910244.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mjk5MjEwOQ==,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"><br> 打开后就是配置界面<br> <img src=\"https://img-blog.csdnimg.cn/20190109104019725.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mjk5MjEwOQ==,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"><br> 在这里进行增删移动，看自己需求,调整好后<br> <img src=\"https://img-blog.csdnimg.cn/20190109104140556.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mjk5MjEwOQ==,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"><br> 这里就是配置文件了，复制</p>\n<h2 id=\"导入\"><a href=\"#导入\" class=\"headerlink\" title=\"导入\"></a>导入</h2><p>将整个目录放在你的项目下<br> <img src=\"https://kifimg.oss-cn-beijing.aliyuncs.com/img/202212021439837.png\" alt=\"image-20221202143929813\"><br> 在需要用到的地方引用</p>\n<p><img src=\"https://kifimg.oss-cn-beijing.aliyuncs.com/img/202212021441745.png\" alt=\"image-20221202144133642\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;script src&#x3D;&quot;..&#x2F;static&#x2F;ckeditor&#x2F;ckeditor.js&quot;&gt;&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>vue主要在index.html</p></blockquote>\n<p>需要的界面通过id引入</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"> &lt;div&gt;\n  &lt;textarea :id&#x3D;&quot;id&quot;&gt;&lt;&#x2F;textarea&gt;\n&lt;&#x2F;div&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>之后再mounted周期里面</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function-variable function\">mounted</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n   <span class=\"token keyword\">const</span> self <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n   <span class=\"token comment\">// 渲染编辑器</span>\n   self<span class=\"token punctuation\">.</span>ckeditor <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span><span class=\"token constant\">CKEDITOR</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n     <span class=\"token literal-property property\">toolbarGroups</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n       <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"basicstyles\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"basicstyles\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"cleanup\"</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n       <span class=\"token punctuation\">&#123;</span>\n         <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"paragraph\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"list\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"indent\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"blocks\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"align\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bidi\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"paragraph\"</span><span class=\"token punctuation\">]</span>\n       <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n       <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"links\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"links\"</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n       <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"insert\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"insert\"</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\n       <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"styles\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"styles\"</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n       <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"colors\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"colors\"</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n       <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tools\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"tools\"</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#125;</span>\n       <span class=\"token comment\">// &#123; name: 'others', groups: ['others'] &#125;,</span>\n     <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n     <span class=\"token comment\">// eslint-disable-next-line</span>\n     <span class=\"token literal-property property\">removeButtons</span><span class=\"token operator\">:</span>\n<span class=\"token string\">\"Save,NewPage,Preview,Print,Templates,Cut,Copy,Paste,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Form,Checkbox,Radio,TextField,Textarea,Select,Button,HiddenField,CreateDiv,BidiLtr,BidiRtl,Language,Anchor,Flash,HorizontalRule,PageBreak,Iframe,About,Maximize\"</span>\n   <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n   <span class=\"token comment\">// 设置初始内容</span>\n   <span class=\"token comment\">// self.ckeditor.setData(self.value)</span>\n\n   <span class=\"token comment\">// 监听内容变更事件</span>\n   self<span class=\"token punctuation\">.</span>ckeditor<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"change\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n     console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'change'</span><span class=\"token punctuation\">)</span>\n    \n   <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n   self<span class=\"token punctuation\">.</span>ckeditor<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"instanceReady\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    \n   <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>removeButtons可以隐藏不需要的按钮；这里面可以通过change事件来监听内容，从而实现 图片上传。</p>\n<p>instanceReady 事件来实现数据缓存载入</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">self<span class=\"token punctuation\">.</span>ckeditor<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"instanceReady\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ckeditorContent\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'击中内容缓存'</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>ckeditor<span class=\"token punctuation\">.</span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ckeditorContent\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n        self<span class=\"token punctuation\">.</span>ckeditor<span class=\"token punctuation\">.</span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>self.ckeditor.setData 事件进行内容赋值；其他事件见<a href=\"https://ckeditor.com/docs/ckeditor4/latest/guide/index.html\">官方文档</a>。</p>\n<h2 id=\"config-js\"><a href=\"#config-js\" class=\"headerlink\" title=\"config.js\"></a>config.js</h2><p>原文件如下：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see https://ckeditor.com/legal/ckeditor-oss-license\n */</span>\n\n<span class=\"token constant\">CKEDITOR</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">editorConfig</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span> <span class=\"token parameter\">config</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token comment\">// Define changes to default configuration here.</span>\n\t<span class=\"token comment\">// For complete reference see:</span>\n\t<span class=\"token comment\">// https://ckeditor.com/docs/ckeditor4/latest/api/CKEDITOR_config.html</span>\n\n\t<span class=\"token comment\">// The toolbar groups arrangement, optimized for two toolbar rows.</span>\n\tconfig<span class=\"token punctuation\">.</span>toolbarGroups <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n\t\t<span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'clipboard'</span><span class=\"token punctuation\">,</span>   <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'clipboard'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'undo'</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'editing'</span><span class=\"token punctuation\">,</span>     <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'find'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'selection'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'spellchecker'</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'links'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'insert'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'forms'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'tools'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'document'</span><span class=\"token punctuation\">,</span>\t   <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'mode'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'document'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'doctools'</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'others'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'basicstyles'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'basicstyles'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cleanup'</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'paragraph'</span><span class=\"token punctuation\">,</span>   <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'list'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'indent'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'blocks'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'align'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bidi'</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'styles'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'colors'</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'about'</span> <span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">// Remove some buttons provided by the standard plugins, which are</span>\n\t<span class=\"token comment\">// not needed in the Standard(s) toolbar.</span>\n\tconfig<span class=\"token punctuation\">.</span>removeButtons <span class=\"token operator\">=</span> <span class=\"token string\">'Underline,Subscript,Superscript'</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">// Set the most common block elements.</span>\n\tconfig<span class=\"token punctuation\">.</span>format_tags <span class=\"token operator\">=</span> <span class=\"token string\">'p;h1;h2;h3;pre'</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">// Simplify the dialog windows.</span>\n\tconfig<span class=\"token punctuation\">.</span>removeDialogTabs <span class=\"token operator\">=</span> <span class=\"token string\">'image:advanced;link:advanced'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>config.toolbarGroups 在mounted 配置过了，这儿删掉，</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see https://ckeditor.com/legal/ckeditor-oss-license\n */</span>\n\n<span class=\"token constant\">CKEDITOR</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">editorConfig</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">config</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token comment\">// Define changes to default configuration here. For example:</span>\n\tconfig<span class=\"token punctuation\">.</span>language <span class=\"token operator\">=</span> <span class=\"token string\">'zh-CN'</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token comment\">// config.uiColor = '#AADC6E';</span>\n\tconfig<span class=\"token punctuation\">.</span>extraPlugins <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">.</span>extraPlugins <span class=\"token operator\">?</span> <span class=\"token string\">',lineheight'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'lineheight'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tconfig<span class=\"token punctuation\">.</span>allowedContent <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\tconfig<span class=\"token punctuation\">.</span>removePlugins <span class=\"token operator\">=</span> <span class=\"token string\">'elementspath'</span><span class=\"token punctuation\">;</span>\n\tconfig<span class=\"token punctuation\">.</span>toolbarCanCollapse <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\tconfig<span class=\"token punctuation\">.</span>pasteFilter <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token constant\">CKEDITOR</span><span class=\"token punctuation\">.</span>dtd<span class=\"token punctuation\">.</span>$removeEmpty<span class=\"token punctuation\">.</span>span <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>config.language 设置语言；当前我的配置文件加了行高，</p>\n<h2 id=\"扩展\"><a href=\"#扩展\" class=\"headerlink\" title=\"扩展\"></a>扩展</h2><h3 id=\"行高\"><a href=\"#行高\" class=\"headerlink\" title=\"行高\"></a>行高</h3><p>具体参考 ：</p>\n<p><a href=\"https://blog.csdn.net/mao871863224/article/details/115749065\">ckeditor富文本编辑器使用行间距插件lineheight扩充，改变行距</a></p>\n<h3 id=\"图片上传\"><a href=\"#图片上传\" class=\"headerlink\" title=\"图片上传\"></a>图片上传</h3><p>编辑器默认使用base64存储图片，可能造成内容字符过长</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">self<span class=\"token punctuation\">.</span>ckeditor<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"change\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'change'</span><span class=\"token punctuation\">)</span>\n    self<span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"input\"</span><span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>ckeditor<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    window<span class=\"token punctuation\">.</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ckeditorContent\"</span><span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>ckeditor<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">var</span> p <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>ckeditor<span class=\"token punctuation\">.</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// 复制图片上传</span>\n      <span class=\"token keyword\">let</span> imgList <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>ckeditor<span class=\"token punctuation\">.</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> imgList<span class=\"token punctuation\">.</span><span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>imgList<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n          <span class=\"token keyword\">let</span> baseUrl <span class=\"token operator\">=</span> imgList<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>$<span class=\"token punctuation\">.</span>dataset<span class=\"token punctuation\">.</span>ckeSavedSrc<span class=\"token punctuation\">;</span> <span class=\"token comment\">//获取img的src</span>\n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>baseUrl<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"data\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">let</span> resUrl <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> self<span class=\"token punctuation\">.</span><span class=\"token function\">uploadImg</span><span class=\"token punctuation\">(</span>baseUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            imgList<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>$<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> resUrl<span class=\"token punctuation\">;</span>\n            imgList<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>$<span class=\"token punctuation\">.</span>dataset<span class=\"token punctuation\">.</span>ckeSavedSrc <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n","text":"Ckeditor4的下载link: https://ckeditor.com/ckeditor-4/download/ 下载好后解压, 打开index, 打开后就是配置界面 在这里进行增删移动，看自己需求,调整好后 这里就是配置文件了，复制 导入将整个目录放在你的项目下 在需要用...","link":"","photos":[],"count_time":{"symbolsCount":"5.2k","symbolsTime":"5 mins."},"categories":[{"name":"开发笔记","slug":"开发笔记","count":3,"path":"api/categories/开发笔记.json"}],"tags":[{"name":"Ckeditor4","slug":"Ckeditor4","count":1,"path":"api/tags/Ckeditor4.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Ckeditor4%E7%9A%84%E4%B8%8B%E8%BD%BD\"><span class=\"toc-text\">Ckeditor4的下载</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AF%BC%E5%85%A5\"><span class=\"toc-text\">导入</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#config-js\"><span class=\"toc-text\">config.js</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%89%A9%E5%B1%95\"><span class=\"toc-text\">扩展</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%A1%8C%E9%AB%98\"><span class=\"toc-text\">行高</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0\"><span class=\"toc-text\">图片上传</span></a></li></ol></li></ol>","author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Express学习笔记","uid":"21bb48a1d155e2a691456134eb3d7736","slug":"Express学习笔记","date":"2022-11-08T10:46:00.000Z","updated":"2022-11-12T06:20:43.023Z","comments":true,"path":"api/articles/Express学习笔记.json","keywords":null,"cover":"https://kifimg.oss-cn-beijing.aliyuncs.com/img/202211081857301.png","text":"Express的安装npm install express -g 脚手架工具安装express的脚手架工具express-generator npm install express-generator -g 创建项目 express express-demo 安装依赖 cd ex...","link":"","photos":[],"count_time":{"symbolsCount":"22k","symbolsTime":"20 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":25,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"node.js","slug":"node-js","count":2,"path":"api/tags/node-js.json"},{"name":"express","slug":"express","count":1,"path":"api/tags/express.json"}],"author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}}},"next_post":{"title":"javascript系列学习笔记-this","uid":"b085347004be4312cca23f62c28c92f4","slug":"javascript系列学习笔记-this","date":"2022-10-14T06:32:00.000Z","updated":"2022-11-08T10:56:11.212Z","comments":true,"path":"api/articles/javascript系列学习笔记-this.json","keywords":null,"cover":"https://kifimg.oss-cn-beijing.aliyuncs.com/img/202211081854956.png","text":"javascript系列学习笔记-this 笔记内容来自 《你不知道的Javascript》 (上) 为什么要用thisfunction getName() &#123; console.log('this.name', this.name) &#125; let a = &#1...","link":"","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":25,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"javascript","slug":"javascript","count":7,"path":"api/tags/javascript.json"},{"name":"this","slug":"this","count":1,"path":"api/tags/this.json"}],"author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}}}}