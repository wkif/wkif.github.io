{"title":"Anim小程序开发框架","uid":"584a7ab2a96f920d35da32116b25c0f1","slug":"Anim小程序开发框架","date":"2022-05-22T12:33:00.000Z","updated":"2022-05-22T12:37:59.241Z","comments":true,"path":"api/articles/Anim小程序开发框架.json","keywords":null,"cover":"https://kifimg.oss-cn-beijing.aliyuncs.com/project/202205222037059.png","content":"<h1 id=\"Anim小程序开发框架\"><a href=\"#Anim小程序开发框架\" class=\"headerlink\" title=\"Anim小程序开发框架\"></a>Anim小程序开发框架</h1><h2 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h2><p>Anim 框架是基于原生小程序 Mina 框架开发的，采用 rollup 打包，只需要引入 anim.js 即可快速使用。</p>\n<p>特点：</p>\n<ol>\n<li>基于小程序 runtime 的增强型开发框架，无需引入各类编译环境，开箱即用。</li>\n<li>可兼容原生使用，无需对项目进行大改，按需使用即可。</li>\n<li>补充多种原生小程序开发框架缺失功能，提高大型工程化项目的可维护性，让开发更省心。</li>\n<li>引入压缩后的文件大小不到 10 kb。</li>\n</ol>\n<h2 id=\"使用\"><a href=\"#使用\" class=\"headerlink\" title=\"# 使用\"></a><a href=\"http://open.ywtbsupappw.sh.gov.cn/resource/mini-program/gsd-anim/mp-anim/#%E4%BD%BF%E7%94%A8\">#</a> 使用</h2><h3 id=\"普通引入\"><a href=\"#普通引入\" class=\"headerlink\" title=\"# 普通引入\"></a><a href=\"http://open.ywtbsupappw.sh.gov.cn/resource/mini-program/gsd-anim/mp-anim/#%E6%99%AE%E9%80%9A%E5%BC%95%E5%85%A5\">#</a> 普通引入</h3><p>通过 CDN 下载后，放置到小程序项目内部任意地方。推荐引入后挂载到 getApp 上，减少重复代码。</p>\n<p>下载地址：</p>\n<ul>\n<li>anim.js (min 30 kb)，<a href=\"https://static.govcloud.gtimg.com/cdn/zwopen/mp/cdn/anim.js\">下载</a></li>\n</ul>\n<p>anim.min.js (min 10 kb)，<a href=\"https://static.govcloud.gtimg.com/cdn/zwopen/mp/cdn/anim.min.js\">下载</a></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// app.js</span>\n<span class=\"token keyword\">const</span> Anim <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./lib/anim.js'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">onLaunch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>Anim <span class=\"token operator\">=</span> Anim\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\">// pages/index/index.js</span>\n\n<span class=\"token comment\">// 可以使用增强型 Anim.Page</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> Anim <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> <span class=\"token function\">getApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nAnim<span class=\"token punctuation\">.</span><span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">computed</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"小程序-npm-方式引入\"><a href=\"#小程序-npm-方式引入\" class=\"headerlink\" title=\"# 小程序 npm 方式引入\"></a><a href=\"http://open.ywtbsupappw.sh.gov.cn/resource/mini-program/gsd-anim/mp-anim/#%E5%B0%8F%E7%A8%8B%E5%BA%8F-npm-%E6%96%B9%E5%BC%8F%E5%BC%95%E5%85%A5\">#</a> 小程序 npm 方式引入</h3><p>正在开发小程序 npm 方式引入。</p>\n<h2 id=\"能力\"><a href=\"#能力\" class=\"headerlink\" title=\"# 能力\"></a><a href=\"http://open.ywtbsupappw.sh.gov.cn/resource/mini-program/gsd-anim/mp-anim/#%E8%83%BD%E5%8A%9B\">#</a> 能力</h2><h3 id=\"计算属性-Computed\"><a href=\"#计算属性-Computed\" class=\"headerlink\" title=\"# 计算属性 Computed\"></a><a href=\"http://open.ywtbsupappw.sh.gov.cn/resource/mini-program/gsd-anim/mp-anim/#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7-computed\">#</a> 计算属性 Computed</h3><p>模板内的表达式非常便利，但是设计它们的初衷是用于简单运算的。在模板中放入太多的逻辑会让模板过重且难以维护。巧妙利用 computed 方法，可以让整体代码更简洁清晰。</p>\n<p>计算属性是基于它们的响应式依赖进行缓存的，只在相关响应式依赖发生改变时它们才会重新求值，开发者不需要关注依赖的数据是何时更新的。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">Anim<span class=\"token punctuation\">.</span><span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">computed</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>a <span class=\"token operator\">+</span> <span class=\"token number\">2</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"监听-Watch\"><a href=\"#监听-Watch\" class=\"headerlink\" title=\"# 监听 Watch\"></a><a href=\"http://open.ywtbsupappw.sh.gov.cn/resource/mini-program/gsd-anim/mp-anim/#%E7%9B%91%E5%90%AC-watch\">#</a> 监听 Watch</h3><p>当你有一些数据需要随着其它数据变动而变动时，可以用 watch 监听数据的变化，然后执行一些逻辑。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">Anim<span class=\"token punctuation\">.</span><span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">watch</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">newVal<span class=\"token punctuation\">,</span> oldVal</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> newVal<span class=\"token punctuation\">,</span> oldVal<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"混入-Mixin\"><a href=\"#混入-Mixin\" class=\"headerlink\" title=\"# 混入 Mixin\"></a><a href=\"http://open.ywtbsupappw.sh.gov.cn/resource/mini-program/gsd-anim/mp-anim/#%E6%B7%B7%E5%85%A5-mixin\">#</a> 混入 Mixin</h3><p>混入 (mixin) 可以帮助开发者更好的组织页面代码逻辑，抽象出可复用的逻辑，并分发到各个页面内。当页面使用 <code>mixins</code> 功能时，会将配置选项按一定的规则和页面的配置项进行合并。</p>\n<p>支持全局混入，可以让全局共享配置。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> myMixin <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">onLoad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">showMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">showMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'global show Message'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\nAnim<span class=\"token punctuation\">.</span>Page<span class=\"token punctuation\">.</span><span class=\"token function\">mixin</span><span class=\"token punctuation\">(</span>myMixin<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>支持当前页面混入</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> myMixin <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">onLoad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">showMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">showMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'show Message'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\nAnim<span class=\"token punctuation\">.</span><span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token literal-property property\">mixins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>myMixin<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">onLoad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'show another message'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"状态管理\"><a href=\"#状态管理\" class=\"headerlink\" title=\"# 状态管理\"></a><a href=\"http://open.ywtbsupappw.sh.gov.cn/resource/mini-program/gsd-anim/mp-anim/#%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86\">#</a> 状态管理</h3><p>使用 wedux 进行全局状态管理，wedux 对数据进行了 Proxy 代理，使得所有使用该 Store 数据的地方都会被统一通知并更新。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">Anim<span class=\"token punctuation\">.</span><span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function-variable function\">store</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">state</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>counter<span class=\"token punctuation\">.</span>count\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"路由增强\"><a href=\"#路由增强\" class=\"headerlink\" title=\"# 路由增强\"></a><a href=\"http://open.ywtbsupappw.sh.gov.cn/resource/mini-program/gsd-anim/mp-anim/#%E8%B7%AF%E7%94%B1%E5%A2%9E%E5%BC%BA\">#</a> 路由增强</h3><p>更加符合前端路由库的方法集成。后续可考虑在前端层维护一个路由栈，可以除了后退还可以支持前进等需求。URL 和参数不再需要手动拼装，舒服使用。并且参数支持更加复杂的解析，支持多层嵌套，数组参数。提高小程序开发的便利性。</p>\n<h4 id=\"API-增强\"><a href=\"#API-增强\" class=\"headerlink\" title=\"# API 增强\"></a><a href=\"http://open.ywtbsupappw.sh.gov.cn/resource/mini-program/gsd-anim/mp-anim/#api-%E5%A2%9E%E5%BC%BA\">#</a> API 增强</h4><p>所有的方法都是 Promise 化。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$router<span class=\"token punctuation\">.</span><span class=\"token function\">navigateTo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> string<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">query</span><span class=\"token operator\">:</span> Object<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$router<span class=\"token punctuation\">.</span><span class=\"token function\">navigateBack</span><span class=\"token punctuation\">(</span>delta<span class=\"token operator\">:</span> number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$router<span class=\"token punctuation\">.</span><span class=\"token function\">redirectTo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> string<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">query</span><span class=\"token operator\">:</span> Object<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$router<span class=\"token punctuation\">.</span><span class=\"token function\">reLaunch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> string<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">query</span><span class=\"token operator\">:</span> Object<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$router<span class=\"token punctuation\">.</span><span class=\"token function\">switchTab</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> string<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">query</span><span class=\"token operator\">:</span> Object<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"支持复杂的-query-数据\"><a href=\"#支持复杂的-query-数据\" class=\"headerlink\" title=\"# 支持复杂的 query 数据\"></a><a href=\"http://open.ywtbsupappw.sh.gov.cn/resource/mini-program/gsd-anim/mp-anim/#%E6%94%AF%E6%8C%81%E5%A4%8D%E6%9D%82%E7%9A%84-query-%E6%95%B0%E6%8D%AE\">#</a> 支持复杂的 query 数据</h4><p>微信小程序暂时不支持复杂的 query 解析，在 Anim 框架下重新对 URL 做了解析，支持多层嵌套模式和数组参数。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\nAnim<span class=\"token punctuation\">.</span><span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">onLoad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$router<span class=\"token punctuation\">.</span><span class=\"token function\">navigateTo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n      <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'/pages/another/another'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">query</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">b</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">c</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">d</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">e</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'val'</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'val'</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// another.js</span>\nAnim<span class=\"token punctuation\">.</span><span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">onLoad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// 可以获取复杂数据</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$route<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"突破小程序-10-层限制\"><a href=\"#突破小程序-10-层限制\" class=\"headerlink\" title=\"# 突破小程序 10 层限制\"></a><a href=\"http://open.ywtbsupappw.sh.gov.cn/resource/mini-program/gsd-anim/mp-anim/#%E7%AA%81%E7%A0%B4%E5%B0%8F%E7%A8%8B%E5%BA%8F-10-%E5%B1%82%E9%99%90%E5%88%B6\">#</a> 突破小程序 10 层限制</h4><p>通过 Anim 维护的路由栈，还可以突破 10 层限制，超过十层路由时自动通过 Redirect 方法来进行路由跳转。</p>\n<h4 id=\"路由响应\"><a href=\"#路由响应\" class=\"headerlink\" title=\"# 路由响应\"></a><a href=\"http://open.ywtbsupappw.sh.gov.cn/resource/mini-program/gsd-anim/mp-anim/#%E8%B7%AF%E7%94%B1%E5%93%8D%E5%BA%94\">#</a> 路由响应</h4><p>路由数据会存放到 this.data.$route 中，方便 UI 使用。</p>\n<pre class=\"line-numbers language-text\" data-language=\"text\"><code class=\"language-text\">&lt;view>&#123;&#123;$route.query.id&#125;&#125;&lt;/view><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>","text":"Anim小程序开发框架介绍Anim 框架是基于原生小程序 Mina 框架开发的，采用 rollup 打包，只需要引入 anim.js 即可快速使用。 特点： 基于小程序 runtime 的增强型开发框架，无需引入各类编译环境，开箱即用。 可兼容原生使用，无需对项目进行大改，按需使...","link":"","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Anim%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6\"><span class=\"toc-text\">Anim小程序开发框架</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">介绍</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\"> 使用</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%99%AE%E9%80%9A%E5%BC%95%E5%85%A5\"><span class=\"toc-text\"> 普通引入</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B0%8F%E7%A8%8B%E5%BA%8F-npm-%E6%96%B9%E5%BC%8F%E5%BC%95%E5%85%A5\"><span class=\"toc-text\"> 小程序 npm 方式引入</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%83%BD%E5%8A%9B\"><span class=\"toc-text\"> 能力</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7-Computed\"><span class=\"toc-text\"> 计算属性 Computed</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%9B%91%E5%90%AC-Watch\"><span class=\"toc-text\"> 监听 Watch</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%B7%B7%E5%85%A5-Mixin\"><span class=\"toc-text\"> 混入 Mixin</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86\"><span class=\"toc-text\"> 状态管理</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%B7%AF%E7%94%B1%E5%A2%9E%E5%BC%BA\"><span class=\"toc-text\"> 路由增强</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#API-%E5%A2%9E%E5%BC%BA\"><span class=\"toc-text\"> API 增强</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%94%AF%E6%8C%81%E5%A4%8D%E6%9D%82%E7%9A%84-query-%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\"> 支持复杂的 query 数据</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%AA%81%E7%A0%B4%E5%B0%8F%E7%A8%8B%E5%BA%8F-10-%E5%B1%82%E9%99%90%E5%88%B6\"><span class=\"toc-text\"> 突破小程序 10 层限制</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%B7%AF%E7%94%B1%E5%93%8D%E5%BA%94\"><span class=\"toc-text\"> 路由响应</span></a></li></ol></li></ol></li></ol></li></ol>","author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"小程序事件之bind 、catch 、capture-bind和capture-catch的区别","uid":"add7208ee63417129b8b6e45029f606b","slug":"小程序事件之bind-、catch-、capture-bind和capture-catch的区别","date":"2022-05-22T12:34:00.000Z","updated":"2022-05-22T12:38:33.970Z","comments":true,"path":"api/articles/小程序事件之bind-、catch-、capture-bind和capture-catch的区别.json","keywords":null,"cover":"https://kifimg.oss-cn-beijing.aliyuncs.com/project/202205222038395.jpg","text":"小程序事件之bind 、catch 、capture-bind和capture-catch的区别事件分类事件分为冒泡事件和非冒泡事件 冒泡事件：当一个组件上的事件被触发后，该事件会向父节点传递。 非冒泡事件：当一个组件上的事件被触发后，该事件不会向父节点传递。 事件的绑定： bi...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"微信小程序","slug":"微信小程序","count":4,"path":"api/tags/微信小程序.json"}],"author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}}},"next_post":{"title":"pyqt5 多个tableWidget联动滚动","uid":"ca23946284e7202da336ec39119c35c4","slug":"pyqt5-多个tableWidget联动滚动","date":"2022-05-05T13:35:00.000Z","updated":"2022-05-05T13:36:26.518Z","comments":true,"path":"api/articles/pyqt5-多个tableWidget联动滚动.json","keywords":null,"cover":"https://kifimg.oss-cn-beijing.aliyuncs.com/project/202205052122205.png","text":"项目中遇到了一个需求： 开发时用到了三个tableWidget分别展示数据，但数据过多时三个表就显得比较杂乱，三表行之间无法同时滚动必然带来不好的体验，所以需要是三个tableWidget同时滚动； 先上code： import sys from PyQt5.QtCore imp...","link":"","photos":[],"count_time":{"symbolsCount":"4.5k","symbolsTime":"4 mins."},"categories":[{"name":"开发记录","slug":"开发记录","count":1,"path":"api/categories/开发记录.json"}],"tags":[{"name":"pyqt","slug":"pyqt","count":1,"path":"api/tags/pyqt.json"}],"author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}}}}