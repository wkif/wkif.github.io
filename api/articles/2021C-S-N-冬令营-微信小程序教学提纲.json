{"title":"2021C.S.N 冬令营 微信小程序教学提纲","uid":"24ecbcefbf717172def84d571b7f09a0","slug":"2021C-S-N-冬令营-微信小程序教学提纲","date":"2021-01-18T05:43:00.000Z","updated":"2022-03-30T03:51:20.310Z","comments":true,"path":"api/articles/2021C-S-N-冬令营-微信小程序教学提纲.json","keywords":null,"cover":"https://i.loli.net/2019/07/21/5d33d5dc1531213134.png","content":"<h1 id=\"1-资料\"><a href=\"#1-资料\" class=\"headerlink\" title=\"1.资料\"></a>1.资料</h1><p>1接口地址：</p>\n<p><a href=\"https://www.showdoc.cc/128719739414963\">https://www.showdoc.cc/128719739414963</a></p>\n<p>2.postman</p>\n<p><a href=\"https://wwi.lanzous.com/iWb3zkhskje\">https://wwi.lanzous.com/iWb3zkhskje</a></p>\n<p>3.微信开发官方文档</p>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/\">https://developers.weixin.qq.com/miniprogram/dev/framework/</a></p>\n<p>4.组件库</p>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/button.html\">https://developers.weixin.qq.com/miniprogram/dev/component/button.html</a></p>\n<p>5.CSS单位总结（如rem、px、em、vw、vh、vm ）</p>\n<p><a href=\"https://www.php.cn/css-tutorial-411368.html\">https://www.php.cn/css-tutorial-411368.html</a></p>\n<p>6.CSS calc() 函数</p>\n<p><a href=\"https://www.runoob.com/cssref/func-calc.html\">https://www.runoob.com/cssref/func-calc.html</a></p>\n<p>7.JavaScript中的map()函数</p>\n<p><a href=\"https://blog.csdn.net/u010297791/article/details/55511326\">https://blog.csdn.net/u010297791/article/details/55511326</a></p>\n<p>8.CSS3 :nth-last-child() 选择器</p>\n<p><a href=\"https://www.w3school.com.cn/cssref/selector_nth-last-child.asp\">https://www.w3school.com.cn/cssref/selector_nth-last-child.asp</a></p>\n<p>9.JavaScript中避免回调地狱方法</p>\n<p><a href=\"https://andyli.blog.csdn.net/article/details/80742239?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control\">https://andyli.blog.csdn.net/article/details/80742239?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control</a></p>\n<p>10.JS 把url的参数解析成对象</p>\n<p><a href=\"https://a-jing.blog.csdn.net/article/details/80060315?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.control\">https://a-jing.blog.csdn.net/article/details/80060315?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.control</a></p>\n<h1 id=\"2-项目预览\"><a href=\"#2-项目预览\" class=\"headerlink\" title=\"2.项目预览\"></a>2.项目预览</h1><p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117134204.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117134231.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117134311.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117134351.png\" alt=\"image-20210117134351602\"></p>\n<h1 id=\"3-创建项目\"><a href=\"#3-创建项目\" class=\"headerlink\" title=\"3.创建项目\"></a>3.创建项目</h1><h2 id=\"3-1精简初始文件\"><a href=\"#3-1精简初始文件\" class=\"headerlink\" title=\"3.1精简初始文件\"></a>3.1精简初始文件</h2><h3 id=\"3-1-1-app-js\"><a href=\"#3-1-1-app-js\" class=\"headerlink\" title=\"3.1.1 app.js\"></a>3.1.1 app.js</h3><p>wx-app</p>\n<h3 id=\"3-1-2-app-json\"><a href=\"#3-1-2-app-json\" class=\"headerlink\" title=\"3.1.2 app.json\"></a>3.1.2 app.json</h3><p>删除不需要的界面</p>\n<p>修改 navigationBarTitleText</p>\n<h3 id=\"3-1-3-pages\"><a href=\"#3-1-3-pages\" class=\"headerlink\" title=\"3.1.3 pages\"></a>3.1.3 pages</h3><p>删除不需要的界面；</p>\n<p>修改index（参考2.1.1；2.1.2）；</p>\n<p>index.js   wx-page</p>\n<p>index.json  修改 navigationBarTitleText</p>\n<p>index.wxss 删除内容</p>\n<h2 id=\"3-2-搭建目录结构\"><a href=\"#3-2-搭建目录结构\" class=\"headerlink\" title=\"3.2 搭建目录结构\"></a>3.2 搭建目录结构</h2><p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117114640.png\"></p>\n<h2 id=\"3-3-搭建项目页面\"><a href=\"#3-3-搭建项目页面\" class=\"headerlink\" title=\"3.3 搭建项目页面\"></a>3.3 搭建项目页面</h2><p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117114813.png\"></p>\n<p>常用快捷键：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">ctrl +alt +down\n\nshift+end\n\nctrl +v\n\nshift+right<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>详见：<a href=\"https://www.kifroom.icu/posts/7362.html\">https://www.kifroom.icu/posts/7362.html</a></p>\n<h2 id=\"3-4-引入字体图标\"><a href=\"#3-4-引入字体图标\" class=\"headerlink\" title=\"3.4.引入字体图标\"></a>3.4.引入字体图标</h2><h3 id=\"3-4-1-创建\"><a href=\"#3-4-1-创建\" class=\"headerlink\" title=\"3.4.1 创建\"></a>3.4.1 创建</h3><p>阿里矢量库</p>\n<p><a href=\"https://www.iconfont.cn/\">https://www.iconfont.cn/</a></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117123552.png\"></p>\n<p>加入到创建的项目</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117124139.png\" alt=\"image-20210117124139353\"></p>\n<p>打开在线连接</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117124155.png\"></p>\n<p>复制到styles的iconfont.wxss</p>\n<h3 id=\"3-4-2-导入\"><a href=\"#3-4-2-导入\" class=\"headerlink\" title=\"3.4.2 导入\"></a>3.4.2 导入</h3><p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117124335.png\" alt=\"image-20210117124335231\"></p>\n<h3 id=\"3-4-3-使用\"><a href=\"#3-4-3-使用\" class=\"headerlink\" title=\"3.4.3 使用\"></a>3.4.3 使用</h3><p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117124417.png\" alt=\"image-20210117124417341\"></p>\n<h2 id=\"3-5-搭建项目tabBar\"><a href=\"#3-5-搭建项目tabBar\" class=\"headerlink\" title=\"3.5 搭建项目tabBar\"></a>3.5 搭建项目tabBar</h2><h3 id=\"3-5-1-图片文件\"><a href=\"#3-5-1-图片文件\" class=\"headerlink\" title=\"3.5.1 图片文件\"></a>3.5.1 图片文件</h3><p>阿里矢量库</p>\n<h3 id=\"3-5-2-tabBar\"><a href=\"#3-5-2-tabBar\" class=\"headerlink\" title=\"3.5.2. tabBar\"></a>3.5.2. tabBar</h3><p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117130216.png\"></p>\n<h2 id=\"3-6-定义全局变量\"><a href=\"#3-6-定义全局变量\" class=\"headerlink\" title=\"3.6 定义全局变量\"></a>3.6 定义全局变量</h2><h3 id=\"3-6-1-全局样式文件\"><a href=\"#3-6-1-全局样式文件\" class=\"headerlink\" title=\"3.6.1 全局样式文件\"></a>3.6.1 全局样式文件</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">@import &#39;.&#x2F;styles&#x2F;iconfont.wxss&#39;;\n\npage,view,image,text&#123;\n    bottom: 0;\n    margin: 0;\n    box-sizing: border-box;\n&#125;\npage&#123;\n  &#x2F;* 定义主题颜色 *&#x2F;\n  --themeColor:#e60039;\n\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p><strong>1px&#x3D; 2rpx</strong></p>\n<p><strong>14px &#x3D; 28rpx</strong></p>\n<h1 id=\"4-首页\"><a href=\"#4-首页\" class=\"headerlink\" title=\"4.首页\"></a>4.首页</h1><p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117133738.png\"></p>\n<h2 id=\"4-1-搜索框-自定义组件\"><a href=\"#4-1-搜索框-自定义组件\" class=\"headerlink\" title=\"4.1 搜索框-自定义组件\"></a>4.1 搜索框-自定义组件</h2><h3 id=\"4-1-1-新建组件\"><a href=\"#4-1-1-新建组件\" class=\"headerlink\" title=\"4.1.1 新建组件\"></a>4.1.1 新建组件</h3><p>components文件夹下</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117135709.png\" alt=\"image-20210117135709753\"></p>\n<h3 id=\"4-1-2-引用\"><a href=\"#4-1-2-引用\" class=\"headerlink\" title=\"4.1.2 引用\"></a>4.1.2 引用</h3><p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117140209.png\"></p>\n<h3 id=\"4-1-3-搜索框编辑\"><a href=\"#4-1-3-搜索框编辑\" class=\"headerlink\" title=\"4.1.3 搜索框编辑\"></a>4.1.3 搜索框编辑</h3><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117142326.png\" style=\"zoom:200%;\" />\n\n\n\n\n\n<h2 id=\"4-2-轮播图\"><a href=\"#4-2-轮播图\" class=\"headerlink\" title=\"4.2 轮播图\"></a>4.2 轮播图</h2><h3 id=\"4-2-1-接口数据\"><a href=\"#4-2-1-接口数据\" class=\"headerlink\" title=\"4.2.1 接口数据\"></a>4.2.1 接口数据</h3><h4 id=\"api\"><a href=\"#api\" class=\"headerlink\" title=\"api:\"></a>api:</h4><p><a href=\"https://www.showdoc.com.cn/128719739414963?page_id=2513235043485226\">https://www.showdoc.com.cn/128719739414963?page_id=2513235043485226</a></p>\n<ul>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/network/request/wx.request.html\">wx.request</a></li>\n</ul>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117142842.png\"></p>\n<h4 id=\"js\"><a href=\"#js\" class=\"headerlink\" title=\"js:\"></a>js:</h4><p>（此处可以用promise优化）</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">onLoad: function (options) &#123;\n  wx - wx.request(&#123;\n    url: &#39;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;api&#x2F;public&#x2F;v1&#x2F;home&#x2F;swiperdata&#39;,\n    header: &#123;\n      &#39;content-type&#39;: &#39;application&#x2F;json&#39; &#x2F;&#x2F; 默认值\n    &#125;,\n    success: (result) &#x3D;&gt; &#123;\n      console.log(result)\n    &#125;,\n    &#x2F;&#x2F; fail: (res) &#x3D;&gt; &#123;&#125;,\n    &#x2F;&#x2F; complete: (res) &#x3D;&gt; &#123;&#125;,\n  &#125;)\n&#125;,<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>注意：</p>\n<p><strong>坑1：</strong></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117144149.png\"></p>\n<p>解决办法1：不校验域名</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117144110.png\" alt=\"image-20210117144110782\"></p>\n<p>解决方法2：添加域名到白名单</p>\n<p><a href=\"https://mp.weixin.qq.com/\">https://mp.weixin.qq.com/</a></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117205252.png\" alt=\"image-20210117205252302\"></p>\n<h4 id=\"数据：\"><a href=\"#数据：\" class=\"headerlink\" title=\"数据：\"></a>数据：</h4><p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117144241.png\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;\n    &quot;message&quot;: [\n        &#123;\n            &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;banner1.png&quot;,\n            &quot;open_type&quot;: &quot;navigate&quot;,\n            &quot;goods_id&quot;: 129,\n            &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_detail&#x2F;index?goods_id&#x3D;129&quot;\n        &#125;\n    ],\n    &quot;meta&quot;: &#123;\n        &quot;msg&quot;: &quot;获取成功&quot;,\n        &quot;status&quot;: 200\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"4-2-2-数据绑定\"><a href=\"#4-2-2-数据绑定\" class=\"headerlink\" title=\"4.2.2 数据绑定\"></a>4.2.2 数据绑定</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;!-- 轮播图开始 --&gt;\n &lt;view class&#x3D;&quot;swiper_view&quot;&gt;\n   &lt;swiper&gt;\n     &lt;swiper-item wx:for&#x3D;&quot;&#123;&#123;swiperList&#125;&#125;&quot; wx:key&#x3D;&quot;goods_id&quot;&gt;\n       &lt;navigator&gt;\n         &lt;image src&#x3D;&quot;&#123;&#123;item.image_src&#125;&#125;&quot;&gt;\n         &lt;&#x2F;image&gt;\n       &lt;&#x2F;navigator&gt;\n     &lt;&#x2F;swiper-item&gt;\n   &lt;&#x2F;swiper&gt;\n &lt;&#x2F;view&gt;\n &lt;!-- 轮播图结束 --&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117211410.png\"></p>\n<h3 id=\"4-2-3-布局优化\"><a href=\"#4-2-3-布局优化\" class=\"headerlink\" title=\"4.2.3 布局优化\"></a>4.2.3 布局优化</h3><h4 id=\"1-图片标签\"><a href=\"#1-图片标签\" class=\"headerlink\" title=\"1.图片标签\"></a>1.图片标签</h4><p>mode属性渲染模式 </p>\n<p>widthFix：让图片的标签宽高和图片标签的内容的宽高都等比例的发生变化</p>\n<h4 id=\"2-swiper标签\"><a href=\"#2-swiper标签\" class=\"headerlink\" title=\"2.swiper标签\"></a>2.swiper标签</h4><p>存在默认的宽度和高度<br>100% * 150px</p>\n<p><img src=\"C:\\Users\\18255\\AppData\\Roaming\\Typora\\typora-user-images\\image-20210117212732753.png\"></p>\n<p>解决办法</p>\n<p>让swiper高度与图片一样</p>\n<h4 id=\"3-swiper属性\"><a href=\"#3-swiper属性\" class=\"headerlink\" title=\"3.swiper属性\"></a>3.swiper属性</h4><p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117213117.png\" alt=\"image-20210117213117657\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210117213929.png\" alt=\"image-20210117213929175\"></p>\n<h2 id=\"4-3-导航\"><a href=\"#4-3-导航\" class=\"headerlink\" title=\"4.3 导航\"></a>4.3 导航</h2><h3 id=\"4-3-1-接口数据\"><a href=\"#4-3-1-接口数据\" class=\"headerlink\" title=\"4.3.1 接口数据\"></a>4.3.1 接口数据</h3><h4 id=\"api接口\"><a href=\"#api接口\" class=\"headerlink\" title=\"api接口:\"></a>api接口:</h4><p><a href=\"https://api-hmugo-web.itheima.net/api/public/v1/home/catitems\">https://api-hmugo-web.itheima.net/api/public/v1/home/catitems</a></p>\n<h4 id=\"js-1\"><a href=\"#js-1\" class=\"headerlink\" title=\"js:\"></a>js:</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">gettabBarlist()\n &#123;\n   wx-wx.request(&#123;\n     url: &#39;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;api&#x2F;public&#x2F;v1&#x2F;home&#x2F;catitems&#39;,\n     success: (result) &#x3D;&gt; &#123;\n       console.log(result.data.message);\n       this.setData(&#123;\n         castList:result.data.message\n       &#125;)\n     &#125;,\n     fail: (res) &#x3D;&gt; &#123;&#125;,\n     complete: (res) &#x3D;&gt; &#123;&#125;,\n   &#125;)\n &#125;,<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h4 id=\"数据：-1\"><a href=\"#数据：-1\" class=\"headerlink\" title=\"数据：\"></a>数据：</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;\n    &quot;message&quot;: [\n        &#123;\n            &quot;name&quot;: &quot;分类&quot;,\n            &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;icon_index_nav_4@2x.png&quot;,\n            &quot;open_type&quot;: &quot;switchTab&quot;,\n            &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;category&#x2F;main&quot;\n        &#125;,\n        &#123;\n            &quot;name&quot;: &quot;秒杀拍&quot;,\n            &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;icon_index_nav_3@2x.png&quot;\n        &#125;,\n        &#123;\n            &quot;name&quot;: &quot;超市购&quot;,\n            &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;icon_index_nav_2@2x.png&quot;\n        &#125;,\n        &#123;\n            &quot;name&quot;: &quot;母婴品&quot;,\n            &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;icon_index_nav_1@2x.png&quot;\n        &#125;\n    ],\n    &quot;meta&quot;: &#123;\n        &quot;msg&quot;: &quot;获取成功&quot;,\n        &quot;status&quot;: 200\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"4-3-2-数据绑定\"><a href=\"#4-3-2-数据绑定\" class=\"headerlink\" title=\"4.3.2  数据绑定\"></a>4.3.2  数据绑定</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;!-- 导航开始 --&gt;\n &lt;view class&#x3D;&quot;navView&quot;&gt;\n   &lt;navigator class&#x3D;&quot;nav&quot; wx:for&#x3D;&quot;&#123;&#123;castList&#125;&#125;&quot; wx:key&#x3D;&quot;name&quot;&gt;\n     &lt;image mode&#x3D;&quot;widthFix&quot; class&#x3D;&quot;navimg&quot; src&#x3D;&quot;&#123;&#123;item.image_src&#125;&#125;&quot;&gt;&lt;&#x2F;image&gt;\n   &lt;&#x2F;navigator&gt;\n &lt;&#x2F;view&gt;\n &lt;!-- 导航结束 --&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>css</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">.navView\n&#123;\n  width: 100%;\n  display: flex;\n&#125;\n.nav&#123;\n  padding: 20rpx;\n  flex:1;\n&#125;\n.navimg\n&#123;\n  width: 100%;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>课后作业1</strong></p>\n<p>1.Javascript this关键字：</p>\n<p>面向对象语言中 this 表示当前对象的一个引用。</p>\n<p>但在 JavaScript 中 this 不是固定不变的，它会随着执行环境的改变而改变。</p>\n<p><a href=\"https://www.runoob.com/js/js-this.html\">https://www.runoob.com/js/js-this.html</a></p>\n<p>2.<a href=\"https://www.jianshu.com/p/d9373a86b748\">css display:flex 属性</a></p>\n<h2 id=\"4-4-楼层\"><a href=\"#4-4-楼层\" class=\"headerlink\" title=\"4.4 楼层\"></a>4.4 楼层</h2><p>嵌套循环</p>\n<h3 id=\"4-4-1-接口数据\"><a href=\"#4-4-1-接口数据\" class=\"headerlink\" title=\"4.4.1 接口数据\"></a>4.4.1 接口数据</h3><h4 id=\"api-1\"><a href=\"#api-1\" class=\"headerlink\" title=\"api:\"></a>api:</h4><p><a href=\"https://api-hmugo-web.itheima.net/api/public/v1/home/floordata\">https://api-hmugo-web.itheima.net/api/public/v1/home/floordata</a></p>\n<h4 id=\"js-2\"><a href=\"#js-2\" class=\"headerlink\" title=\"js:\"></a>js:</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">getgoodsdata() &#123;\n  wx - wx.request(&#123;\n    url: &#39;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;api&#x2F;public&#x2F;v1&#x2F;home&#x2F;floordata&#39;,\n    success: (result) &#x3D;&gt; &#123;\n      this.setData(&#123;\n        goodsList:result.data.message\n      &#125;)\n    &#125;,\n    fail: (res) &#x3D;&gt; &#123;&#125;,\n    complete: (res) &#x3D;&gt; &#123;&#125;,\n  &#125;)\n&#125;,<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h4 id=\"数据：-2\"><a href=\"#数据：-2\" class=\"headerlink\" title=\"数据：\"></a>数据：</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;\n    &quot;message&quot;: [\n        &#123;\n            &quot;floor_title&quot;: &#123;\n                &quot;name&quot;: &quot;时尚女装&quot;,\n                &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor01_title.png&quot;\n            &#125;,\n            &quot;product_list&quot;: [\n                &#123;\n                    &quot;name&quot;: &quot;优质服饰&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor01_1@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;232&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;服饰&quot;\n                &#125;,\n                &#123;\n                    &quot;name&quot;: &quot;春季热门&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor01_2@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;233&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;热&quot;\n                &#125;,\n                &#123;\n                    &quot;name&quot;: &quot;爆款清仓&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor01_3@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;233&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;爆款&quot;\n                &#125;,\n                &#123;\n                    &quot;name&quot;: &quot;倒春寒&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor01_4@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;233&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;春季&quot;\n                &#125;,\n                &#123;\n                    &quot;name&quot;: &quot;怦然心动&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor01_5@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;233&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;心动&quot;\n                &#125;\n            ]\n        &#125;,\n        &#123;\n            &quot;floor_title&quot;: &#123;\n                &quot;name&quot;: &quot;户外活动&quot;,\n                &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor02_title.png&quot;\n            &#125;,\n            &quot;product_list&quot;: [\n                &#123;\n                    &quot;name&quot;: &quot;勇往直前&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor02_1@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;232&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;户外&quot;\n                &#125;,\n                &#123;\n                    &quot;name&quot;: &quot;户外登山包&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor02_2@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;273&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;登山包&quot;\n                &#125;,\n                &#123;\n                    &quot;name&quot;: &quot;超强手套&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor02_3@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;193&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;手套&quot;\n                &#125;,\n                &#123;\n                    &quot;name&quot;: &quot;户外运动鞋&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor02_4@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;193&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;运动鞋&quot;\n                &#125;,\n                &#123;\n                    &quot;name&quot;: &quot;冲锋衣系列&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor02_5@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;273&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;冲锋衣&quot;\n                &#125;\n            ]\n        &#125;,\n        &#123;\n            &quot;floor_title&quot;: &#123;\n                &quot;name&quot;: &quot;箱包配饰&quot;,\n                &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor03_title.png&quot;\n            &#125;,\n            &quot;product_list&quot;: [\n                &#123;\n                    &quot;name&quot;: &quot;清新气质&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor03_1@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;232&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;饰品&quot;\n                &#125;,\n                &#123;\n                    &quot;name&quot;: &quot;复古胸针&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor03_2@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;263&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;胸针&quot;\n                &#125;,\n                &#123;\n                    &quot;name&quot;: &quot;韩版手链&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor03_3@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;203&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;手链&quot;\n                &#125;,\n                &#123;\n                    &quot;name&quot;: &quot;水晶项链&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor03_4@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;193&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;水晶项链&quot;\n                &#125;,\n                &#123;\n                    &quot;name&quot;: &quot;情侣表&quot;,\n                    &quot;image_src&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;pyg&#x2F;pic_floor03_5@2x.png&quot;,\n                    &quot;image_width&quot;: &quot;273&quot;,\n                    &quot;open_type&quot;: &quot;navigate&quot;,\n                    &quot;navigator_url&quot;: &quot;&#x2F;pages&#x2F;goods_list?query&#x3D;情侣表&quot;\n                &#125;\n            ]\n        &#125;\n    ],\n    &quot;meta&quot;: &#123;\n        &quot;msg&quot;: &quot;获取成功&quot;,\n        &quot;status&quot;: 200\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"4-4-2-数据绑定\"><a href=\"#4-4-2-数据绑定\" class=\"headerlink\" title=\"4.4.2 数据绑定\"></a>4.4.2 数据绑定</h3><p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210118012432.png\"></p>\n<p>mode&#x3D;”widthFix”图片等比例缩放</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210118022000.png\" alt=\"image-20210118022000696\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210118021607.png\"></p>\n<p><strong>解决</strong>：<br>第一张图片原图的宽高：<code>232 * 386</code><br><code>232 / 386 = 33.33vw / height</code></p>\n<p>第一张图片的高度：<code>height：33.33vw * 386 / 232</code><br>后四个超链接图片的高度：<code>height：33.33vw * 386 / 232 / 2</code><br>后四张图片的高度应该跟随写好的样式：<br>image标签的mode属性应改为<code>mode=&quot;&#123;&#123;index2===0?'widthFix':'scaleToFill'&#125;&#125;</code></p>\n<p>wx:if</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">index2&#x3D;&#x3D;0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong>三元表达式</strong></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;!-- 商品数据开始 --&gt;\n&lt;view class&#x3D;&quot;data&quot;&gt;\n  &lt;view class&#x3D;&quot;group&quot; wx:for&#x3D;&quot;&#123;&#123;goodsList&#125;&#125;&quot; wx:for-item&#x3D;&quot;item1&quot;&gt;\n    &lt;view class&#x3D;&quot;title&quot;&gt;\n      &lt;image mode&#x3D;&quot;widthFix&quot; class&#x3D;&quot;titleImg&quot; mode&#x3D;&quot;widthFix&quot; src&#x3D;&quot;&#123;&#123;item1.floor_title.image_src&#125;&#125;&quot;&gt;&lt;&#x2F;image&gt;\n    &lt;&#x2F;view&gt;\n    &lt;view class&#x3D;&quot;list&quot;&gt;\n     &lt;navigator class&#x3D;&quot;goodsNav&quot; wx:for&#x3D;&quot;&#123;&#123;item1.product_list&#125;&#125;&quot; \n     wx:for-item&#x3D;&quot;item2&quot; \n     wx:for-index&#x3D;&quot;index2&quot;\n     wx:key&#x3D;&quot;name&quot;&gt;\n     &lt;image class&#x3D;&quot;goodsImg&quot; mode&#x3D;&quot;&#123;&#123;index2&#x3D;&#x3D;&#x3D;0?&#39;widthFix&#39;:&#39;scaleToFill&#39;&#125;&#125;&quot; src&#x3D;&quot;&#123;&#123;item2.image_src&#125;&#125;&quot;&gt;&lt;&#x2F;image&gt;\n     &lt;&#x2F;navigator&gt;\n    &lt;&#x2F;view&gt;\n  &lt;&#x2F;view&gt;\n&lt;&#x2F;view&gt;\n&lt;!-- 商品数据结束 --&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">.titleImg &#123;\n  width: 100%;\n&#125;\n.goodsNav\n&#123;\nfloat: left;\nwidth: 33.33333%;\n&#125;\n\n&#x2F;* \n232&#x2F;386&#x3D;33.3vw &#x2F; heigh\nheigt &#x3D; 386*33.3vw&#x2F;232\n*&#x2F;\n.goodsNav:nth-last-child(-n+4)\n&#123;\n  &#x2F;* height:  386*33.3vw&#x2F;232&#x2F;2; *&#x2F;\n  height: 27.702155172413vw;\n&#125;\n.goodsImg\n&#123;\n  width: 100%;\n  height: 100%;\n&#125;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"5-分类\"><a href=\"#5-分类\" class=\"headerlink\" title=\"5 分类\"></a>5 分类</h1><h2 id=\"5-1-预览\"><a href=\"#5-1-预览\" class=\"headerlink\" title=\"5.1 预览\"></a>5.1 预览</h2><p><img src=\"https://gitee.com/wkkif/PicGoimg/raw/master/img/20210118214946.png\"></p>\n<h2 id=\"5-2-接口数据\"><a href=\"#5-2-接口数据\" class=\"headerlink\" title=\"5.2 接口数据\"></a>5.2 接口数据</h2><h4 id=\"api-2\"><a href=\"#api-2\" class=\"headerlink\" title=\"api:\"></a><strong>api:</strong></h4><ul>\n<li><code>https://api-hmugo-web.itheima.net/api/public/v1/categories</code></li>\n</ul>\n<h4 id=\"数据映射\"><a href=\"#数据映射\" class=\"headerlink\" title=\"数据映射\"></a>数据映射</h4><p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210118214626.png\" alt=\"image-20210118214625537\"></p>\n<p><img src=\"https://gitee.com/wkkif/PicGoimg/raw/master/img/20210118215043.png\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;\n    &quot;message&quot;: [\n        &#123;\n            &quot;cat_id&quot;: 1,\n            &quot;cat_name&quot;: &quot;大家电&quot;,\n            &quot;cat_pid&quot;: 0,\n            &quot;cat_level&quot;: 0,\n            &quot;cat_deleted&quot;: false,\n            &quot;cat_icon&quot;: &quot;&#x2F;full&#x2F;none.jpg&quot;,\n            &quot;children&quot;: [\n                &#123;\n                    &quot;cat_id&quot;: 3,\n                    &quot;cat_name&quot;: &quot;电视&quot;,\n                    &quot;cat_pid&quot;: 1,\n                    &quot;cat_level&quot;: 1,\n                    &quot;cat_deleted&quot;: false,\n                    &quot;cat_icon&quot;: &quot;&#x2F;full&#x2F;none.jpg&quot;,\n                    &quot;children&quot;: [\n                        &#123;\n                            &quot;cat_id&quot;: 5,\n                            &quot;cat_name&quot;: &quot;曲面电视&quot;,\n                            &quot;cat_pid&quot;: 3,\n                            &quot;cat_level&quot;: 2,\n                            &quot;cat_deleted&quot;: false,\n                            &quot;cat_icon&quot;: &quot;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;full&#x2F;2fb113b32f7a2b161f5ee4096c319afedc3fd5a1.jpg&quot;\n                        &#125;\n                    ]\n                &#125;\n            ]\n        &#125;\n    ],\n    &quot;meta&quot;: &#123;\n        &quot;msg&quot;: &quot;获取成功&quot;,\n        &quot;status&quot;: 200\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h4 id=\"数据拆分\"><a href=\"#数据拆分\" class=\"headerlink\" title=\"数据拆分\"></a>数据拆分</h4><h5 id=\"左侧名称\"><a href=\"#左侧名称\" class=\"headerlink\" title=\"左侧名称\"></a>左侧名称</h5><p><strong>leftmenulist</strong></p>\n<p><strong>rightContent</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F; pages&#x2F;category&#x2F;category.js\nPage(&#123;\n\n  &#x2F;**\n   * 页面的初始数据\n   *&#x2F;\n  data: &#123;\n    leftmenulist: [],\n    rightContent: [],\n  &#125;,\n  cases: [],\n  &#x2F;**\n   * 生命周期函数--监听页面加载\n   *&#x2F;\n  onLoad: function (options) &#123;\n    this.getdataList();\n  &#125;,\n  getdataList() &#123;\n    wx - wx.request(&#123;\n      url: &#39;https:&#x2F;&#x2F;api-hmugo-web.itheima.net&#x2F;api&#x2F;public&#x2F;v1&#x2F;categories&#39;,\n      success: (result) &#x3D;&gt; &#123;\n        this.cases &#x3D; result.data.message\n        console.log(this.cases);\n        &#x2F;&#x2F; 左侧\n        let list &#x3D; this.cases.map(\n          function (item) &#123;\n          return item.cat_name;\n        &#125;);\n        let list2&#x3D;this.cases[0].children\n        console.log(list2)\n        this.setData(&#123;\n          leftmenulist:list,\n          rightContent:list2,\n        &#125;)\n      &#125;,\n\n    &#125;)\n  &#125;\n&#125;)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>map函数</p>\n<hr>\n<h2 id=\"5-3-界面\"><a href=\"#5-3-界面\" class=\"headerlink\" title=\"5.3 界面\"></a>5.3 界面</h2><h3 id=\"5-3-1-引入搜索框\"><a href=\"#5-3-1-引入搜索框\" class=\"headerlink\" title=\"5.3.1 引入搜索框\"></a>5.3.1 引入搜索框</h3><h4 id=\"json\"><a href=\"#json\" class=\"headerlink\" title=\"json:\"></a>json:</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;\n  &quot;usingComponents&quot;: &#123;\n    &quot;searchInput&quot;:&quot;..&#x2F;..&#x2F;components&#x2F;searchInput&#x2F;searchInput&quot;\n  &#125;,\n  &quot;navigationBarTitleText&quot;: &quot;分类&quot;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n\n\n<p><img src=\"https://gitee.com/wkkif/PicGoimg/raw/master/img/20210118225204.png\" alt=\"image-20210118225204748\"></p>\n<h3 id=\"5-3-2-左右可滚动视图区域\"><a href=\"#5-3-2-左右可滚动视图区域\" class=\"headerlink\" title=\"5.3.2 左右可滚动视图区域\"></a>5.3.2 左右可滚动视图区域</h3><p>组件：</p>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html\">scroll-view</a></p>\n<p><img src=\"https://gitee.com/wkkif/PicGoimg/raw/master/img/20210118225414.png\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;* pages&#x2F;category&#x2F;category.wxss *&#x2F;\npage &#123;\n  height: 100%;\n&#125;\n.mainView\n&#123;\n  height: 100%;\n&#125;\n\n.cates_container ,mainView  &#123;\n  height: calc(100vh - 45px);\n  display: flex;\n&#125;\n\n.left_menu &#123;\n  background-color: bisque;\n  flex: 2;\n\n\n&#125;\n\n.right_content &#123;\n  background-color: blue;\n  flex: 5;\n\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> <strong>height: calc(100vh - 45px);</strong></p>\n<p>空格！</p>\n<h1 id=\"6-优化\"><a href=\"#6-优化\" class=\"headerlink\" title=\"6.优化\"></a>6.优化</h1><h2 id=\"6-1-缓存技术\"><a href=\"#6-1-缓存技术\" class=\"headerlink\" title=\"6.1  缓存技术\"></a>6.1  缓存技术</h2><p>目的：优化减少请求次数</p>\n<p>思路：</p>\n<p><img src=\"https://gitee.com/wkkif/PicGoimg/raw/master/img/20210121163635.png\"></p>\n<h3 id=\"6-1-1本地存储\"><a href=\"#6-1-1本地存储\" class=\"headerlink\" title=\"6.1.1本地存储\"></a>6.1.1本地存储</h3><p><strong>本地数据缓存</strong></p>\n<p>本地数据缓存是小程序存储在当前设备上硬盘上的数据，本地数据缓存有非常多的用途，我们可以利用本地数据缓存来存储用户在小程序上产生的操作，在用户关闭小程序重新打开时可以恢复之前的状态。我们还可以利用本地缓存一些服务端非实时的数据提高小程序获取数据的速度，在特定的场景下可以提高页面的渲染速度，减少用户的等待时间。</p>\n<p><strong>读取本地数据缓存</strong></p>\n<p> wx.getStorage&#x2F;wx.getStorageSync</p>\n<p>详细参数</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"><strong>参数名</strong></th>\n<th align=\"left\"><strong>类型</strong></th>\n<th align=\"left\"><strong>必填</strong></th>\n<th align=\"left\"><strong>描述</strong></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">key</td>\n<td align=\"left\">String</td>\n<td align=\"left\">是</td>\n<td align=\"left\">本地缓存中指定的 key</td>\n</tr>\n<tr>\n<td align=\"left\">success</td>\n<td align=\"left\">Function</td>\n<td align=\"left\">否</td>\n<td align=\"left\">异步接口调用成功的回调函数，回调参数格式: {data: key对应的内容}</td>\n</tr>\n<tr>\n<td align=\"left\">fail</td>\n<td align=\"left\">Function</td>\n<td align=\"left\">否</td>\n<td align=\"left\">异步接口调用失败的回调函数</td>\n</tr>\n<tr>\n<td align=\"left\">complete</td>\n<td align=\"left\">Function</td>\n<td align=\"left\">否</td>\n<td align=\"left\">异步接口调用结束的回调函数（调用成功、失败都会执行）</td>\n</tr>\n</tbody></table>\n<p><strong>写入本地数据缓存</strong></p>\n<p>wx.setStorage&#x2F;wx.setStorageSync</p>\n<p>详细参数</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"><strong>参数名</strong></th>\n<th align=\"left\"><strong>类型</strong></th>\n<th align=\"left\"><strong>必填</strong></th>\n<th align=\"left\"><strong>描述</strong></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">key</td>\n<td align=\"left\">String</td>\n<td align=\"left\">是</td>\n<td align=\"left\">本地缓存中指定的 key</td>\n</tr>\n<tr>\n<td align=\"left\">data</td>\n<td align=\"left\">Object&#x2F;String</td>\n<td align=\"left\">是</td>\n<td align=\"left\">需要存储的内容</td>\n</tr>\n<tr>\n<td align=\"left\">success</td>\n<td align=\"left\">Function</td>\n<td align=\"left\">否</td>\n<td align=\"left\">异步接口调用成功的回调函数</td>\n</tr>\n<tr>\n<td align=\"left\">fail</td>\n<td align=\"left\">Function</td>\n<td align=\"left\">否</td>\n<td align=\"left\">异步接口调用失败的回调函数</td>\n</tr>\n<tr>\n<td align=\"left\">complete</td>\n<td align=\"left\">Function</td>\n<td align=\"left\">否</td>\n<td align=\"left\">异步接口调用结束的回调函数（调用成功、失败都会执行）</td>\n</tr>\n</tbody></table>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const Cates &#x3D; wx.getStorageSync(&quot;cates&quot;);\n    if (!Cates) &#123;\n      this.getdataList();\n    &#125;\n    else&#123;\n      if((Date.now()-Cates.time)&gt;1000*100)\n      &#123;\n        this.getdataList();\n      &#125;\n      else&#123;\n        this.cases &#x3D;Cates.data;\n        let list &#x3D; this.cases.map(\n          function (item) &#123;\n            return item.cat_name;\n          &#125;);\n        let list2 &#x3D; this.cases[0].children\n\n        this.setData(&#123;\n          leftmenulist: list,\n          rightContent: list2,\n        &#125;)\n      &#125;\n    &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h2 id=\"6-2-列表回顶\"><a href=\"#6-2-列表回顶\" class=\"headerlink\" title=\"6.2 列表回顶\"></a>6.2 列表回顶</h2><p>scroll-view scroll-top属性</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210121171558.png\"></p>\n<h2 id=\"6-3-数据请求优化\"><a href=\"#6-3-数据请求优化\" class=\"headerlink\" title=\"6.3 数据请求优化\"></a>6.3 数据请求优化</h2><h3 id=\"6-3-1-更改为promise方式\"><a href=\"#6-3-1-更改为promise方式\" class=\"headerlink\" title=\"6.3.1 更改为promise方式\"></a>6.3.1 更改为promise方式</h3><p>原因：避免回调地狱（解决多层回调的问题）</p>\n<p><strong>ES6 promise</strong></p>\n<p>Promise 对象就是为了解决这个问题而提出的。它不是新的语法功能，而是一种新的写法，允许将回调函数的嵌套，改成链式调用。</p>\n<p><strong>promise只有两个状态resolve和reject</strong>，当它触发任何一个状态后，它会将当前的值缓存起来，并在有回调函数添加进来的时候尝试调用回调函数，如果这个时候还没有触发resolve或者reject，那么回调函数会被缓存，等待调用，<strong>如果已经有了状态(resolve或者reject)，则立刻调用回调函数</strong>。并且所有回调函数在执行后都立即被销毁。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">New Promise( function(resolve, reject) &#123;...&#125; &#x2F;* executor *&#x2F;  );1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>executor是带有 resolve 和 reject 两个参数的函数 。Promise构造函数执行时立即调用executor 函数， resolve 和 reject 两个函数作为参数传递给executor（executor 函数在Promise构造函数返回新建对象前被调用）。<strong>resolve 和 reject 函数被调用时，分别将promise的状态改为fulfilled（完成）或rejected（失败）</strong>。executor 内部通常会执行一些异步操作，一旦完成，可以调用resolve函数来将promise状态改成fulfilled，或者在发生错误时将它的状态改为rejected。</p>\n<p><strong>JS 把url的参数解析成对象</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">...params<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>等价于：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F; url参数解析\nfunction getUrlkey(url) &#123;\n  var params &#x3D; &#123;&#125;;\n  var urls &#x3D; url.split(&quot;?&quot;);                  console.log(&#39;1_分割url:&#39;, urls)\n  var arr &#x3D; urls[1].split(&quot;&amp;&quot;);               console.log(&#39;2_分割urls[1]:&#39;, arr)\n  for (var i &#x3D; 0, l &#x3D; arr.length; i &lt; l; i++) &#123;\n    var a &#x3D; arr[i].split(&quot;&#x3D;&quot;);                console.log(&#39;3_遍历 arr 并分割后赋值给a:&#39;, a[0], a[1])\n    params[a[0]] &#x3D; a[1];                      console.log(&#39;4_a给params对象赋值:&#39;, params)\n  &#125;                                           console.log(&#39;5_结果:&#39;, params)\n  return params;\n&#125;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>eg:       http&#x2F;&#x2F;aaa&#x2F;txt.php?a&#x3D;1&amp;b&#x3D;2&amp;c&#x3D;3</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting/video/20210121184530.png\"></p>\n","text":"1.资料1接口地址： https://www.showdoc.cc/128719739414963 2.postman https://wwi.lanzous.com/iWb3zkhskje 3.微信开发官方文档 https://developers.weixin.qq.com/...","link":"","photos":[],"count_time":{"symbolsCount":"23k","symbolsTime":"21 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":23,"path":"api/categories/学习笔记.json"},{"name":"提纲","slug":"学习笔记/提纲","count":1,"path":"api/categories/学习笔记/提纲.json"}],"tags":[{"name":"C.S.N","slug":"C-S-N","count":3,"path":"api/tags/C-S-N.json"},{"name":"微信小程序","slug":"微信小程序","count":5,"path":"api/tags/微信小程序.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1-%E8%B5%84%E6%96%99\"><span class=\"toc-text\">1.资料</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#2-%E9%A1%B9%E7%9B%AE%E9%A2%84%E8%A7%88\"><span class=\"toc-text\">2.项目预览</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#3-%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE\"><span class=\"toc-text\">3.创建项目</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-1%E7%B2%BE%E7%AE%80%E5%88%9D%E5%A7%8B%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">3.1精简初始文件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-1-1-app-js\"><span class=\"toc-text\">3.1.1 app.js</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-1-2-app-json\"><span class=\"toc-text\">3.1.2 app.json</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-1-3-pages\"><span class=\"toc-text\">3.1.3 pages</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-2-%E6%90%AD%E5%BB%BA%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">3.2 搭建目录结构</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-3-%E6%90%AD%E5%BB%BA%E9%A1%B9%E7%9B%AE%E9%A1%B5%E9%9D%A2\"><span class=\"toc-text\">3.3 搭建项目页面</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-4-%E5%BC%95%E5%85%A5%E5%AD%97%E4%BD%93%E5%9B%BE%E6%A0%87\"><span class=\"toc-text\">3.4.引入字体图标</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-4-1-%E5%88%9B%E5%BB%BA\"><span class=\"toc-text\">3.4.1 创建</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-4-2-%E5%AF%BC%E5%85%A5\"><span class=\"toc-text\">3.4.2 导入</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-4-3-%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">3.4.3 使用</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-5-%E6%90%AD%E5%BB%BA%E9%A1%B9%E7%9B%AEtabBar\"><span class=\"toc-text\">3.5 搭建项目tabBar</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-5-1-%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">3.5.1 图片文件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-5-2-tabBar\"><span class=\"toc-text\">3.5.2. tabBar</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-6-%E5%AE%9A%E4%B9%89%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">3.6 定义全局变量</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-6-1-%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">3.6.1 全局样式文件</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#4-%E9%A6%96%E9%A1%B5\"><span class=\"toc-text\">4.首页</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-1-%E6%90%9C%E7%B4%A2%E6%A1%86-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">4.1 搜索框-自定义组件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-1-1-%E6%96%B0%E5%BB%BA%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">4.1.1 新建组件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-1-2-%E5%BC%95%E7%94%A8\"><span class=\"toc-text\">4.1.2 引用</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-1-3-%E6%90%9C%E7%B4%A2%E6%A1%86%E7%BC%96%E8%BE%91\"><span class=\"toc-text\">4.1.3 搜索框编辑</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-2-%E8%BD%AE%E6%92%AD%E5%9B%BE\"><span class=\"toc-text\">4.2 轮播图</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-2-1-%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">4.2.1 接口数据</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#api\"><span class=\"toc-text\">api:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#js\"><span class=\"toc-text\">js:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%EF%BC%9A\"><span class=\"toc-text\">数据：</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-2-2-%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A\"><span class=\"toc-text\">4.2.2 数据绑定</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-2-3-%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96\"><span class=\"toc-text\">4.2.3 布局优化</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-%E5%9B%BE%E7%89%87%E6%A0%87%E7%AD%BE\"><span class=\"toc-text\">1.图片标签</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-swiper%E6%A0%87%E7%AD%BE\"><span class=\"toc-text\">2.swiper标签</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-swiper%E5%B1%9E%E6%80%A7\"><span class=\"toc-text\">3.swiper属性</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-3-%E5%AF%BC%E8%88%AA\"><span class=\"toc-text\">4.3 导航</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-3-1-%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">4.3.1 接口数据</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#api%E6%8E%A5%E5%8F%A3\"><span class=\"toc-text\">api接口:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#js-1\"><span class=\"toc-text\">js:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%EF%BC%9A-1\"><span class=\"toc-text\">数据：</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-3-2-%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A\"><span class=\"toc-text\">4.3.2  数据绑定</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-4-%E6%A5%BC%E5%B1%82\"><span class=\"toc-text\">4.4 楼层</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-4-1-%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">4.4.1 接口数据</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#api-1\"><span class=\"toc-text\">api:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#js-2\"><span class=\"toc-text\">js:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%EF%BC%9A-2\"><span class=\"toc-text\">数据：</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-4-2-%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A\"><span class=\"toc-text\">4.4.2 数据绑定</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\"><span class=\"toc-text\"></span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#5-%E5%88%86%E7%B1%BB\"><span class=\"toc-text\">5 分类</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5-1-%E9%A2%84%E8%A7%88\"><span class=\"toc-text\">5.1 预览</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5-2-%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">5.2 接口数据</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#api-2\"><span class=\"toc-text\">api:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E6%98%A0%E5%B0%84\"><span class=\"toc-text\">数据映射</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E6%8B%86%E5%88%86\"><span class=\"toc-text\">数据拆分</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E5%B7%A6%E4%BE%A7%E5%90%8D%E7%A7%B0\"><span class=\"toc-text\">左侧名称</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5-3-%E7%95%8C%E9%9D%A2\"><span class=\"toc-text\">5.3 界面</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-3-1-%E5%BC%95%E5%85%A5%E6%90%9C%E7%B4%A2%E6%A1%86\"><span class=\"toc-text\">5.3.1 引入搜索框</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#json\"><span class=\"toc-text\">json:</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-3-2-%E5%B7%A6%E5%8F%B3%E5%8F%AF%E6%BB%9A%E5%8A%A8%E8%A7%86%E5%9B%BE%E5%8C%BA%E5%9F%9F\"><span class=\"toc-text\">5.3.2 左右可滚动视图区域</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#6-%E4%BC%98%E5%8C%96\"><span class=\"toc-text\">6.优化</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-1-%E7%BC%93%E5%AD%98%E6%8A%80%E6%9C%AF\"><span class=\"toc-text\">6.1  缓存技术</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-1-1%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8\"><span class=\"toc-text\">6.1.1本地存储</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-2-%E5%88%97%E8%A1%A8%E5%9B%9E%E9%A1%B6\"><span class=\"toc-text\">6.2 列表回顶</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-3-%E6%95%B0%E6%8D%AE%E8%AF%B7%E6%B1%82%E4%BC%98%E5%8C%96\"><span class=\"toc-text\">6.3 数据请求优化</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-3-1-%E6%9B%B4%E6%94%B9%E4%B8%BApromise%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">6.3.1 更改为promise方式</span></a></li></ol></li></ol></li></ol>","author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"XTU每日打卡","uid":"d157ee99180c5e77cd0b429c7733a938","slug":"XTU每日打卡","date":"2021-02-03T16:07:00.000Z","updated":"2021-02-05T02:01:02.152Z","comments":true,"path":"api/articles/XTU每日打卡.json","keywords":null,"cover":[],"text":"1.抓包1.1 工具使用ANDROID端app工具：httpcanary9.2.8.1 手机下载安装后安装证书： 之后点击小蓝飞机 允许VPN 便开始抓包了 IOS端：Http Traffic Http Traffic是一款 IOS 平台下的抓包工具，可以作为代{过}{滤}理服务...","link":"","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"XTU","slug":"XTU","count":1,"path":"api/tags/XTU.json"}],"author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}}},"next_post":{"title":"微信小程序开发笔记","uid":"3e7ce6d43f68f0f7c89b0717b8394e60","slug":"微信小程序开发笔记","date":"2021-01-16T15:17:00.000Z","updated":"2022-03-30T16:08:25.809Z","comments":true,"path":"api/articles/微信小程序开发笔记.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/wkif/imgforTeachingDemo/202203310008758.jpg","text":"1.跳转方式&#x2F;&#x2F;只能跳转到tabBar配置页面 wx.switchTab(&#123; url: &#39;&#x2F;pages&#x2F;index&#x2F;index&#39;, &#125;); &#x2F;&#x2F;返回上一级页面（delta：返...","link":"","photos":[],"count_time":{"symbolsCount":564,"symbolsTime":"1 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":23,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"微信小程序","slug":"微信小程序","count":5,"path":"api/tags/微信小程序.json"}],"author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}}}}