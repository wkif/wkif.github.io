{"title":"Vue3学习笔记","uid":"fae867b80c6f99d1d6ef15d4a4efea41","slug":"Vue3学习笔记","date":"2022-04-24T07:35:00.000Z","updated":"2022-06-26T03:22:14.261Z","comments":true,"path":"api/articles/Vue3学习笔记.json","keywords":null,"cover":"https://kifimg.oss-cn-beijing.aliyuncs.com/project/202206261120941.png","content":"<h1 id=\"Vue3\"><a href=\"#Vue3\" class=\"headerlink\" title=\"Vue3\"></a>Vue3</h1><h2 id=\"1-Vite搭建Vue3项目\"><a href=\"#1-Vite搭建Vue3项目\" class=\"headerlink\" title=\"1.Vite搭建Vue3项目\"></a>1.Vite搭建Vue3项目</h2><h3 id=\"全局安装-Vite\"><a href=\"#全局安装-Vite\" class=\"headerlink\" title=\"全局安装 Vite\"></a>全局安装 Vite</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">npm install -g create-vite-app<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"使用-Vite-创建-Vue3-项目\"><a href=\"#使用-Vite-创建-Vue3-项目\" class=\"headerlink\" title=\"使用 Vite 创建 Vue3 项目\"></a>使用 Vite 创建 Vue3 项目</h3><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">create-vite-app vue3-vite<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>可以发现瞬间创建完成。</p>\n<h3 id=\"运行\"><a href=\"#运行\" class=\"headerlink\" title=\"运行\"></a>运行</h3><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">cd vue3-vite\n  npm install (or &#96;yarn&#96;)\n  npm run dev (or &#96;yarn dev&#96;)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"vite\"><a href=\"#vite\" class=\"headerlink\" title=\"vite\"></a>vite</h3><p>冷服务</p>\n<p>热更新</p>\n<p>Rollup打包</p>\n<h2 id=\"2-从VUE2到VUE3\"><a href=\"#2-从VUE2到VUE3\" class=\"headerlink\" title=\"2.从VUE2到VUE3\"></a>2.从VUE2到VUE3</h2><h3 id=\"新特性\"><a href=\"#新特性\" class=\"headerlink\" title=\"新特性\"></a>新特性</h3><h4 id=\"Composition-API\"><a href=\"#Composition-API\" class=\"headerlink\" title=\"Composition API\"></a>Composition API</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">通过创建 Vue 组件，我们可以将界面中重复的部分连同其功能一起提取为可重用的代码段。仅此一项就可以使我们的应用在可维护性和灵活性方面走得相当远。然而，我们的经验已经证明，光靠这一点可能并不够，尤其是当你的应用变得非常大的时候——想想几百个组件。处理这样的大型应用时，共享和重用代码变得尤为重要。<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n *&#x2F;\n&lt;template&gt;\n  &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;h1&gt;\n  &lt;!-- &lt;button @click&#x3D;&quot;count++&quot;&gt;count is: &#123;&#123; count &#125;&#125;&lt;&#x2F;button&gt; --&gt;\n  &lt;p&gt;\n    Edit &lt;code&gt;components&#x2F;HelloWorld.vue&lt;&#x2F;code&gt; to test hot module replacement.\n  &lt;&#x2F;p&gt;\n\n  &lt;p&gt;&#123;&#123; data.counter &#125;&#125;&lt;&#x2F;p&gt;\n\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nimport &#123; reactive，computed &#125; from &quot;@vue&#x2F;reactivity&quot;;\nexport default &#123;\n  name: &quot;HelloWorld&quot;,\n  props: &#123;\n    msg: String,\n  &#125;,\n  &#x2F;&#x2F; data() &#123;\n  &#x2F;&#x2F;   return &#123;\n  &#x2F;&#x2F;     count: 0,\n  &#x2F;&#x2F;   &#125;;\n  &#x2F;&#x2F; &#125;,\n\n  setup() &#123;\n    const data &#x3D; reactive(&#123;\n      counter: 1,\n     doublecounter: computed(() &#x3D;&gt; data.counter * 2)\n    &#125;);\n    return &#123; data &#125;;\n    \n  &#125;,\n\n\n&#125;;\n&lt;&#x2F;script&gt;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>setup等同于原data，通过reactive定义变量病赋值到data，再return出去，就可以在template用双大括号使用，计算特性：doublecounter的定义，注意需要import computed</p>\n<p><strong>注意：setup里面没有beforecreate和created两个，最早的是onMounted这个钩子</strong></p>\n<h5 id=\"单值变量-ref\"><a href=\"#单值变量-ref\" class=\"headerlink\" title=\"单值变量 ref()\"></a>单值变量 ref()</h5><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n *&#x2F;\n&lt;template&gt;\n  &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;h1&gt;\n  &lt;!-- &lt;button @click&#x3D;&quot;count++&quot;&gt;count is: &#123;&#123; count &#125;&#125;&lt;&#x2F;button&gt; --&gt;\n  &lt;p&gt;\n    Edit &lt;code&gt;components&#x2F;HelloWorld.vue&lt;&#x2F;code&gt; to test hot module replacement.\n  &lt;&#x2F;p&gt;\n\n  &lt;p&gt;&#123;&#123; msg2 &#125;&#125;&lt;&#x2F;p&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nimport &#123; ref &#125; from &quot;@vue&#x2F;reactivity&quot;;\nexport default &#123;\n  name: &quot;HelloWorld&quot;,\n  props: &#123;\n    msg: String,\n  &#125;,\n  &#x2F;&#x2F; data() &#123;\n  &#x2F;&#x2F;   return &#123;\n  &#x2F;&#x2F;     count: 0,\n  &#x2F;&#x2F;   &#125;;\n  &#x2F;&#x2F; &#125;,\n\n  setup() &#123;\n\n\n    const msg2 &#x3D; ref(&#39;some massage&#39;);\n\n    return &#123;  msg2 &#125;;\n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>还可以将整个counter的部分提出来</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n *&#x2F;\n&lt;template&gt;\n  &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;h1&gt;\n  &lt;!-- &lt;button @click&#x3D;&quot;count++&quot;&gt;count is: &#123;&#123; count &#125;&#125;&lt;&#x2F;button&gt; --&gt;\n  &lt;p&gt;\n    Edit &lt;code&gt;components&#x2F;HelloWorld.vue&lt;&#x2F;code&gt; to test hot module replacement.\n  &lt;&#x2F;p&gt;\n\n  &lt;p&gt;&#123;&#123; data.counter &#125;&#125;&lt;&#x2F;p&gt;\n  &lt;p&gt;&#123;&#123; data.doublecounter &#125;&#125;&lt;&#x2F;p&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nimport &#123; reactive, computed, ref &#125; from &quot;@vue&#x2F;reactivity&quot;;\nexport default &#123;\n  name: &quot;HelloWorld&quot;,\n  props: &#123;\n    msg: String,\n  &#125;,\n\n  setup() &#123;\n    const data &#x3D; userCounter()\n    return &#123; data &#125;;\n  &#125;,\n&#125;;\nfunction userCounter() &#123;\n  const data &#x3D; reactive(&#123;\n    counter: 1,\n    doublecounter: computed(() &#x3D;&gt; data.counter * 2),\n  &#125;);\n\n  return data\n&#125;\n&lt;&#x2F;script&gt;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>导出的data可以解构出来，就不用在页面上使用多个data.</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n *&#x2F;\n&lt;template&gt;\n  &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;h1&gt;\n  &lt;!-- &lt;button @click&#x3D;&quot;count++&quot;&gt;count is: &#123;&#123; count &#125;&#125;&lt;&#x2F;button&gt; --&gt;\n  &lt;p&gt;\n    Edit &lt;code&gt;components&#x2F;HelloWorld.vue&lt;&#x2F;code&gt; to test hot module replacement.\n  &lt;&#x2F;p&gt;\n\n  &lt;p&gt;&#123;&#123; counter &#125;&#125;&lt;&#x2F;p&gt;\n  &lt;p&gt;&#123;&#123; doublecounter &#125;&#125;&lt;&#x2F;p&gt;\n\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nimport &#123; reactive, computed, ref ,toRefs&#125; from &quot;@vue&#x2F;reactivity&quot;;\nexport default &#123;\n  name: &quot;HelloWorld&quot;,\n  props: &#123;\n    msg: String,\n  &#125;,\n\n  setup() &#123;\n    const &#123; counter,doublecounter &#125; &#x3D; userCounter()\n   \n\n\n    return &#123; counter,doublecounter &#125;;\n  &#125;,\n&#125;;\nfunction userCounter() &#123;\n  const data &#x3D; reactive(&#123;\n    counter: 1,\n    doublecounter: computed(() &#x3D;&gt; data.counter * 2),\n  &#125;);\n\n  return toRefs(data)\n&#125;\n&lt;&#x2F;script&gt;\n\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting@master/kif_img/20211021202234.png\" alt=\"image-20211021202234604\"></p>\n<h5 id=\"元素引用\"><a href=\"#元素引用\" class=\"headerlink\" title=\"元素引用\"></a>元素引用</h5><p>通过给元素制定属性，如</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;p ref&#x3D;&quot;desc&quot;&gt;&lt;&#x2F;p&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>再用单值定义为null，该单值就可以作为元素</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n *&#x2F;\n&lt;template&gt;\n  &lt;p ref&#x3D;&quot;desc&quot;&gt;&lt;&#x2F;p&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nimport &#123; reactive, computed, ref, toRefs &#125; from &quot;@vue&#x2F;reactivity&quot;;\nexport default &#123;\n  name: &quot;HelloWorld&quot;,\n  props: &#123;\n    msg: String,\n  &#125;,\n  setup() &#123;\n\n    &#x2F;&#x2F; 元素引用\n    const desc &#x3D; ref(null);\n    return &#123;  desc &#125;;\n  &#125;,\n&#125;;\n\n&lt;&#x2F;script&gt;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>此时desc可操作元素<p></p>\n<p>如通过输入框改变变量值，在监听该变量，变量改变就使p的内容也改变</p>\n<h4 id=\"Teleport\"><a href=\"#Teleport\" class=\"headerlink\" title=\"Teleport\"></a>Teleport</h4><p>制定内容的父元素</p>\n<p>a.vue</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n *&#x2F;\n&lt;template&gt;\n  &lt;!-- teleprot --&gt;\n  &lt;modalButton&gt;&lt;&#x2F;modalButton&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nimport modalButton from &#39;.&#x2F;modalButton.vue&#39;\nexport default &#123;\n  name: &quot;HelloWorld&quot;,\n  components: &#123;\n    modalButton\n  &#125;,\n  props: &#123;\n    msg: String,\n  &#125;,\n  setup() &#123;\n   \n  &#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>b.vue</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n *&#x2F;\n&lt;template&gt;\n  &lt;div&gt;\n    &lt;button @click&#x3D;&quot;modalOpen &#x3D; true&quot;&gt;弹出&lt;&#x2F;button&gt;\n    &lt;teleport to&#x3D;&quot;body&quot;&gt;\n      &lt;div v-if&#x3D;&quot;modalOpen&quot;&gt;\n        &lt;div&gt;\n          kif\n          &lt;button @click&#x3D;&quot;modalOpen &#x3D; false&quot;&gt;关闭&lt;&#x2F;button&gt;\n        &lt;&#x2F;div&gt;\n      &lt;&#x2F;div&gt;\n    &lt;&#x2F;teleport&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nexport default &#123;\n  props: &#123;&#125;,\n  components: &#123;&#125;,\n  data() &#123;\n    return &#123; modalOpen: false &#125;;\n  &#125;,\n  methods: &#123;&#125;,\n&#125;;\n&lt;&#x2F;script&gt;\n\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;teleport to&#x3D;&quot;body&quot;&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>指定弹出框父级元素为body</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/wkif/ImageHosting@master/kif_img/20211021223106.png\"></p>\n<h4 id=\"Emits-Components-Option\"><a href=\"#Emits-Components-Option\" class=\"headerlink\" title=\"Emits Components Option\"></a>Emits Components Option</h4><h2 id=\"值得注意的新特性\"><a href=\"#值得注意的新特性\" class=\"headerlink\" title=\"值得注意的新特性\"></a>值得注意的新特性</h2><p>Vue 3 中一些需要关注的新功能包括：</p>\n<ul>\n<li><a href=\"https://v3.cn.vuejs.org/guide/composition-api-introduction.html\">组合式 API</a></li>\n<li><a href=\"https://v3.cn.vuejs.org/guide/teleport.html\">Teleport</a></li>\n<li><a href=\"https://v3.cn.vuejs.org/guide/migration/fragments.html\">片段</a></li>\n<li><a href=\"https://v3.cn.vuejs.org/guide/component-custom-events.html\">触发组件选项</a></li>\n<li><a href=\"https://github.com/vuejs/vue-next/tree/master/packages/runtime-core\">来自 <code>@vue/runtime-core</code> 的 <code>createRenderer</code> API</a>，用于创建自定义渲染器</li>\n<li><a href=\"https://v3.cn.vuejs.org/api/sfc-script-setup.html\">单文件组件组合式 API 语法糖 (&#96;&#96;)</a></li>\n<li><a href=\"https://v3.cn.vuejs.org/api/sfc-style.html#%E7%8A%B6%E6%80%81%E9%A9%B1%E5%8A%A8%E7%9A%84%E5%8A%A8%E6%80%81-css\">单文件组件状态驱动的 CSS 变量 (&#96;&#96; 中的 <code>v-bind</code>)</a></li>\n<li><a href=\"https://github.com/vuejs/rfcs/blob/master/active-rfcs/0023-scoped-styles-changes.md\">SFC &#96;&#96; 现在可以包含全局规则或只针对插槽内容的规则</a></li>\n<li><a href=\"https://v3.cn.vuejs.org/guide/migration/suspense.html\">Suspense</a></li>\n</ul>\n<h3 id=\"重写双向绑定\"><a href=\"#重写双向绑定\" class=\"headerlink\" title=\"重写双向绑定\"></a>重写双向绑定</h3><p>vue2基于Object.defineProperty()实现</p>\n<p>Vue3基于Proxy（ES6新增）实现</p>\n<p>优势：</p>\n<ul>\n<li>丢掉麻烦的备份数据</li>\n<li>省去for in循环</li>\n<li>可以监听到数组变化（包括push等操作）</li>\n</ul>\n<h3 id=\"优化Vdom\"><a href=\"#优化Vdom\" class=\"headerlink\" title=\"优化Vdom\"></a>优化Vdom</h3><p>vue2中，每次更新diff，都是全量对比，性能消耗大，</p>\n<p>vue3，只对比带有标记的内容</p>\n<p><a href=\"https://template-explorer.vuejs.org/\"></a></p>\n<p><img src=\"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforhexo/202203311205278.png\" alt=\"image-20220331120518186\"></p>\n<p>图中标记item 1 text</p>\n<h3 id=\"fragment\"><a href=\"#fragment\" class=\"headerlink\" title=\"fragment\"></a>fragment</h3><p>vue3允许多个template根节点</p>\n<h3 id=\"Tree-shaking\"><a href=\"#Tree-shaking\" class=\"headerlink\" title=\"Tree shaking\"></a>Tree shaking</h3><p>保持项目结果不变的条件下，去除无用的代码</p>\n<h2 id=\"vue指令补充\"><a href=\"#vue指令补充\" class=\"headerlink\" title=\"vue指令补充\"></a>vue指令补充</h2><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;div class&#x3D;&quot;kif&quot; @click&#x3D;&quot;parend&quot;&gt;\n  &lt;div class&#x3D;&quot;text&quot; v-if&#x3D;&quot;flag&quot; v-text&#x3D;&quot;message&quot;&gt;&lt;&#x2F;div&gt;\n  &lt;button @click.stop&#x3D;&quot;fun2&quot;&gt;on&lt;&#x2F;button&gt;\n&lt;&#x2F;div&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>@<strong>click.stop</strong>阻止冒泡</p>\n<p>@click.prevent 阻止事件的默认行为，</p>\n<p>@keyup.enter</p>\n<h2 id=\"3-ref\"><a href=\"#3-ref\" class=\"headerlink\" title=\"3.ref\"></a>3.ref</h2><h3 id=\"3-1-ref\"><a href=\"#3-1-ref\" class=\"headerlink\" title=\"3.1 ref\"></a>3.1 ref</h3><p>用途：</p>\n<p>接受一个参数值并返回一个响应式且可改变的 ref <strong>对象</strong>。ref 对象拥有一个指向内部值的单一属性 .value。实现修改ref.value页面响应式变化</p>\n<p>导入：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> ref<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport &#123; ref &#125; from &#39;vue&#39;\n\nlet count &#x3D; ref(0)\n\nlet change &#x3D; () &#x3D;&gt; &#123;\n    count.value++\n    console.log(count)\n&#125;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;h1&gt;&#123;&#123; count &#125;&#125;&lt;&#x2F;h1&gt;\n   &lt;button @click&#x3D;&quot;change&quot;&gt; change&lt;&#x2F;button&gt;\n\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>Ref</strong></p>\n<p>ts中用来定义变量类型</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> ref<span class=\"token punctuation\">,</span>Ref <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span>\n\n<span class=\"token keyword\">let</span> <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span>Ref<span class=\"token operator\">&lt;</span>number<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"3-2-isref\"><a href=\"#3-2-isref\" class=\"headerlink\" title=\"3.2 isref\"></a>3.2 isref</h3><p>用途：判断是否是一个REF对象</p>\n<p>导入：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> ref<span class=\"token punctuation\">,</span>isRef <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">/*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n */</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> ref<span class=\"token punctuation\">,</span>isRef<span class=\"token punctuation\">,</span>Ref <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span>\n\ndefineProps<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">msg</span><span class=\"token operator\">:</span> string <span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span>Ref<span class=\"token operator\">&lt;</span>number<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">let</span> <span class=\"token literal-property property\">s</span><span class=\"token operator\">:</span>string<span class=\"token operator\">=</span><span class=\"token string\">'kif'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">isRef</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//false</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">isRef</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token comment\">//true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"3-3-shallowRef，triggerRef\"><a href=\"#3-3-shallowRef，triggerRef\" class=\"headerlink\" title=\"3.3 shallowRef，triggerRef\"></a>3.3 shallowRef，triggerRef</h3><p>用途:配合使用形成响应式引用数据类型</p>\n<p>导入：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport &#123;shallowRef,triggerRef &#125; from &#39;vue&#39;\nlet obj &#x3D;&#123;\n    name:&#39;kif&#39;,\n    age:12\n&#125;\nlet objRef &#x3D; shallowRef(obj)\nlet change2&#x3D;()&#x3D;&gt;&#123;\n    objRef.value.age&#x3D;34\n    console.log(objRef)\n&#125;\n&lt;&#x2F;script&gt;\n&lt;template&gt;\n    &lt;p&gt;&#123;&#123;objRef&#125;&#125;&lt;&#x2F;p&gt;\n    &lt;button @click&#x3D;&quot;change2&quot;&gt;change2&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>![image-20220531152451508](E:\\kifFile\\study\\Vue3 + vite + Ts + pinia + 实战 + 源码 +全栈\\Vue3学习笔记.assets\\image-20220531152451508.png)</p>\n<p>仅仅使用shallowRef无法实现对对象属性的响应式改变（objRef.value.age&#x3D;34），可以使用的解决办法：</p>\n<ol>\n<li><p>改变整个value</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">objRef<span class=\"token punctuation\">.</span>value<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>\n       <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'kif'</span><span class=\"token punctuation\">,</span>\n       <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span><span class=\"token number\">45</span>\n   <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n</li>\n<li><p>triggerRef强制更新视图</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">objRef<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span>age<span class=\"token operator\">=</span><span class=\"token number\">45</span>\n<span class=\"token function\">triggerRef</span><span class=\"token punctuation\">(</span>objRef<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ol>\n<h3 id=\"3-4-customRef\"><a href=\"#3-4-customRef\" class=\"headerlink\" title=\"3.4 customRef\"></a>3.4 customRef</h3><p>自定义Ref</p>\n<p><strong>有点难，先不学，嘿嘿嘿</strong></p>\n<h2 id=\"4-reactive\"><a href=\"#4-reactive\" class=\"headerlink\" title=\"4.reactive\"></a>4.reactive</h2><h3 id=\"4-1-reactive\"><a href=\"#4-1-reactive\" class=\"headerlink\" title=\"4.1 reactive\"></a>4.1 reactive</h3><p>用途：接收一个普通对象然后返回该普通对象的响应式代理。等同于 2.x 的 Vue.observable()</p>\n<p>接受复杂数据类型，如数组，对象</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>ps：前面ref在接受复杂数据类型后内部处理其实是用的reactive</p></blockquote>\n<p>导入：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> reactive <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">/*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n */</span>\n<span class=\"token operator\">&lt;</span>script setup lang<span class=\"token operator\">=</span><span class=\"token string\">\"ts\"</span><span class=\"token operator\">></span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> reactive <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> obj<span class=\"token operator\">=</span> <span class=\"token function\">reactive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">msg</span><span class=\"token operator\">:</span><span class=\"token string\">'hello'</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> <span class=\"token function-variable function\">change</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span>\n    obj<span class=\"token punctuation\">.</span>msg<span class=\"token operator\">=</span><span class=\"token string\">'world'</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#123;</span> obj <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span>\n    <span class=\"token operator\">&lt;</span>button @click<span class=\"token operator\">=</span><span class=\"token string\">\"change\"</span><span class=\"token operator\">></span>button<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>style scoped<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>reactive不用value获取值</p></blockquote>\n<p>注：数组时需要注意！</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">/*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n */</span>\n<span class=\"token operator\">&lt;</span>script setup lang<span class=\"token operator\">=</span><span class=\"token string\">\"ts\"</span><span class=\"token operator\">></span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> reactive <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> arrReactive<span class=\"token operator\">=</span><span class=\"token function\">reactive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> <span class=\"token function-variable function\">change2</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span>\n    arrReactive<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">2</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span>\n    \n    <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#123;</span> arrReactive <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span>\n    <span class=\"token operator\">&lt;</span>button @click<span class=\"token operator\">=</span><span class=\"token string\">\"change2\"</span><span class=\"token operator\">></span>button<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>style scoped<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>arrReactive[1]&#x3D;2这种数组操作不能用，只能用push，</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> <span class=\"token function-variable function\">change2</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> newArr<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span>\n\n    arrReactive<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>newArr<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>way2： 创建一个响应式对象，对象的属性是数组</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">/*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n */</span>\n<span class=\"token operator\">&lt;</span>script setup lang<span class=\"token operator\">=</span><span class=\"token string\">\"ts\"</span><span class=\"token operator\">></span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> reactive <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">;</span>\n\ntype <span class=\"token constant\">T</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">list</span><span class=\"token operator\">:</span> number<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">let</span> <span class=\"token literal-property property\">obj2</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span> <span class=\"token operator\">=</span> reactive<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">list</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> <span class=\"token function-variable function\">change3</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> newarr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">]</span>\n    obj2<span class=\"token punctuation\">.</span>list <span class=\"token operator\">=</span> newarr\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span>\n\n    <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#123;</span> obj2<span class=\"token punctuation\">.</span>list <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span>\n    <span class=\"token operator\">&lt;</span>button @click<span class=\"token operator\">=</span><span class=\"token string\">\"change3\"</span><span class=\"token operator\">></span>button<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>style scoped<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"4-2-readonly\"><a href=\"#4-2-readonly\" class=\"headerlink\" title=\"4.2 readonly\"></a>4.2 readonly</h3><p>用途：拷贝一份reactive对象并设置为只读</p>\n<p>导入：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> readonly <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">/*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n */</span>\n<span class=\"token operator\">&lt;</span>script setup lang<span class=\"token operator\">=</span><span class=\"token string\">\"ts\"</span><span class=\"token operator\">></span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> reactive<span class=\"token punctuation\">,</span>readonly <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> obj <span class=\"token operator\">=</span> <span class=\"token function\">reactive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">msg</span><span class=\"token operator\">:</span> <span class=\"token string\">'hello'</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> <span class=\"token function-variable function\">change</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    obj<span class=\"token punctuation\">.</span>msg <span class=\"token operator\">=</span> <span class=\"token string\">'world'</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">// readonly</span>\n<span class=\"token keyword\">let</span> copyObj<span class=\"token operator\">=</span><span class=\"token function\">readonly</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span>\ncopyObj<span class=\"token punctuation\">.</span>msg<span class=\"token operator\">=</span><span class=\"token string\">'world'</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>![image-20220531155512565](E:\\kifFile\\study\\Vue3 + vite + Ts + pinia + 实战 + 源码 +全栈\\Vue3学习笔记.assets\\image-20220531155512565.png)</p>\n<h3 id=\"4-3-shallowReactive\"><a href=\"#4-3-shallowReactive\" class=\"headerlink\" title=\"4.3 shallowReactive\"></a>4.3 shallowReactive</h3><p>用途：将对象第一层设置为响应式</p>\n<p>导入：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span>shallowReactive <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">/*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n */</span>\n<span class=\"token operator\">&lt;</span>script setup lang<span class=\"token operator\">=</span><span class=\"token string\">\"ts\"</span><span class=\"token operator\">></span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> shallowReactive <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">let</span> deepObjShall<span class=\"token operator\">=</span><span class=\"token function\">shallowReactive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'kif'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">firends</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'zm'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span><span class=\"token number\">22</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> <span class=\"token function-variable function\">changeS</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span>\n    deepObjShall<span class=\"token punctuation\">.</span>name<span class=\"token operator\">=</span><span class=\"token string\">'kif2'</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">let</span> <span class=\"token function-variable function\">changeS2</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span>\n    deepObjShall<span class=\"token punctuation\">.</span>firends<span class=\"token punctuation\">.</span>age<span class=\"token operator\">=</span><span class=\"token number\">11</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">//changeS()</span>\n<span class=\"token comment\">//changeS2()</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span>\n\n    <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#123;</span> deepObjShall <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span>\n      <span class=\"token operator\">&lt;</span>button @click<span class=\"token operator\">=</span><span class=\"token string\">\"changeS\"</span><span class=\"token operator\">></span>button<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>button @click<span class=\"token operator\">=</span><span class=\"token string\">\"changeS2\"</span><span class=\"token operator\">></span>button<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>style scoped<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>changeS()<br>changeS2()</p>\n<p>这样执行会发现深浅都会变化，正确使用方法是用事件触发</p></blockquote>\n<p>![image-20220531160403290](E:\\kifFile\\study\\Vue3 + vite + Ts + pinia + 实战 + 源码 +全栈\\Vue3学习笔记.assets\\image-20220531160403290.png)</p>\n<h2 id=\"5-to\"><a href=\"#5-to\" class=\"headerlink\" title=\"5.to\"></a>5.to</h2><h3 id=\"5-1-toRef\"><a href=\"#5-1-toRef\" class=\"headerlink\" title=\"5.1 toRef\"></a>5.1 toRef</h3><p>用途：将对象某一个属性变成响应式</p>\n<p>导入：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> toRef <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport &#123; toRef &#125; from &#39;vue&#39;\n\nlet obj &#x3D; &#123;\n    name: &#39;kif&#39;,\n    age: 13\n&#125;\n\nlet tR &#x3D; toRef(obj, &#39;age&#39;)\n\nlet change &#x3D; () &#x3D;&gt; &#123;\n    tR.value++\n    console.log(&quot;原&quot;, obj)\n    console.log(&#39;引&#39;, tR)\n&#125;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;!-- &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;h1&gt; --&gt;\n    &lt;p&gt;&#123;&#123; tR &#125;&#125;&lt;&#x2F;p&gt;\n    &lt;button @click&#x3D;&quot;change&quot;&gt;dianji&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>点击之后原对象和新对象都会变，而且页面不会响应式刷新</p>\n<p>![image-20220531161211613](E:\\kifFile\\study\\Vue3 + vite + Ts + pinia + 实战 + 源码 +全栈\\Vue3学习笔记.assets\\image-20220531161211613.png)</p>\n<p>原对象是响应式就可以响应式变化</p>\n<p>即：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> obj <span class=\"token operator\">=</span><span class=\"token function\">reactive</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'kif'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">13</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"5-2-torefs\"><a href=\"#5-2-torefs\" class=\"headerlink\" title=\"5.2 torefs\"></a>5.2 torefs</h3><p>用途：对象解构后每个属性变成响应式</p>\n<p>导入：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> toRefs <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> <span class=\"token punctuation\">&#123;</span>name<span class=\"token punctuation\">,</span>age<span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span><span class=\"token function\">reactive</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'kif'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">13</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>这种解构后的name 和age不是响应式的，</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport &#123; reactive,toRefs &#125; from &#39;vue&#39;\n\nlet &#123;name,age&#125; &#x3D;toRefs(reactive( &#123;\n    name: &#39;kif&#39;,\n    age: 13\n&#125;))\n\nlet change2&#x3D;()&#x3D;&gt;&#123;\n    age.value++\n&#125;\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;!-- &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;h1&gt; --&gt;\n    &lt;p&gt;&#123;&#123; age &#125;&#125;&lt;&#x2F;p&gt;\n    &lt;button @click&#x3D;&quot;change2&quot;&gt;dianji&lt;&#x2F;button&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"5-3-toRaw\"><a href=\"#5-3-toRaw\" class=\"headerlink\" title=\"5.3 toRaw\"></a>5.3 toRaw</h3><p>用途：将响应式对象变回普通对象</p>\n<p>导入：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> toRew <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"6-计算属性-computed\"><a href=\"#6-计算属性-computed\" class=\"headerlink\" title=\"6.计算属性 computed\"></a>6.计算属性 computed</h2><p>用途：</p>\n<p>导入：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> computed <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport &#123; computed,ref &#125; from &#39;vue&#39;;\n\nlet firstName &#x3D;ref(&#39;&#39;)\nlet lastName &#x3D;ref(&#39;&#39;)\nlet fullName &#x3D; computed(() &#x3D;&gt; &#123;\n    return &#96;$&#123;firstName.value&#125; $&#123;lastName.value&#125;&#96;\n&#125;)\n&#x2F;&#x2F;let fullName2 &#x3D; computed(&#123;\n&#x2F;&#x2F;     set() &#123;\n\n&#x2F;&#x2F;         firstName.value + lastName.value\n\n&#x2F;&#x2F;     &#125;,\n&#x2F;&#x2F;     get() &#123;\n&#x2F;&#x2F;         return &#96;$&#123;firstName.value&#125; $&#123;lastName.value&#125;&#96;\n&#x2F;&#x2F;     &#125;\n&#x2F;&#x2F; &#125;)\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\ninput:&lt;input v-model&#x3D;&quot;firstName&quot;&#x2F;&gt;&lt;br&#x2F;&gt;\ninput:&lt;input v-model&#x3D;&quot;lastName&quot;&#x2F;&gt;&lt;br&#x2F;&gt;\n&lt;p&gt;&#123;&#123;fullName&#125;&#125;&lt;&#x2F;p&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h6 id=\"案例：购物车\"><a href=\"#案例：购物车\" class=\"headerlink\" title=\"案例：购物车\"></a>案例：购物车</h6><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; reactive, computed &#125; from &#39;vue&#39;;\n\ntype goods &#x3D; &#123;\n    name: string,\n    num: number,\n    price: number\n&#125;\n\nlet data &#x3D; reactive&lt;goods[]&gt;([\n    &#123;\n        name: &#39;goods1&#39;,\n        num: 1,\n        price: 12\n    &#125;,\n    &#123;\n        name: &#39;goods2&#39;,\n        num: 2,\n        price: 13\n    &#125;,\n    &#123;\n        name: &#39;goods3&#39;,\n        num: 2,\n        price: 14\n    &#125;\n])\nlet add &#x3D; (index: number) &#x3D;&gt; &#123;\n    data[index].num++\n&#125;\nlet reduce &#x3D; (index: number) &#x3D;&gt; &#123;\n    if(data[index].num&gt;0)&#123;\n        data[index].num--\n    &#125;\n    \n&#125;\nlet deleteDo &#x3D; (index:number)&#x3D;&gt;&#123;\n    data.splice(index,1)\n&#125;\nlet sum&#x3D;computed(()&#x3D;&gt;&#123;\n    let sum&#x3D;0\n    data.forEach(item&#x3D;&gt;&#123;\n        sum+&#x3D;item.num*item.price\n    &#125;)\n    return sum\n&#125;)\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;dvi class&#x3D;&quot;main&quot;&gt;\n        &lt;table border style&#x3D;&quot;width:800px&quot;&gt;\n            &lt;thead&gt;\n                &lt;tr align&#x3D;&quot;center&quot;&gt;\n                    &lt;th &gt;序号&lt;&#x2F;th&gt;\n                    &lt;th&gt;名称&lt;&#x2F;th&gt;\n                    &lt;th&gt;数量&lt;&#x2F;th&gt;\n                    &lt;th&gt;单价&lt;&#x2F;th&gt;\n                    &lt;th&gt;操作&lt;&#x2F;th&gt;\n                &lt;&#x2F;tr&gt;\n            &lt;&#x2F;thead&gt;\n            &lt;tbody&gt;\n                &lt;tr v-for&#x3D;&quot;(item, index) in data&quot;&gt;\n                    &lt;td&gt;&#123;&#123; index &#125;&#125;&lt;&#x2F;td&gt;\n                    &lt;td&gt;&#123;&#123; item.name &#125;&#125;&lt;&#x2F;td&gt;\n                    &lt;td&gt; &lt;button @click&#x3D;&quot;add(index)&quot;&gt;+&lt;&#x2F;button&gt;&#123;&#123; item.num &#125;&#125;&lt;button @click&#x3D;&quot;reduce(index)&quot;&gt;-&lt;&#x2F;button&gt;\n                    &lt;&#x2F;td&gt;\n                    &lt;td&gt;&#123;&#123; item.price &#125;&#125;&lt;&#x2F;td&gt;\n                    &lt;td&gt;\n\n                        &lt;button @click&#x3D;&quot;deleteDo(index)&quot;&gt;delete&lt;&#x2F;button&gt;\n                    &lt;&#x2F;td&gt;\n                &lt;&#x2F;tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;&#x2F;td&gt;\n                    &lt;td&gt;&lt;&#x2F;td&gt;\n                    &lt;td&gt;&lt;&#x2F;td&gt;\n                    &lt;td&gt;&lt;&#x2F;td&gt;\n                    &lt;td&gt;sum:&#123;&#123;sum&#125;&#125;&lt;&#x2F;td&gt;\n                &lt;&#x2F;tr&gt;\n            &lt;&#x2F;tbody&gt;\n            &lt;tfoot&gt;&lt;&#x2F;tfoot&gt;\n        &lt;&#x2F;table&gt;\n    &lt;&#x2F;dvi&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>![image-20220531171949840](E:\\kifFile\\study\\Vue3 + vite + Ts + pinia + 实战 + 源码 +全栈\\Vue3学习笔记.assets\\image-20220531171949840.png)</p>\n<h2 id=\"7-监听属性-watch\"><a href=\"#7-监听属性-watch\" class=\"headerlink\" title=\"7.监听属性 watch\"></a>7.监听属性 watch</h2><p>导入：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> watch <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 17:27:05\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport &#123; watch, ref &#125; from &#39;vue&#39;\n\nlet me1 &#x3D; ref(&#39;&#39;)\nlet me2 &#x3D; ref(&#39;&#39;)\nwatch([me1,me2], (newVal, oldVal) &#x3D;&gt; &#123;\n    console.log(newVal, oldVal)\n&#125;)\n\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    watch\n    &lt;input v-model&#x3D;&quot;me1&quot; &#x2F;&gt;\n    &lt;input v-model&#x3D;&quot;me2&quot; &#x2F;&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>深度监听：</strong></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">watch</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">newVal<span class=\"token punctuation\">,</span> oldVal</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>newVal<span class=\"token punctuation\">,</span> oldVal<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">deep</span><span class=\"token operator\">:</span><span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>高级监听器 watchEffect</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 18:09:58\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport &#123;  ref,watchEffect &#125; from &#39;vue&#39;\n\nlet messag2&#x3D;ref(&#39;&#39;)\n\nwatchEffect(()&#x3D;&gt;&#123;\n    console.log(messag2.value)\n&#125;)\n\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    watch\n    &lt;input v-model&#x3D;&quot;messag2&quot; &#x2F;&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>watchEffect(()&#x3D;&gt;{<br>    console.log(messag2.value)<br>})</p>\n<p>可以传入一个回调函数作为参数，这个回调函数会在里面代码优先执行</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-05-31 17:22:40 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-05-31 18:13:05\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport &#123; watch, ref, reactive, watchEffect &#125; from &#39;vue&#39;\n\nlet messag2 &#x3D; ref(&#39;&#39;)\n\nwatchEffect((fun) &#x3D;&gt; &#123;\n    \n    console.log(messag2.value)\n    fun(() &#x3D;&gt; &#123;\n        console.log(&#39;before&#39;)\n    &#125;)\n&#125;)\n\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    watch\n    &lt;input v-model&#x3D;&quot;messag2&quot; &#x2F;&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>![image-20220531181339899](E:\\kifFile\\study\\Vue3 + vite + Ts + pinia + 实战 + 源码 +全栈\\Vue3学习笔记.assets\\image-20220531181339899.png)</p>\n<p>其返回值是一个函数，执行即可停止监听</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">let stop &#x3D; watchEffect((fun) &#x3D;&gt; &#123;\n    \n    console.log(messag2.value)\n    fun(() &#x3D;&gt; &#123;\n        console.log(&#39;before&#39;)\n    &#125;)\n&#125;)\nstop()\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"8-组件和生命周期\"><a href=\"#8-组件和生命周期\" class=\"headerlink\" title=\"8.组件和生命周期\"></a>8.组件和生命周期</h2><h3 id=\"8-1组件\"><a href=\"#8-1组件\" class=\"headerlink\" title=\"8.1组件\"></a>8.1组件</h3><p>每一个.vue文件即为一个组件，通过在script里面</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> x <span class=\"token keyword\">from</span> <span class=\"token string\">''</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>引入，组件可以复用，但引入名不能和html原标签名相同。</p>\n<h3 id=\"8-2组件生命周期\"><a href=\"#8-2组件生命周期\" class=\"headerlink\" title=\"8.2组件生命周期\"></a>8.2组件生命周期</h3><h4 id=\"8-2-1-onBrforeMount\"><a href=\"#8-2-1-onBrforeMount\" class=\"headerlink\" title=\"8.2.1 onBrforeMount\"></a>8.2.1 onBrforeMount</h4><p>挂载之前</p>\n<p>此时无法获取到dom元素</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-01 09:53:54 \n * @Last Modified by:   kif kif101001000@163.com  \n * @Last Modified time: 2022-06-01 09:53:54 \n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; onBeforeMount &#125; from &#39;vue&#39;\nconsole.log(&#39;正常&#39;)&#x2F;&#x2F;正常\n\nonBeforeMount(() &#x3D;&gt; &#123;\n    let div &#x3D; document.getElementsByClassName(&#39;main&#39;)[0]\n    console.log(div)&#x2F;&#x2F;undefined\n    console.log(&#39;onBeforeMount&#39;)&#x2F;&#x2F;onBeforeMount\n\n&#125;)\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;main&quot;&gt;k&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>![image-20220601095438896](E:\\kifFile\\study\\Vue3 + vite + Ts + pinia + 实战 + 源码 +全栈\\Vue3学习笔记.assets\\image-20220601095438896.png)</p>\n<h4 id=\"8-2-2-onMounted\"><a href=\"#8-2-2-onMounted\" class=\"headerlink\" title=\"8.2.2 onMounted\"></a>8.2.2 onMounted</h4><p>挂载之后，可以拿到dom元素</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-01 09:53:54 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-01 09:56:46\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; onBeforeMount,onMounted &#125; from &#39;vue&#39;\nconsole.log(&#39;正常&#39;)\n\nonBeforeMount(() &#x3D;&gt; &#123;\n    let div &#x3D; document.getElementsByClassName(&#39;main&#39;)[0]\n    console.log(div)\n    console.log(&#39;onBeforeMount&#39;)\n\n&#125;)\nonMounted(()&#x3D;&gt;&#123;\n    let div &#x3D; document.getElementsByClassName(&#39;main&#39;)[0]\n    console.log(div)\n    console.log(&#39;onMounted&#39;)\n&#125;)\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;main&quot;&gt;k&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>![image-20220601095716241](E:\\kifFile\\study\\Vue3 + vite + Ts + pinia + 实战 + 源码 +全栈\\Vue3学习笔记.assets\\image-20220601095716241.png)</p>\n<h4 id=\"8-2-3-onBeforeUpdate\"><a href=\"#8-2-3-onBeforeUpdate\" class=\"headerlink\" title=\"8.2.3 onBeforeUpdate\"></a>8.2.3 onBeforeUpdate</h4><p>更新之前</p>\n<h4 id=\"8-2-4-onUpdated\"><a href=\"#8-2-4-onUpdated\" class=\"headerlink\" title=\"8.2.4 onUpdated\"></a>8.2.4 onUpdated</h4><p>更新之后</p>\n<h4 id=\"8-2-5-onbeforeUnmount\"><a href=\"#8-2-5-onbeforeUnmount\" class=\"headerlink\" title=\"8.2.5 onbeforeUnmount\"></a>8.2.5 onbeforeUnmount</h4><p>卸载之前</p>\n<h4 id=\"8-2-6-onUnmount\"><a href=\"#8-2-6-onUnmount\" class=\"headerlink\" title=\"8.2.6 onUnmount\"></a>8.2.6 onUnmount</h4><p>卸载完成</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>v-if 会触发卸载加载事件，可以用来演示</p></blockquote>\n<h2 id=\"9-组件传值\"><a href=\"#9-组件传值\" class=\"headerlink\" title=\"9.组件传值\"></a>9.组件传值</h2><h6 id=\"案例：常规页面布局\"><a href=\"#案例：常规页面布局\" class=\"headerlink\" title=\"案例：常规页面布局\"></a>案例：常规页面布局</h6><p>layout.vue:</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport Menu from &#39;.&#x2F;menu&#x2F;index.vue&#39;\nimport Content from &#39;.&#x2F;content&#x2F;index.vue&#39;\nimport Header from &#39;.&#x2F;header&#x2F;index.vue&#39;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;main&quot;&gt;\n        &lt;Menu&gt;&lt;&#x2F;Menu&gt;\n        &lt;div class&#x3D;&quot;main-right&quot;&gt;\n            &lt;Header&gt;&lt;&#x2F;Header&gt;\n            &lt;Content&gt;&lt;&#x2F;Content&gt;\n        &lt;&#x2F;div&gt;\n\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n.main &#123;\n    display: flex;\n    overflow: hidden;\n    .menu &#123;\n        width: 200px;\n    &#125;\n\n    &amp;-right &#123;\n        flex: 1;\n        border: 1px solid blue;\n        display: flex;\n        flex-direction: column;\n    &#125;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>content.vue</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport &#123; ref &#125; from &#39;vue&#39;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;content&quot;&gt;\n        content\n        &lt;div class&#x3D;&quot;list&quot; v-for&#x3D;&quot;item in 100&quot; :key&#x3D;&quot;item&quot;&gt;\n            &#123;&#123; item &#125;&#125;\n        &lt;&#x2F;div&gt;\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style  scoped&gt;\n.content &#123;\n    &#x2F;* height: 100px; *&#x2F;\n    flex: 1;\n    overflow: auto;\n    border: 2px solid green;\n    padding: 20px;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>header.vue</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\n        import &#123; ref &#125; from &#39;vue&#39;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n&lt;div class&#x3D;&quot;header&quot;&gt;\n    header\n&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n.header&#123;\n    &#x2F;* flex:1 *&#x2F;\n    height:100px\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>menu.vue</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport Menu from &#39;.&#x2F;menu&#x2F;index.vue&#39;\nimport Content from &#39;.&#x2F;content&#x2F;index.vue&#39;\nimport Header from &#39;.&#x2F;header&#x2F;index.vue&#39;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;main&quot;&gt;\n        &lt;Menu&gt;&lt;&#x2F;Menu&gt;\n        &lt;div class&#x3D;&quot;main-right&quot;&gt;\n            &lt;Header&gt;&lt;&#x2F;Header&gt;\n            &lt;Content&gt;&lt;&#x2F;Content&gt;\n        &lt;&#x2F;div&gt;\n\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n.main &#123;\n    display: flex;\n    overflow: hidden;\n    .menu &#123;\n        width: 200px;\n    &#125;\n\n    &amp;-right &#123;\n        flex: 1;\n        border: 1px solid blue;\n        display: flex;\n        flex-direction: column;\n    &#125;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"9-1-defineProps\"><a href=\"#9-1-defineProps\" class=\"headerlink\" title=\"9.1 defineProps\"></a>9.1 defineProps</h3><p>父组件向子组件传值</p>\n<h4 id=\"简单数据类型\"><a href=\"#简单数据类型\" class=\"headerlink\" title=\"简单数据类型\"></a>简单数据类型</h4><p>父组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;Menu title&#x3D;&quot;this is title&quot;&gt;&lt;&#x2F;Menu&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>title为参数量名</p>\n<p>子组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-01 14:03:10 \n * @Last Modified by:   kif kif101001000@163.com  \n * @Last Modified time: 2022-06-01 14:03:10 \n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\ntype Props &#x3D; &#123;\n    title: string\n&#125;\ndefineProps&lt;Props&gt;()\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;menu&quot;&gt;\n        menu\n        &#123;&#123;title&#125;&#125;\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style lang&#x3D;&#39;less&#39; scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">type Props <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> string\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>定义了参数类型，defineProps接受参数，就可以直接使用</p>\n<h4 id=\"复杂数据类型\"><a href=\"#复杂数据类型\" class=\"headerlink\" title=\"复杂数据类型\"></a>复杂数据类型</h4><p>如需要传 let list &#x3D; reactive([1,2,3,4])</p>\n<p>则需要在父组件使用v-bind:(简写：)</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-01 14:05:17 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-01 14:08:02\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; reactive &#125; from &#39;vue&#39;;\nimport Menu from &#39;.&#x2F;menu&#x2F;index.vue&#39;\nimport Content from &#39;.&#x2F;content&#x2F;index.vue&#39;\nimport Header from &#39;.&#x2F;header&#x2F;index.vue&#39;\n\nlet list &#x3D; reactive([1,2,3,4])\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;main&quot;&gt;\n        &lt;Menu title&#x3D;&quot;this is title&quot; :data&#x3D;&quot;list&quot;&gt;&lt;&#x2F;Menu&gt;\n        &lt;div class&#x3D;&quot;main-right&quot;&gt;\n            &lt;Header&gt;&lt;&#x2F;Header&gt;\n            &lt;Content&gt;&lt;&#x2F;Content&gt;\n        &lt;&#x2F;div&gt;\n\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n.main &#123;\n    display: flex;\n    overflow: hidden;\n    .menu &#123;\n        width: 200px;\n    &#125;\n\n    &amp;-right &#123;\n        flex: 1;\n        border: 1px solid blue;\n        display: flex;\n        flex-direction: column;\n    &#125;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>子组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-01 14:03:10 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-01 14:07:47\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport &#123; ref &#125; from &#39;vue&#39;\ntype Props &#x3D; &#123;\n    title: string,\n    data:number[]\n&#125;\ndefineProps&lt;Props&gt;()\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;menu&quot;&gt;\n        menu\n        &#123;&#123;title&#125;&#125;\n        &#123;&#123;data&#125;&#125;\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style lang&#x3D;&#39;less&#39; scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"可选值默认值\"><a href=\"#可选值默认值\" class=\"headerlink\" title=\"可选值默认值\"></a>可选值默认值</h4><pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">type Props <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> string<span class=\"token punctuation\">,</span>\n    name<span class=\"token operator\">?</span><span class=\"token operator\">:</span>string<span class=\"token punctuation\">,</span>\n    data<span class=\"token operator\">?</span><span class=\"token operator\">:</span>number<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token function\">withDefaults</span><span class=\"token punctuation\">(</span>defineProps<span class=\"token operator\">&lt;</span>Props<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'kif'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>其中</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">name<span class=\"token operator\">?</span><span class=\"token operator\">:</span>string<span class=\"token punctuation\">,</span> \n\ndata<span class=\"token operator\">?</span><span class=\"token operator\">:</span>number<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>表示   name 和data是可选值</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">withDefaults</span><span class=\"token punctuation\">(</span>defineProps<span class=\"token operator\">&lt;</span>Props<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'kif'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>设定可选值的默认值，对于复杂数据类型（数组，对象），需要使用函数返回形式</p>\n<h3 id=\"9-2-defineEmits\"><a href=\"#9-2-defineEmits\" class=\"headerlink\" title=\"9.2 defineEmits\"></a>9.2 defineEmits</h3><p>子组件向父组件传值</p>\n<p>defineEmits函数会返回一个函数，参数是一个数组，数组元素为父组件接受参数的函数名。</p>\n<p>子组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-01 14:05:28 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-01 14:14:43\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; reactive &#125; from &#39;vue&#39;\nconst emit &#x3D; defineEmits([&#39;on-click&#39;])\nlet list &#x3D; reactive([1, 2, 3, 4])\nconst ckickUp &#x3D; () &#x3D;&gt; &#123;\n    emit(&#39;on-click&#39;, list)\n&#125;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;header&quot;&gt;\n        header\n        &lt;button @click&#x3D;&quot;ckickUp&quot;&gt;点击&lt;&#x2F;button&gt;\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n.header &#123;\n    &#x2F;* flex:1 *&#x2F;\n    height: 100px\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>const emit &#x3D; defineEmits([‘on-click’])    绑定了父组件接受参数的事件名</p>\n<p> emit(‘on-click’, list) 传参为list</p>\n<p>父组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-01 14:05:17 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-01 14:16:08\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; reactive &#125; from &#39;vue&#39;;\nimport Menu from &#39;.&#x2F;menu&#x2F;index.vue&#39;\nimport Content from &#39;.&#x2F;content&#x2F;index.vue&#39;\nimport Header from &#39;.&#x2F;header&#x2F;index.vue&#39;\n\nlet list &#x3D; reactive([1, 2, 3, 4])\n\n\nconst getList &#x3D; (list: number[]) &#x3D;&gt; &#123;\n    console.log(list)\n&#125;\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;main&quot;&gt;\n        &lt;Menu title&#x3D;&quot;this is title&quot; :data&#x3D;&quot;list&quot;&gt;&lt;&#x2F;Menu&gt;\n        &lt;div class&#x3D;&quot;main-right&quot;&gt;\n            &lt;Header @on-click&#x3D;&quot;getList&quot;&gt;&lt;&#x2F;Header&gt;\n            &lt;Content&gt;&lt;&#x2F;Content&gt;\n        &lt;&#x2F;div&gt;\n\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n.main &#123;\n    display: flex;\n    overflow: hidden;\n\n    .menu &#123;\n        width: 200px;\n    &#125;\n\n    &amp;-right &#123;\n        flex: 1;\n        border: 1px solid blue;\n        display: flex;\n        flex-direction: column;\n    &#125;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>@on-click&#x3D;”getList” 触发事件接受数据</p>\n<p>![image-20220601142656647](E:\\kifFile\\study\\Vue3 + vite + Ts + pinia + 实战 + 源码 +全栈\\Vue3学习笔记.assets\\image-20220601142656647.png)</p>\n<h3 id=\"9-3-defineExpose\"><a href=\"#9-3-defineExpose\" class=\"headerlink\" title=\"9.3 defineExpose\"></a>9.3 defineExpose</h3><p>获取子组件实例</p>\n<p> 父组件引用子组件时使用标签 ref属性</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-01 14:05:17 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-01 14:38:34\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; reactive,ref &#125; from &#39;vue&#39;;\nimport Menu from &#39;.&#x2F;menu&#x2F;index.vue&#39;\nimport Content from &#39;.&#x2F;content&#x2F;index.vue&#39;\nimport Header from &#39;.&#x2F;header&#x2F;index.vue&#39;\n\nlet list &#x3D; reactive([1, 2, 3, 4])\n\nlet header &#x3D; ref(null)\nconst getList &#x3D; (list: number[]) &#x3D;&gt; &#123;\n    console.log(header.value)\n&#125;\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;main&quot;&gt;\n        &lt;Menu title&#x3D;&quot;this is title&quot; :data&#x3D;&quot;list&quot;&gt;&lt;&#x2F;Menu&gt;\n        &lt;div class&#x3D;&quot;main-right&quot;&gt;\n            &lt;Header ref&#x3D;&quot;header&quot; @on-click&#x3D;&quot;getList&quot;&gt;&lt;&#x2F;Header&gt;\n            &lt;Content&gt;&lt;&#x2F;Content&gt;\n        &lt;&#x2F;div&gt;\n\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n.main &#123;\n    display: flex;\n    overflow: hidden;\n\n    .menu &#123;\n        width: 200px;\n    &#125;\n\n    &amp;-right &#123;\n        flex: 1;\n        border: 1px solid blue;\n        display: flex;\n        flex-direction: column;\n    &#125;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"> <span class=\"token operator\">&lt;</span>Header ref<span class=\"token operator\">=</span><span class=\"token string\">\"header\"</span> @on<span class=\"token operator\">-</span>click<span class=\"token operator\">=</span><span class=\"token string\">\"getList\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Header<span class=\"token operator\">></span>\n <span class=\"token keyword\">let</span> header <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getList</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">list</span><span class=\"token operator\">:</span> number<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>header<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>![image-20220601144053146](E:\\kifFile\\study\\Vue3 + vite + Ts + pinia + 实战 + 源码 +全栈\\Vue3学习笔记.assets\\image-20220601144053146.png)</p>\n<p>此时还无法拿到</p>\n<p>子组件使用defineExpose暴露</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">defineExpose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n    list\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>![image-20220601144239332](E:\\kifFile\\study\\Vue3 + vite + Ts + pinia + 实战 + 源码 +全栈\\Vue3学习笔记.assets\\image-20220601144239332.png)</p>\n<p>即可拿到</p>\n<h2 id=\"10-组件\"><a href=\"#10-组件\" class=\"headerlink\" title=\"10.组件\"></a>10.组件</h2><h3 id=\"10-1全局组件\"><a href=\"#10-1全局组件\" class=\"headerlink\" title=\"10.1全局组件\"></a>10.1全局组件</h3><p>组件Card：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\ntype Porp &#x3D; &#123;\n    content?: string\n&#125;\n\n\ndefineProps&lt;Porp&gt;()\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;dvi class&#x3D;&quot;card&quot;&gt;\n        &lt;div class&#x3D;&quot;card-header&quot;&gt;\n            &lt;div class&#x3D;&quot;title&quot;&gt;\n                主标题\n            &lt;&#x2F;div&gt;\n            &lt;div class&#x3D;&quot;subtitle&quot;&gt;\n                副标题\n            &lt;&#x2F;div&gt;\n        &lt;&#x2F;div&gt;\n        &lt;div class&#x3D;&quot;cardcontent&quot;&gt;\n            &#123;&#123; content &#125;&#125;\n        &lt;&#x2F;div&gt;\n    &lt;&#x2F;dvi&gt;\n&lt;&#x2F;template&gt;\n&lt;style lang&#x3D;&quot;less&quot; scoped&gt;\n.crad&#123;\n    &amp;-header&#123;\n        display: flex;\n        justify-content: space-between;\n    &#125;\n    &amp;-content&#123;\n        padding: 20px;\n    &#125;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>注册：</p>\n<p>main.ts:</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> createApp <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">'./App.vue'</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./assets/css/reset.less'</span>\n<span class=\"token keyword\">import</span> card <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/card/index.vue'</span>\n<span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'card'</span><span class=\"token punctuation\">,</span>card<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#app'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>createApp(App).component(‘card’,card).mount(‘#app’)</p>\n<h3 id=\"10-2局部组件\"><a href=\"#10-2局部组件\" class=\"headerlink\" title=\"10.2局部组件\"></a>10.2局部组件</h3><p>引入：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> layout <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/layout/index.vue'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<h3 id=\"10-3-递归组件\"><a href=\"#10-3-递归组件\" class=\"headerlink\" title=\"10.3 递归组件\"></a>10.3 递归组件</h3><p>父组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-01 14:03:10 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-01 18:11:24\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport &#123; ref, reactive &#125; from &#39;vue&#39;\n\nimport Tree from &#39;..&#x2F;..&#x2F;Recursive-components&#x2F;index.vue&#39;\ntype Props &#x3D; &#123;\n    title: string,\n    name?: string,\n    data?: number[]\n&#125;\nwithDefaults(defineProps&lt;Props&gt;(), &#123;\n    name: &#39;kif&#39;,\n    data: () &#x3D;&gt; [1, 2, 3, 4]\n&#125;)\n\ntype treeList &#x3D; &#123;\n    name: string,\n    children?: treeList[]\n&#125;\nlet data &#x3D; reactive&lt;treeList[]&gt;([\n    &#123;\n        name: &#39;data-1&#39;,\n        children: [\n            &#123;\n                name: &#39;data-1-1&#39;,\n                children: [\n                    &#123;\n                        name: &#39;data-1-1-1&#39;\n                    &#125;\n                ]\n            &#125;\n        ]\n    &#125;,\n    &#123;\n        name: &#39;data-2&#39;,\n        children: [\n            &#123;\n                name: &#39;data-2-1&#39;\n            &#125;\n        ]\n    &#125;\n])\n\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;menu&quot;&gt;\n        menu\n        &lt;br &#x2F;&gt;\n        &#123;&#123; title &#125;&#125;\n        &lt;br &#x2F;&gt;\n        &#123;&#123; name &#125;&#125;\n        &lt;br &#x2F;&gt;\n        &lt;!-- &#123;&#123; data &#125;&#125; --&gt;\n        &lt;br &#x2F;&gt;\n        &lt;Tree :content&#x3D;&quot;data&quot;&gt;&lt;&#x2F;Tree&gt;\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style lang&#x3D;&#39;less&#39; scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>子组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n&#x2F;&#x2F; import itemTree from &#39;.&#x2F;index.vue&#39;\n\ntype treeList &#x3D; &#123;\n    name: string,\n    children?: treeList[]\n&#125;\ntype Porp &#x3D; &#123;\n    content?: treeList[]\n&#125;\ndefineProps&lt;Porp&gt;()\n\n\n&lt;&#x2F;script&gt;\n&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n    name: &#39;itemTree&#39;\n&#125;\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div :key&#x3D;&quot;index&quot; v-for&#x3D;&quot;(item, index) in content&quot;&gt;\n        &#123;&#123; item.name &#125;&#125;\n        &lt;itemTree v-if&#x3D;&quot;item?.children?.length&quot; :content&#x3D;&quot;item.children&quot;&gt;&lt;&#x2F;itemTree&gt;\n\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>主要在：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;itemTree v-if&#x3D;&quot;item?.children?.length&quot; :content&#x3D;&quot;item.children&quot;&gt;&lt;&#x2F;itemTree&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">&lt;script lang&#x3D;&quot;ts&quot;&gt;\nexport default &#123;\n    name: &#39;itemTree&#39;\n&#125;\n&lt;&#x2F;script&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n\n\n<h3 id=\"10-4-动态组件\"><a href=\"#10-4-动态组件\" class=\"headerlink\" title=\"10.4 动态组件\"></a>10.4 动态组件</h3><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;component :is&#x3D;&quot;Com&quot;&gt;&lt;&#x2F;component&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>根据Com动态加载不同Vue组件</p>\n<p>子组件A：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-06 13:53:55 \n * @Last Modified by:   kif kif101001000@163.com  \n * @Last Modified time: 2022-06-06 13:53:55 \n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\n        import &#123; ref &#125; from &#39;vue&#39;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\nAAAA\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>子组件B：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-06 13:54:05 \n * @Last Modified by:   kif kif101001000@163.com  \n * @Last Modified time: 2022-06-06 13:54:05 \n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\n        import &#123; ref &#125; from &#39;vue&#39;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\nBBB\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>主组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-01 14:05:22 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-01 16:55:22\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport &#123; ref, reactive,markRaw &#125; from &#39;vue&#39;\nimport A from &#39;.&#x2F;A.vue&#39;\nimport B from &#39;.&#x2F;B.vue&#39;\nimport C from &#39;.&#x2F;C.vue&#39;\n\ntype Tabs &#x3D; &#123;\n    title: string,\n    comName: any\n&#125;\ntype Com &#x3D; Pick&lt;Tabs, &#39;comName&#39;&gt;\n\nlet data &#x3D; reactive&lt;Tabs[]&gt;([\n    &#123;\n        title: &#39;A&#39;,\n        comName: markRaw(A)\n    &#125;,\n    &#123;\n        title: &#39;B&#39;,\n        comName: markRaw(B)\n    &#125;,\n    &#123;\n        title: &#39;C&#39;,\n        comName:markRaw(C)\n    &#125;\n])\n\n&#x2F;&#x2F; let surrentTab &#x3D; ref(data[tabIndex.value].comName)\nlet surrentTab &#x3D; reactive&lt;Com&gt;(&#123;\n    comName: data[0].comName\n&#125;)\n\nlet changeTab &#x3D; (index: number) &#x3D;&gt; &#123;\n    surrentTab.comName &#x3D; data[index].comName\n&#125;\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;content&quot;&gt;\n        content\n        &lt;div class&#x3D;&quot;Com&quot; v-for&#x3D;&quot;(item, index) in data&quot; :key&#x3D;&quot;item.title&quot;&gt;\n            &lt;button @click&#x3D;&quot;changeTab(index)&quot;&gt;&#123;&#123; item.title &#125;&#125;&lt;&#x2F;button&gt;\n        &lt;&#x2F;div&gt;\n\n        &lt;component :is&#x3D;&quot;surrentTab.comName&quot;&gt;&lt;&#x2F;component&gt;\n       \n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style  scoped&gt;\n.content &#123;\n    &#x2F;* height: 100px; *&#x2F;\n    flex: 1;\n    overflow: auto;\n    border: 2px solid green;\n    padding: 20px;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>解析：</p>\n<p>通过</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token constant\">A</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./A.vue'</span>\n<span class=\"token keyword\">import</span> <span class=\"token constant\">B</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./B.vue'</span>\n<span class=\"token keyword\">import</span> <span class=\"token constant\">C</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./C.vue'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>引入三个组件</p>\n<p>定义Tab类型：</p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">type Tabs &#x3D; &#123;\n    title: string,\n    comName: any\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>定义动态的data类型Tabs数组</p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">let data &#x3D; reactive&lt;Tabs[]&gt;([\n    &#123;\n        title: &#39;A&#39;,\n        comName: (A)\n    &#125;,\n    &#123;\n        title: &#39;B&#39;,\n        comName: (B)\n    &#125;,\n    &#123;\n        title: &#39;C&#39;,\n        comName:(C)\n    &#125;\n])<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>定义surrentTab，其默认值是data第一个元素的组件</p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">let surrentTab &#x3D; reactive&lt;Com&gt;(&#123;\n    comName: data[0].comName\n&#125;)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n\n\n\n\n<p>页面即引入动态组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;component :is&#x3D;&quot;surrentTab.comName&quot;&gt;&lt;&#x2F;component&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>通过事件动态改变组件加载：</p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">let changeTab &#x3D; (index: number) &#x3D;&gt; &#123;\n    surrentTab.comName &#x3D; data[index].comName\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>此时会有警告：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>[Vue warn]: Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with <code>markRaw</code> or using <code>shallowRef</code> instead of <code>ref</code>.  Component that was made reactive:  </p></blockquote>\n<p>原因是reactive会引用Porxy代理每个组件，但这里不会改变组件，所以需要取消Porxy代理</p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">let data &#x3D; reactive&lt;Tabs[]&gt;([\n    &#123;\n        title: &#39;A&#39;,\n        comName: markRaw(A)\n    &#125;,\n    &#123;\n        title: &#39;B&#39;,\n        comName: markRaw(B)\n    &#125;,\n    &#123;\n        title: &#39;C&#39;,\n        comName:markRaw(C)\n    &#125;\n])<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>markRow原理：实际上是给对象加上一个__v-skip属性并置为true，使其跳过代理</p></blockquote>\n<h2 id=\"11-插槽slot\"><a href=\"#11-插槽slot\" class=\"headerlink\" title=\"11.插槽slot\"></a>11.插槽slot</h2><h3 id=\"11-1-匿名插槽\"><a href=\"#11-1-匿名插槽\" class=\"headerlink\" title=\"11.1 匿名插槽\"></a>11.1 匿名插槽</h3><p>子组件留下的一个空，父组件可以在此填入东西</p>\n<p>父组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport child from &#39;.&#x2F;child.vue&#39;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n&lt;!-- kk --&gt;\n&lt;child&gt;\n    &lt;template v-slot&gt;\n        &lt;div class&#x3D;&quot;fu&quot;&gt;\n            父组件传过来的内容\n        &lt;&#x2F;div&gt;\n    &lt;&#x2F;template&gt;\n&lt;&#x2F;child&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>子组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;main&quot;&gt;\n        child\n        &lt;slot&gt;&lt;&#x2F;slot&gt;\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>子组件通过</p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">&lt;slot&gt;&lt;&#x2F;slot&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>做一个标记</p>\n<p>父子间在组件内容里通过v-slot插入内容</p>\n<h3 id=\"11-2-具名插槽\"><a href=\"#11-2-具名插槽\" class=\"headerlink\" title=\"11.2 具名插槽\"></a>11.2 具名插槽</h3><p>子组件slot使用name属性，父组件v-slot:name插入具体位置</p>\n<p>子组件</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-06 14:24:37 \n * @Last Modified by:   kif kif101001000@163.com  \n * @Last Modified time: 2022-06-06 14:24:37 \n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport &#123; ref &#125; from &#39;vue&#39;\n\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n   \n    &lt;div class&#x3D;&quot;footer&quot;&gt;\n        &lt;slot name&#x3D;&quot;footer&quot;&gt;&lt;&#x2F;slot&gt;\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>父组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-06 14:25:26 \n * @Last Modified by:   kif kif101001000@163.com  \n * @Last Modified time: 2022-06-06 14:25:26 \n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport child from &#39;.&#x2F;child.vue&#39;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n&lt;!-- kk --&gt;\n&lt;child&gt;\n  \n    &lt;template v-slot:footer&gt;\n        &lt;div class&#x3D;&quot;fu&quot;&gt;\n            父组件传过来的内容2\n        &lt;&#x2F;div&gt;\n    &lt;&#x2F;template&gt;\n&lt;&#x2F;child&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>v-slot:footer     可以简写为    #footer</p></blockquote>\n<h3 id=\"11-3-插槽作用域\"><a href=\"#11-3-插槽作用域\" class=\"headerlink\" title=\"11.3 插槽作用域\"></a>11.3 插槽作用域</h3><p>子组件 slot可以把子组件的数据暴露给父组件</p>\n<p>子组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-06 14:24:37 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-06 14:46:25\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; reactive &#125; from &#39;vue&#39;\n\ntype persion &#x3D; &#123;\n    name: string,\n    age: number\n&#125;\nlet data &#x3D; reactive&lt;persion[]&gt;([\n    &#123;\n        name: &#39;kif&#39;,\n        age: 18\n    &#125;,\n    &#123;\n        name: &#39;kif2&#39;,\n        age: 18\n    &#125;\n\n])\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;main&quot;&gt;\n        child\n        &lt;slot :data&#x3D;&quot;data&quot;&gt;&lt;&#x2F;slot&gt;\n    &lt;&#x2F;div&gt;\n\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;slot :data&#x3D;&quot;data&quot;&gt;&lt;&#x2F;slot&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>暴露data</p>\n<p>父组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-06 14:25:26 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-06 14:48:01\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport child from &#39;.&#x2F;child.vue&#39;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n&lt;!-- kk --&gt;\n&lt;child&gt;\n    &lt;template v-slot&#x3D;&quot;data&quot;&gt;\n        &lt;div class&#x3D;&quot;fu&quot;&gt;\n            父组件传过来的内容\n\n            子组件暴露的内容：\n            &#123;&#123;data&#125;&#125;\n        &lt;&#x2F;div&gt;\n    &lt;&#x2F;template&gt;\n\n&lt;&#x2F;child&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>v-slot&#x3D;”data” 可以简写为    #default&#x3D;“data”</p></blockquote>\n<h3 id=\"11-4-动态插槽\"><a href=\"#11-4-动态插槽\" class=\"headerlink\" title=\"11.4 动态插槽\"></a>11.4 动态插槽</h3><p>父组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-06 14:25:26 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-06 14:58:52\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport &#123; ref, reactive &#125; from &#39;vue&#39;\nimport child from &#39;.&#x2F;child.vue&#39;\nlet s &#x3D; ref(&#39;footer&#39;)\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n&lt;!-- kk --&gt;\n&lt;child&gt;\n   \n    &lt;template #[s]&gt;\n        &lt;div&gt;\n            位置\n        &lt;&#x2F;div&gt;\n    &lt;&#x2F;template&gt;\n&lt;&#x2F;child&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p> #[s]中 改变s值就可以动态插入</p>\n<h2 id=\"12-异步组件、代码分包、suspense\"><a href=\"#12-异步组件、代码分包、suspense\" class=\"headerlink\" title=\"12.异步组件、代码分包、suspense\"></a>12.异步组件、代码分包、suspense</h2><p>子组件需要异步操作（请求、加载图表）时，一般组件引入模式异步加载完不会显示相应数据，所以需要异步引入；</p>\n<p>其次，所有vue打包之后都会在一个js文件里面，这样首屏加载时间过长，因此需要分包；</p>\n<p>异步组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nlet getTest &#x3D; function () &#123;\n    return new Promise((resolve, reject) &#x3D;&gt; &#123;\n        setTimeout(() &#x3D;&gt; &#123;\n            resolve(&#123;\n                code: 0,\n                data: &#123;\n                    name: &#39;test&#39;\n                &#125;\n            &#125;)\n        &#125;, 2000)\n    &#125;)\n&#125;\n\nlet res &#x3D; await getTest()\nconsole.log(res)\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    异步组件：\n    &#123;&#123; res &#125;&#125;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>getTest函数在2秒后返回数据，此组件是一个异步组件；</p>\n<p>主组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-01 14:05:22 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-06 15:43:27\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\n import asyncCom from &#39;.&#x2F;asyncCom.vue&#39;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;content&quot;&gt;\n      &lt;asyncCom&gt;&lt;&#x2F;asyncCom&gt;\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style  scoped&gt;\n\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>此时通过  <code>import asyncCom from &#39;./asyncCom.vue&#39;</code>导入是无法显示数据的</p>\n<p>需要引入 <code>defineAsyncComponent</code></p>\n<h3 id=\"defineAsyncComponent\"><a href=\"#defineAsyncComponent\" class=\"headerlink\" title=\"defineAsyncComponent\"></a>defineAsyncComponent</h3><p>导入方式：</p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">import &#123; defineAsyncComponent &#125; from &#39;vue&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>引入组件：</p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">let asyncCom &#x3D; defineAsyncComponent(() &#x3D;&gt; import(&#39;.&#x2F;asyncCom.vue&#39;))<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<p>还需使用 <code>Suspense</code></p>\n<h3 id=\"Suspense\"><a href=\"#Suspense\" class=\"headerlink\" title=\"Suspense\"></a>Suspense</h3><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;Suspense&gt;\n            &lt;template #default&gt;\n                &lt;asyncCom&gt;&lt;&#x2F;asyncCom&gt;\n            &lt;&#x2F;template&gt;\n            &lt;template #fallback&gt;\n               &lt;div&gt; loading...&lt;&#x2F;div&gt;\n            &lt;&#x2F;template&gt;\n\n\n        &lt;&#x2F;Suspense&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>其中</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template #default&gt;\n                &lt;asyncCom&gt;&lt;&#x2F;asyncCom&gt;\n            &lt;&#x2F;template&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>用来包裹子组件</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;template #fallback&gt;\n              &lt;div&gt; loading...&lt;&#x2F;div&gt;\n           &lt;&#x2F;template&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>表示在未加载之前显示loading…</p>\n<h2 id=\"13-axios引入\"><a href=\"#13-axios引入\" class=\"headerlink\" title=\"13.axios引入\"></a>13.axios引入</h2><p>安装：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">npm install axios -S    <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<p>request.ts</p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">\nimport axios from &#39;axios&#39;\n&#x2F;&#x2F; import &#123; ElMessage  &#125; from &#39;element-plus&#39;\n&#x2F;&#x2F; import &#123; getToken &#125; from &#39;@&#x2F;utils&#x2F;auth&#39;\n\n\nexport const request &#x3D; (options: any) &#x3D;&gt; &#123;\n    return new Promise((resolve, reject) &#x3D;&gt; &#123;\n\n        &#x2F;&#x2F; create an axios instance\n        const service &#x3D; axios.create(&#123;\n            &#x2F;&#x2F; baseURL: process.env.BASE_API, &#x2F;&#x2F; api 的 base_url\n            baseURL: &#39;&#x2F;api&#39;,\n            timeout: 80000 &#x2F;&#x2F; request timeout\n        &#125;)\n\n        &#x2F;&#x2F; request interceptor\n        service.interceptors.request.use(\n            (config: any) &#x3D;&gt; &#123;\n                let token: string &#x3D; &#39;&#39;&#x2F;&#x2F;此处换成自己获取回来的token，通常存在在cookie或者store里面\n                if (token) &#123;\n                    &#x2F;&#x2F; 让每个请求携带token-- [&#39;X-Token&#39;]为自定义key 请根据实际情况自行修改\n                    config.headers[&#39;X-Token&#39;] &#x3D; token\n\n                    config.headers.Authorization &#x3D; + token\n                &#125;\n                return config\n            &#125;,\n            error &#x3D;&gt; &#123;\n                &#x2F;&#x2F; Do something with request error\n                console.log(&quot;出错啦&quot;, error) &#x2F;&#x2F; for debug\n                Promise.reject(error)\n            &#125;\n        )\n\n        &#x2F;&#x2F; response interceptor\n        service.interceptors.response.use(\n            (response: any) &#x3D;&gt; &#123;\n                return response.data\n            &#125;,\n            error &#x3D;&gt; &#123;\n                console.log(&#39;err&#39; + error) &#x2F;&#x2F; for debug\n                if (error.response.status &#x3D;&#x3D; 403) &#123;\n                    console.error(&#39;错了&#39;)\n                &#125; else &#123;\n                    console.error(&#39;服务器请求错误，请稍后再试&#39;)\n                &#125;\n                return Promise.reject(error)\n            &#125;\n        )\n        &#x2F;&#x2F; 请求处理\n        service(options)\n            .then((res) &#x3D;&gt; &#123;\n                resolve(res)\n            &#125;)\n            .catch((error) &#x3D;&gt; &#123;\n                reject(error)\n            &#125;)\n    &#125;)\n&#125;\n\n\nexport default request<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>调用：</p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">import &#123;request&#125; from &#39;@&#x2F;utils&#x2F;request&#39;\n \n&#x2F;&#x2F; 调用测试\nexport function getTest() &#123;\n    return request(&#123;\n      url: &#39;&#x2F;xxxxx&#x2F;&#39;,&#x2F;&#x2F;此处为自己请求地址\n      method: &#39;get&#39;\n    &#125;)\n  &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">import &#123; getTest&#125; from &quot;@&#x2F;service&#x2F;test&quot;;\n   onBeforeMount(() &#x3D;&gt; &#123;\n        getTest()\n          .then(response &#x3D;&gt; &#123;\n            console.log(&quot;结果&quot;, response);\n          &#125;)\n          .catch(error &#x3D;&gt; &#123;\n            console.log(&#39;获取失败！&#39;)\n          &#125;);\n    &#125;)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n\n\n<h2 id=\"14-teleport\"><a href=\"#14-teleport\" class=\"headerlink\" title=\"14.teleport\"></a>14.teleport</h2><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-07 15:42:12 \n * @Last Modified by:   kif kif101001000@163.com  \n * @Last Modified time: 2022-06-07 15:42:12 \n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\n\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;main&quot;&gt;\\\n        &lt;teleport to&#x3D;&#39;html&#39;&gt;\n            &lt;div class&#x3D;&quot;te&quot;&gt;\n                loading\n            &lt;&#x2F;div&gt;\n        &lt;&#x2F;teleport&gt;\n    &lt;&#x2F;div&gt;\n\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code> &lt;teleport to=&#39;html&#39;&gt;</code>表示这个内容在html下方，则main的样式不会对te生效</p>\n<p><strong>注意:main 元素v-show不会对te影响，但v-if会影响</strong></p>\n<h2 id=\"15-keep-alive\"><a href=\"#15-keep-alive\" class=\"headerlink\" title=\"15.keep-alive\"></a>15.keep-alive</h2><p>v-if切换一般会销毁组件，keepalive可以保存组件状态</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-07 15:51:23 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-07 16:02:10\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport &#123; ref, reactive, markRaw, defineAsyncComponent &#125; from &#39;vue&#39;\nimport login from &#39;.&#x2F;login.vue&#39;\nimport register from &#39;.&#x2F;register.vue&#39;\nlet flag &#x3D; ref(false)\nconst change &#x3D; () &#x3D;&gt; &#123;\n    flag.value &#x3D; !flag.value\n&#125;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    keepalive\n    &lt;button @click&#x3D;&quot;change&quot;&gt;toggle&lt;&#x2F;button&gt;\n    &lt;keep-alive&gt;\n        &lt;login v-if&#x3D;&quot;flag&quot;&gt;&lt;&#x2F;login&gt;\n        &lt;register v-else&gt;&lt;&#x2F;register&gt;\n    &lt;&#x2F;keep-alive&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h2 id=\"16-依赖注入Provide、inject\"><a href=\"#16-依赖注入Provide、inject\" class=\"headerlink\" title=\"16.依赖注入Provide、inject\"></a>16.依赖注入Provide、inject</h2><p>导入：</p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">import &#123;provide, inject&#125; from &#39;vue&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>根组件注入数据后，所有子组件都可以访问到</p>\n<p><code>provide(&#39;data&#39;, data)</code></p>\n<p>函数两个参数值：键，值</p>\n<p>father.vue</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-07 17:03:11 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-07 17:36:55\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport &#123;provide, inject,reactive&#125; from &#39;vue&#39;\nimport child1 from &#39;.&#x2F;child1.vue&#39;\n\nlet data &#x3D;reactive(&#123;\n    name: &#39;kif&#39;\n&#125;)\nprovide(&#39;data&#39;, data)\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;main&quot;&gt;\n\n        main\n        根组件数据：&#123;&#123;data&#125;&#125;\n        &lt;div class&#x3D;&quot;child1&quot;&gt;\n            &lt;child1 &#x2F;&gt;\n\n        &lt;&#x2F;div&gt;\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n.main &#123;\n    background-color: blueviolet;\n    width: 300px;\n    height: 300px;\n&#125;\n\n.child1 &#123;\n    background-color: green;\n    width: 200px;\n    height: 200px;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>child1.vue</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-07 17:03:25 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-07 17:38:49\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport child2 from &#39;.&#x2F;child2.vue&#39;\nimport &#123; provide, inject, reactive &#125; from &#39;vue&#39;\n&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-07 17:03:25 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-07 17:38:49\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport child2 from &#39;.&#x2F;child2.vue&#39;\nimport &#123; provide, inject, reactive &#125; from &#39;vue&#39;\nlet d &#x3D; inject(&#39;data&#39;, reactive(&#123;\n    name: &#39;kif&#39;\n&#125;))\nconst change &#x3D; () &#x3D;&gt; &#123;\n    d.name &#x3D; &#39;kif1&#39;\n&#125;\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;child&quot;&gt;\n        child1\n        一级子组件拿到数据：&#123;&#123; d &#125;&#125;\n        &lt;button @click&#x3D;&quot;change&quot;&gt;change&lt;&#x2F;button&gt;\n        &lt;div class&#x3D;&quot;child2&quot;&gt;\n            &lt;child2 &#x2F;&gt;\n        &lt;&#x2F;div&gt;\n    &lt;&#x2F;div&gt;\n\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n.child2 &#123;\n    background-color: red;\n    width: 100px;\n    height: 100px;\n&#125;\n&lt;&#x2F;style&gt;\nconst change &#x3D; () &#x3D;&gt; &#123;\n    d.name &#x3D; &#39;kif1&#39;\n&#125;\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;child&quot;&gt;\n        child1\n        一级子组件拿到数据：&#123;&#123; d &#125;&#125;\n        &lt;button @click&#x3D;&quot;change&quot;&gt;change&lt;&#x2F;button&gt;\n        &lt;div class&#x3D;&quot;child2&quot;&gt;\n            &lt;child2 &#x2F;&gt;\n        &lt;&#x2F;div&gt;\n    &lt;&#x2F;div&gt;\n\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n.child2 &#123;\n    background-color: red;\n    width: 100px;\n    height: 100px;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">let d &#x3D; inject(&#39;data&#39;, reactive(&#123;\n    name: &#39;kif&#39;\n&#125;))<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>第二个参数是指定默认值，否则 <code>d.name </code>无法识别，d类型为unknoum</p>\n<p>修改时所有界面的数据都会更改</p>\n<p> child2.vue</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-07 17:03:37 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-07 17:06:50\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n&lt;&#x2F;script&gt;\n&lt;template&gt;\n&lt;div class&#x3D;&quot;child&quot;&gt;\n    child2\n&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h2 id=\"17-兄弟组件传参\"><a href=\"#17-兄弟组件传参\" class=\"headerlink\" title=\"17.兄弟组件传参\"></a>17.兄弟组件传参</h2><h3 id=\"17-1-借助父组件\"><a href=\"#17-1-借助父组件\" class=\"headerlink\" title=\"17.1 借助父组件\"></a>17.1 借助父组件</h3><p>父组件：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport child1 from &#39;.&#x2F;child1.vue&#39;\nimport child2 from &#39;.&#x2F;child2.vue&#39;\nimport &#123;ref &#125; from &#39;vue&#39;\n\nlet dataD &#x3D;ref(false)\n\nconst getData&#x3D;(data:boolean)&#x3D;&gt;&#123;\n    dataD.value&#x3D; data\n    console.log(dataD)\n&#125;\n\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    &lt;div class&#x3D;&quot;index&quot;&gt;\n        index:\n      \n        &#123;&#123;dataD&#125;&#125;\n    &lt;&#x2F;div&gt;\n\n\n    &lt;div class&#x3D;&quot;child1&quot;&gt;\n        child1：\n        &lt;child1  @on-click&#x3D;&#39;getData&#39; &#x2F;&gt;\n    &lt;&#x2F;div&gt;\n    &lt;div class&#x3D;&quot;child2&quot;&gt;\n        child2：\n        &lt;child2 :data&#x3D;&quot;dataD&quot; &#x2F;&gt;\n    &lt;&#x2F;div&gt;\n\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n.index&#123;\n    background-color: blueviolet;\n    width: 300px;\n    height: 300px;\n    border: 1px solid red;\n&#125;\n.child1&#123;\n    background-color: green;\n    width: 200px;\n    height: 200px;\n    border: 1px solid red;\n    float:left;\n&#125;\n.child2&#123;\n    background-color: blue;\n    width: 200px;\n    height: 200px;\n    border: 1px solid red;\n    float:left;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>子组件1：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport &#123; reactive, ref, watch &#125; from &#39;vue&#39;\nlet data &#x3D;ref(false)\n\nconst emit &#x3D; defineEmits([&#39;on-click&#39;])\n\n\nconst bu &#x3D; () &#x3D;&gt; &#123;\n    data.value &#x3D; !data.value\n    emit(&#39;on-click&#39;, data)\n&#125;\n\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    child1\n    &lt;div class&#x3D;&quot;main&quot;&gt;\n        &lt;button @click&#x3D;&quot;bu&quot;&gt;\n            派发\n        &lt;&#x2F;button&gt;\n        &#123;&#123;data&#125;&#125;\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>子组件2：</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\ntype props &#x3D; &#123;\n    data: boolean\n&#125;\ndefineProps&lt;props&gt;()\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    child2\n    &#123;&#123; data &#125;&#125;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>子组件1 通过emits 将数据给到父组件，父组件接收后给到子组件2，子组件2 通过props接受</p>\n<h3 id=\"17-2-eventbus\"><a href=\"#17-2-eventbus\" class=\"headerlink\" title=\"17.2 eventbus\"></a>17.2 eventbus</h3><pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-09 11:38:25 \n * @Last Modified by:   kif kif101001000@163.com  \n * @Last Modified time: 2022-06-09 11:38:25 \n *&#x2F;\ntype BusClass &#x3D; &#123;\n    emit: (name: string) &#x3D;&gt; void,\n    on: (name: string, callback: Function) &#x3D;&gt; void,\n&#125;\n\ntype PramsKey &#x3D; string | number | symbol;\ntype List &#x3D; &#123; [key: PramsKey]: Array&lt;Function&gt; &#125;;\nclass Bus implements BusClass &#123;\n    list: List\n    constructor() &#123;\n        this.list &#x3D; &#123;&#125;;\n        console.log(&#39;bus created&#39;)\n    &#125;\n    emit(name: string, ...args: Array&lt;any&gt;) &#123;\n        console.log(&#96;emit $&#123;name&#125;&#96;)\n        let emitName: Array&lt;Function&gt; &#x3D; this.list[name]\n        emitName.forEach(fn &#x3D;&gt; &#123;\n            fn.apply(this,args)\n        &#125;)\n    &#125;\n    on(name: string, callback: Function) &#123;\n        console.log(&#96;on $&#123;name&#125;&#96;)\n        let fun: Array&lt;Function&gt;  &#x3D; this.list[name] || []\n        fun.push(callback)\n        this.list[name] &#x3D; fun\n\n    &#125;\n&#125;\nexport default new Bus()<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>index.vue</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\n\nimport A from &#39;.&#x2F;a.vue&#39;\nimport B from &#39;.&#x2F;b.vue&#39;\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    eventBus\n    &lt;div class&#x3D;&quot;a&quot;&gt;\n        &lt;A &#x2F;&gt;\n    &lt;&#x2F;div&gt;\n    &lt;div class&#x3D;&quot;b&quot;&gt;\n        &lt;B &#x2F;&gt;\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n.a &#123;\n    background-color: red;\n    width: 100px;\n    height: 100px;\n    border: 1pxx solid red;\n&#125;\n\n.b &#123;\n    background-color: blue;\n    width: 100px;\n    height: 100px;\n    border: 1pxx solid blue;\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>a.vue:</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-09 11:37:57 \n * @Last Modified by:   kif kif101001000@163.com  \n * @Last Modified time: 2022-06-09 11:37:57 \n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport Bus from &#39;..&#x2F;..&#x2F;bus&#39;\nimport &#123; ref &#125; from &#39;vue&#39;\n\n\n\n\nlet Flag &#x3D; (false)\n const emit &#x3D; () &#x3D;&gt; &#123;\n     Flag &#x3D; !Flag\n     Bus.emit(&#39;on-click&#39;, Flag)\n &#125;\n\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    A\n    &lt;div class&#x3D;&quot;main&quot;&gt;\n        &lt;button @click&#x3D;&quot;emit&quot;&gt;click&lt;&#x2F;button&gt;\n        &#123;&#123; Flag &#125;&#125;\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>b.vue:</p>\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-09 11:39:33 \n * @Last Modified by:   kif kif101001000@163.com  \n * @Last Modified time: 2022-06-09 11:39:33 \n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport Bus from &#39;..&#x2F;..&#x2F;bus&#39;\n\n\nimport &#123; ref &#125; from &#39;vue&#39;\nlet Flag &#x3D; ref(false)\nBus.on(&#39;on-click&#39;, (flag: boolean) &#x3D;&gt; &#123;\n    Flag.value &#x3D; flag\n&#125;)\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    B\n    &#123;&#123;Flag&#125;&#125;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"17-3-mitt\"><a href=\"#17-3-mitt\" class=\"headerlink\" title=\"17.3 mitt\"></a>17.3 mitt</h3><h4 id=\"安装：\"><a href=\"#安装：\" class=\"headerlink\" title=\"安装：\"></a>安装：</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">npm install --save mitt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"全局注册：main-ts\"><a href=\"#全局注册：main-ts\" class=\"headerlink\" title=\"全局注册：main.ts\"></a>全局注册：main.ts</h4><pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">import &#123; createApp &#125; from &#39;vue&#39;\nimport App from &#39;.&#x2F;App.vue&#39;\nimport &#39;.&#x2F;assets&#x2F;css&#x2F;reset.less&#39;\nimport card from &#39;.&#x2F;components&#x2F;card&#x2F;index.vue&#39;\n\nimport mitt from &#39;mitt&#39;\nconst Mit &#x3D; mitt()\n\nconst app &#x3D; createApp(App)\ndeclare module &#39;vue&#39; &#123;\n    export interface ComponentCustomProps &#123;\n        $Bus: typeof Mit\n    &#125;\n&#125;\napp.config.globalProperties.$Bus &#x3D; Mit\n\napp.component(&#39;card&#39;, card).mount(&#39;#app&#39;)\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"使用：\"><a href=\"#使用：\" class=\"headerlink\" title=\"使用：\"></a>使用：</h4><h5 id=\"emit\"><a href=\"#emit\" class=\"headerlink\" title=\"emit:\"></a>emit:</h5><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-09 11:37:57 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-09 11:40:50\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport Bus from &#39;..&#x2F;..&#x2F;bus&#39;\nimport &#123; ref &#125; from &#39;vue&#39;\n\nimport &#123; getCurrentInstance &#125; from &#39;vue&#39;\nconst instance &#x3D; getCurrentInstance()\n\n\nlet Flag &#x3D; (false)\n&#x2F;&#x2F; const emit &#x3D; () &#x3D;&gt; &#123;\n&#x2F;&#x2F;     Flag &#x3D; !Flag\n&#x2F;&#x2F;     Bus.emit(&#39;on-click&#39;, Flag)\n&#x2F;&#x2F; &#125;\n\n\n\nconst emit\n    &#x3D; () &#x3D;&gt; &#123;\n        instance?.proxy?.$Bus.emit(&#39;on-click&#39;, Flag)\n    &#125;\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    A\n    &lt;div class&#x3D;&quot;main&quot;&gt;\n        &lt;button @click&#x3D;&quot;emit&quot;&gt;click&lt;&#x2F;button&gt;\n        &#123;&#123; Flag &#125;&#125;\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&#x2F;*\n * @Author: kif kif101001000@163.com \n * @Date: 2022-06-09 11:39:33 \n * @Last Modified by: kif kif101001000@163.com \n * @Last Modified time: 2022-06-09 11:41:30\n *&#x2F;\n&lt;script setup lang&#x3D;&quot;ts&quot;&gt;\nimport Bus from &#39;..&#x2F;..&#x2F;bus&#39;\nimport &#123; ref &#125; from &#39;vue&#39;\nimport &#123; getCurrentInstance &#125; from &#39;vue&#39;\nconst instance &#x3D; getCurrentInstance()\n\ninstance?.proxy?.$Bus.on(&#39;on-click&#39;, (flag:boolean) &#x3D;&gt; &#123;\n    console.log(flag)\n&#125;)\n\nlet Flag &#x3D; ref(false)\n&#x2F;&#x2F; Bus.on(&#39;on-click&#39;, (flag: boolean) &#x3D;&gt; &#123;\n&#x2F;&#x2F;     Flag.value &#x3D; flag\n&#x2F;&#x2F; &#125;)\n\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n    B\n    &#123;&#123;Flag&#125;&#125;\n&lt;&#x2F;template&gt;\n&lt;style scoped&gt;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h2 id=\"18-unplugin-auto-import\"><a href=\"#18-unplugin-auto-import\" class=\"headerlink\" title=\"18.unplugin-auto-import\"></a>18.unplugin-auto-import</h2><p>github地址：</p>\n<p><a href=\"https://github.com/antfu/unplugin-auto-import\">https://github.com/antfu/unplugin-auto-import</a></p>\n<p>可以避免重复引用ref，reactive等多次导入</p>\n<p>安装：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">npm i -D unplugin-auto-import<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>vite.config.ts编辑：</p>\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">import &#123; defineConfig &#125; from &#39;vite&#39;\nimport vue from &#39;@vitejs&#x2F;plugin-vue&#39;\n\nimport autoimport from &#39;unplugin-auto-import&#x2F;vite&#39;\n\n\n&#x2F;&#x2F; https:&#x2F;&#x2F;vitejs.dev&#x2F;config&#x2F;\nexport default defineConfig(&#123;\n  plugins: [vue(), autoimport(&#123;\n    &#x2F;&#x2F; 允许自动导入\n    imports: [&#39;vue&#39;],\n    dts:&#39;src&#x2F;autoimport.d.ts&#39;,\n  &#125;)]\n&#125;)\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>src目录下就会生成 autoimport.d.ts</p>\n","text":"Vue31.Vite搭建Vue3项目全局安装 Vitenpm install -g create-vite-app 使用 Vite 创建 Vue3 项目create-vite-app vue3-vite 可以发现瞬间创建完成。 运行cd vue3-vite npm install...","link":"","photos":[],"count_time":{"symbolsCount":"67k","symbolsTime":"1:01"},"categories":[{"name":"学习笔记","slug":"学习笔记","count":23,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"Axios","slug":"Axios","count":3,"path":"api/tags/Axios.json"},{"name":"vue3","slug":"vue3","count":2,"path":"api/tags/vue3.json"},{"name":"vite","slug":"vite","count":2,"path":"api/tags/vite.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Vue3\"><span class=\"toc-text\">Vue3</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-Vite%E6%90%AD%E5%BB%BAVue3%E9%A1%B9%E7%9B%AE\"><span class=\"toc-text\">1.Vite搭建Vue3项目</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85-Vite\"><span class=\"toc-text\">全局安装 Vite</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8-Vite-%E5%88%9B%E5%BB%BA-Vue3-%E9%A1%B9%E7%9B%AE\"><span class=\"toc-text\">使用 Vite 创建 Vue3 项目</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%BF%90%E8%A1%8C\"><span class=\"toc-text\">运行</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#vite\"><span class=\"toc-text\">vite</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E4%BB%8EVUE2%E5%88%B0VUE3\"><span class=\"toc-text\">2.从VUE2到VUE3</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%96%B0%E7%89%B9%E6%80%A7\"><span class=\"toc-text\">新特性</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Composition-API\"><span class=\"toc-text\">Composition API</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E5%8D%95%E5%80%BC%E5%8F%98%E9%87%8F-ref\"><span class=\"toc-text\">单值变量 ref()</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E5%85%83%E7%B4%A0%E5%BC%95%E7%94%A8\"><span class=\"toc-text\">元素引用</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Teleport\"><span class=\"toc-text\">Teleport</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Emits-Components-Option\"><span class=\"toc-text\">Emits Components Option</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%80%BC%E5%BE%97%E6%B3%A8%E6%84%8F%E7%9A%84%E6%96%B0%E7%89%B9%E6%80%A7\"><span class=\"toc-text\">值得注意的新特性</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%87%8D%E5%86%99%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A\"><span class=\"toc-text\">重写双向绑定</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BC%98%E5%8C%96Vdom\"><span class=\"toc-text\">优化Vdom</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#fragment\"><span class=\"toc-text\">fragment</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Tree-shaking\"><span class=\"toc-text\">Tree shaking</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#vue%E6%8C%87%E4%BB%A4%E8%A1%A5%E5%85%85\"><span class=\"toc-text\">vue指令补充</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-ref\"><span class=\"toc-text\">3.ref</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-1-ref\"><span class=\"toc-text\">3.1 ref</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-2-isref\"><span class=\"toc-text\">3.2 isref</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-3-shallowRef%EF%BC%8CtriggerRef\"><span class=\"toc-text\">3.3 shallowRef，triggerRef</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-4-customRef\"><span class=\"toc-text\">3.4 customRef</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-reactive\"><span class=\"toc-text\">4.reactive</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-1-reactive\"><span class=\"toc-text\">4.1 reactive</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-2-readonly\"><span class=\"toc-text\">4.2 readonly</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-3-shallowReactive\"><span class=\"toc-text\">4.3 shallowReactive</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5-to\"><span class=\"toc-text\">5.to</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-1-toRef\"><span class=\"toc-text\">5.1 toRef</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-2-torefs\"><span class=\"toc-text\">5.2 torefs</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-3-toRaw\"><span class=\"toc-text\">5.3 toRaw</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7-computed\"><span class=\"toc-text\">6.计算属性 computed</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-6\"><a class=\"toc-link\" href=\"#%E6%A1%88%E4%BE%8B%EF%BC%9A%E8%B4%AD%E7%89%A9%E8%BD%A6\"><span class=\"toc-text\">案例：购物车</span></a></li></ol></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#7-%E7%9B%91%E5%90%AC%E5%B1%9E%E6%80%A7-watch\"><span class=\"toc-text\">7.监听属性 watch</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#8-%E7%BB%84%E4%BB%B6%E5%92%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F\"><span class=\"toc-text\">8.组件和生命周期</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#8-1%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">8.1组件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#8-2%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F\"><span class=\"toc-text\">8.2组件生命周期</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-2-1-onBrforeMount\"><span class=\"toc-text\">8.2.1 onBrforeMount</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-2-2-onMounted\"><span class=\"toc-text\">8.2.2 onMounted</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-2-3-onBeforeUpdate\"><span class=\"toc-text\">8.2.3 onBeforeUpdate</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-2-4-onUpdated\"><span class=\"toc-text\">8.2.4 onUpdated</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-2-5-onbeforeUnmount\"><span class=\"toc-text\">8.2.5 onbeforeUnmount</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-2-6-onUnmount\"><span class=\"toc-text\">8.2.6 onUnmount</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#9-%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%80%BC\"><span class=\"toc-text\">9.组件传值</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-6\"><a class=\"toc-link\" href=\"#%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%B8%B8%E8%A7%84%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80\"><span class=\"toc-text\">案例：常规页面布局</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#9-1-defineProps\"><span class=\"toc-text\">9.1 defineProps</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%AE%80%E5%8D%95%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">简单数据类型</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%A4%8D%E6%9D%82%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">复杂数据类型</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%8F%AF%E9%80%89%E5%80%BC%E9%BB%98%E8%AE%A4%E5%80%BC\"><span class=\"toc-text\">可选值默认值</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#9-2-defineEmits\"><span class=\"toc-text\">9.2 defineEmits</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#9-3-defineExpose\"><span class=\"toc-text\">9.3 defineExpose</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#10-%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">10.组件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#10-1%E5%85%A8%E5%B1%80%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">10.1全局组件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#10-2%E5%B1%80%E9%83%A8%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">10.2局部组件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#10-3-%E9%80%92%E5%BD%92%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">10.3 递归组件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#10-4-%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">10.4 动态组件</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#11-%E6%8F%92%E6%A7%BDslot\"><span class=\"toc-text\">11.插槽slot</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#11-1-%E5%8C%BF%E5%90%8D%E6%8F%92%E6%A7%BD\"><span class=\"toc-text\">11.1 匿名插槽</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#11-2-%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD\"><span class=\"toc-text\">11.2 具名插槽</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#11-3-%E6%8F%92%E6%A7%BD%E4%BD%9C%E7%94%A8%E5%9F%9F\"><span class=\"toc-text\">11.3 插槽作用域</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#11-4-%E5%8A%A8%E6%80%81%E6%8F%92%E6%A7%BD\"><span class=\"toc-text\">11.4 动态插槽</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#12-%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6%E3%80%81%E4%BB%A3%E7%A0%81%E5%88%86%E5%8C%85%E3%80%81suspense\"><span class=\"toc-text\">12.异步组件、代码分包、suspense</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#defineAsyncComponent\"><span class=\"toc-text\">defineAsyncComponent</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Suspense\"><span class=\"toc-text\">Suspense</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#13-axios%E5%BC%95%E5%85%A5\"><span class=\"toc-text\">13.axios引入</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#14-teleport\"><span class=\"toc-text\">14.teleport</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#15-keep-alive\"><span class=\"toc-text\">15.keep-alive</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#16-%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5Provide%E3%80%81inject\"><span class=\"toc-text\">16.依赖注入Provide、inject</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#17-%E5%85%84%E5%BC%9F%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%8F%82\"><span class=\"toc-text\">17.兄弟组件传参</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#17-1-%E5%80%9F%E5%8A%A9%E7%88%B6%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">17.1 借助父组件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#17-2-eventbus\"><span class=\"toc-text\">17.2 eventbus</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#17-3-mitt\"><span class=\"toc-text\">17.3 mitt</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%EF%BC%9A\"><span class=\"toc-text\">安装：</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%85%A8%E5%B1%80%E6%B3%A8%E5%86%8C%EF%BC%9Amain-ts\"><span class=\"toc-text\">全局注册：main.ts</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%EF%BC%9A\"><span class=\"toc-text\">使用：</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#emit\"><span class=\"toc-text\">emit:</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#18-unplugin-auto-import\"><span class=\"toc-text\">18.unplugin-auto-import</span></a></li></ol></li></ol>","author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Leetcode每日一题","uid":"78ea3e6eb6851aa90f2a1c7bbb16d0b5","slug":"Leetcode每日一题","date":"2022-04-27T09:33:00.000Z","updated":"2022-05-22T13:08:13.483Z","comments":true,"path":"api/articles/Leetcode每日一题.json","keywords":null,"cover":"https://kifimg.oss-cn-beijing.aliyuncs.com/project/202204271735838.png","text":" ## title: ### time: ### link: ### code: title:464. 我能赢吗time:5.22code:func canIWin(maxChoosableInteger, desiredTotal int) bool &#123; if (1+...","link":"","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[],"tags":[{"name":"leetcode","slug":"leetcode","count":1,"path":"api/tags/leetcode.json"}],"author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}}},"next_post":{"title":"webpack学习笔记","uid":"4524d999cf615adfc697a0734aafb525","slug":"webpack学习笔记","date":"2022-04-02T07:36:00.000Z","updated":"2022-04-29T10:53:22.954Z","comments":true,"path":"api/articles/webpack学习笔记.json","keywords":null,"cover":"https://kifimg.oss-cn-beijing.aliyuncs.com/project/202204241829561.jpg","text":"学习中。。。 webpack为什么需要Webpack原始开发模式各种js文件引入，顺序不能乱，引入的数据太大，各种js之间有关联，可以考虑所有文件复制到一个js文件里，但又有作用域问题、文件太大、可维护性差 作用域问题：grunt和gulp两个工具来解决 方法：立即执行函数 ; ...","link":"","photos":[],"count_time":{"symbolsCount":"6k","symbolsTime":"5 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":23,"path":"api/categories/学习笔记.json"},{"name":"前端","slug":"学习笔记/前端","count":3,"path":"api/categories/学习笔记/前端.json"}],"tags":[{"name":"webpack","slug":"webpack","count":1,"path":"api/tags/webpack.json"}],"author":{"name":"kif","slug":"blog-author","avatar":"https://kifimg.oss-cn-beijing.aliyuncs.com/imgforteachingdemo/20201127203438.png","link":"/","description":"时间再拉长一点，让我有时间收拾一下心情","socials":{"github":"https://github.com/wkif","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_54739682?type=blog","juejin":"","customs":{}}}}}